# **–ì–ª–∞–≤–∞ 1. –û—Ç–∫—Ä—ã—Ç—ã–µ –î–≤–µ—Ä–∏ –ó–∞–º–∫–∞ –∏ –í–æ–ª—à–µ–±–Ω—ã–µ –ö–ª—é—á–∏** üè∞üîë

–í –æ–¥–Ω–æ–º —É—é—Ç–Ω–æ–º –ª–µ—Å—É, –≤ —Å–∞–º–æ–º –µ–≥–æ —Å–µ—Ä–¥—Ü–µ, —Å—Ç–æ—è–ª –±–æ–ª—å—à–æ–π –∏ —É—é—Ç–Ω—ã–π –ó–∞–º–æ–∫ –î–∞–Ω–Ω—ã—Ö. –ï–≥–æ —Ö—Ä–∞–Ω–∏—Ç–µ–ª–µ–º –±—ã–ª –º—É–¥—Ä—ã–π –ú–µ–¥–≤–µ–¥—å Django üêª. –í –∑–∞–º–∫–µ –±—ã–ª–∏ –±–µ—Å—Ü–µ–Ω–Ω—ã–µ —Å–æ–∫—Ä–æ–≤–∏—â–∞: –∞–ª—å–±–æ–º—ã —Å –≤–æ—Å–ø–æ–º–∏–Ω–∞–Ω–∏—è–º–∏ (—Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—è–º–∏) üì∏, —Å–ø–∏—Å–∫–∏ —Å–∞–º—ã—Ö —Å–ª–∞–¥–∫–∏—Ö –º–µ—Å—Ç (–±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö) üóÑÔ∏è –∏ –ª–∏—á–Ω—ã–µ –¥–Ω–µ–≤–Ω–∏–∫–∏ –∂–∏—Ç–µ–ª–µ–π –ª–µ—Å–∞ (–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ) üìì.

–û–¥–Ω–∞–∂–¥—ã –í–∏–Ω–Ω–∏-–ü—É—Ö, –±–æ–ª—å—à–æ–π –ª—é–±–∏—Ç–µ–ª—å –º—ë–¥–∞ –∏ –ø—Ä–∏–∫–ª—é—á–µ–Ω–∏–π, —Ä–µ—à–∏–ª –Ω–∞–≤–µ—Å—Ç–∏—Ç—å –ú–µ–¥–≤–µ–¥—è. –ù–æ, –ø–æ–¥–æ–π–¥—è –∫ –∑–∞–º–∫—É, –æ–Ω —É–¥–∏–≤–∏–ª—Å—è: –æ–≥—Ä–æ–º–Ω—ã–µ –¥—É–±–æ–≤—ã–µ –≤–æ—Ä–æ—Ç–∞ –±—ã–ª–∏ —Ä–∞—Å–ø–∞—Ö–Ω—É—Ç—ã –Ω–∞—Å—Ç–µ–∂—å! üö™

‚Äî –•–µ–π-—Ö–æ! ‚Äî –∫—Ä–∏–∫–Ω—É–ª –ü—É—Ö. ‚Äî –ó–¥–µ—Å—å –∫—Ç–æ-–Ω–∏–±—É–¥—å –µ—Å—Ç—å?

–ò–∑ –∑–∞–º–∫–∞ –≤—ã—à–µ–ª –≤–∑–≤–æ–ª–Ω–æ–≤–∞–Ω–Ω—ã–π –ü—è—Ç–∞—á–æ–∫.

‚Äî –û–π-–æ–π-–æ–π! üò± ‚Äî –∑–∞–ø–∏—â–∞–ª –æ–Ω. ‚Äî –≠—Ç–æ —É–∂–∞—Å–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞! –ü–æ–∫–∞ –ú–µ–¥–≤–µ–¥—å Django –¥—Ä–µ–º–∞–ª –ø–æ—Å–ª–µ –æ–±–µ–¥–∞, –ª—é–±–æ–π –ø—Ä–æ—Ö–æ–∂–∏–π –º–æ–≥ –∑–∞–π—Ç–∏ –≤ –∑–∞–º–æ–∫! –°–æ–≤–∞ —É–∂–µ —É—Å–ø–µ–ª–∞ –ø–µ—Ä–µ–ø–∏—Å–∞—Ç—å –≤—Å–µ —Ä–µ—Ü–µ–ø—Ç—ã –º—ë–¥–∞ ü¶â, –ö—Ä–æ–ª–∏–∫ —Ä–∞—Å—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–ª –æ–≤–æ—â–∏ –ø–æ-—Å–≤–æ–µ–º—É ü•ï, –∞ –ò–∞-–ò–∞ —á—É—Ç—å –Ω–µ —Å—Ç—ë—Ä –≤–µ—Å—å —Å–ø–∏—Å–æ–∫ –≥—Ä—É—Å—Ç–Ω—ã—Ö –ø–µ—Å–µ–Ω! üê¥ –ù–∞—à –∑–∞–º–æ–∫ —Å—Ç–∞–ª –ø–æ—Ö–æ–∂ –Ω–∞ –¥–æ–º —Å –æ—Ç–∫—Ä—ã—Ç—ã–º–∏ –¥–≤–µ—Ä—å–º–∏ –≤ —Å–∞–º–æ–º –±–µ—Å–ø–æ–∫–æ–π–Ω–æ–º —Ä–∞–π–æ–Ω–µ –õ–µ—Å–∞.

–ú–µ–¥–≤–µ–¥—å Django –ø—Ä–æ—Å–Ω—É–ª—Å—è, –ø–æ—á–µ—Å–∞–ª –≤ –∑–∞—Ç—ã–ª–∫–µ –∏ –≥—Ä–æ–º–∫–æ –ø—Ä–æ–≤–æ–∑–≥–ª–∞—Å–∏–ª: 

‚Äî –ü–æ—Ä–∞ –Ω–∞–≤–æ–¥–∏—Ç—å –ø–æ—Ä—è–¥–æ–∫! –ù–∞–º –Ω—É–∂–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏ –¥—Ä—É–∑–µ–π (–∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è). –ú—ã –¥–æ–ª–∂–Ω—ã —Ç–æ—á–Ω–æ –∑–Ω–∞—Ç—å: –∫—Ç–æ —Å—Ç—É—á–∏—Ç—Å—è –≤ –Ω–∞—à–∏ –¥–≤–µ—Ä–∏?

"–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è", –æ–±—ä—è—Å–Ω–∏–ª –ú–µ–¥–≤–µ–¥—å, ‚Äî —ç—Ç–æ –∫–æ–≥–¥–∞ –º—ã —Å–ø—Ä–∞—à–∏–≤–∞–µ–º –≥–æ—Å—Ç—è: "–ö—Ç–æ —Ç—ã?" –∏ –ø—Ä–æ–≤–µ—Ä—è–µ–º, –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –ª–∏ –æ–Ω —Ç–æ—Ç, –∑–∞ –∫–æ–≥–æ —Å–µ–±—è –≤—ã–¥–∞—ë—Ç. –ù–∞–ø—Ä–∏–º–µ—Ä, –µ—Å–ª–∏ –∫—Ç–æ-—Ç–æ –≥–æ–≤–æ—Ä–∏—Ç: "–Ø ‚Äî –í–∏–Ω–Ω–∏-–ü—É—Ö!", –º—ã –¥–æ–ª–∂–Ω—ã —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ —ç—Ç–æ –Ω–µ –ø–µ—Ä–µ–æ–¥–µ—Ç—ã–π –¢–∏–≥—Ä–∞ üêØ.

–ù–æ —ç—Ç–æ–≥–æ –º–∞–ª–æ! ‚Äî –¥–æ–±–∞–≤–∏–ª –º—É–¥—Ä—ã–π –§–∏–ª–∏–Ω (–æ–Ω –∂–µ DRF ‚Äî –î—Ä–µ–º—É—á–∏–π –†–∞–∑—É–º–Ω—ã–π –§–∏–ª–∏–Ω). ‚Äî –ù—É–∂–Ω–∞ –µ—â–µ –∏ —Å–∏—Å—Ç–µ–º–∞ –ø—Ä–æ–ø—É—Å–∫–æ–≤ (–∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è), –∫–æ—Ç–æ—Ä–∞—è –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ –≤–æ–ø—Ä–æ—Å: "–ê —á—Ç–æ —Ç–µ–±–µ –∑–¥–µ—Å—å –º–æ–∂–Ω–æ –¥–µ–ª–∞—Ç—å?" –î–∞–∂–µ –µ—Å–ª–∏ —ç—Ç–æ –Ω–∞—Å—Ç–æ—è—â–∏–π –í–∏–Ω–Ω–∏-–ü—É—Ö, —ç—Ç–æ –Ω–µ –∑–Ω–∞—á–∏—Ç, —á—Ç–æ –µ–º—É –º–æ–∂–Ω–æ –∑–∞–ª–µ–∑–∞—Ç—å –≤ –∫–ª–∞–¥–æ–≤–∫—É –ú–µ–¥–≤–µ–¥—è –∏–ª–∏ –ø—Ä–∞–≤–∏—Ç—å —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ –ø–æ–ª—ë—Ç–æ–≤ –°–æ–≤—ã.

–ò—Ç–∞–∫, –∑–∞–ø–æ–º–Ω–∏–º:

üîê **–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è** = "–ö—Ç–æ —Ç—ã?" (–ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–∏—á–Ω–æ—Å—Ç–∏).

üö´ **–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è** = "–ß—Ç–æ —Ç–µ–±–µ –º–æ–∂–Ω–æ?" (–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤).

‚Äî –ù–æ –∫–∞–∫ –º—ã –±—É–¥–µ–º –ø—Ä–æ–≤–µ—Ä—è—Ç—å –¥—Ä—É–∑–µ–π? ‚Äî —Å–ø—Ä–æ—Å–∏–ª –ü—è—Ç–∞—á–æ–∫.

–§–∏–ª–∏–Ω DRF –ø–µ—Ä–µ—á–∏—Å–ª–∏–ª –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å—Ç–∞—Ä—ã—Ö, –Ω–æ –∏–∑–≤–µ—Å—Ç–Ω—ã—Ö –≤ –õ–µ—Å—É —Å–ø–æ—Å–æ–±–æ–≤:

**üìú –ü—Ä–æ—Å—Ç–µ–π—à–∏–π –ø—Ä–æ–ø—É—Å–∫ (Basic Authentication)** –ì–æ—Å—Ç—å –∫—Ä–∏—á–∏—Ç —É –≤–æ—Ä–æ—Ç: 
"–Ø ‚Äî –ö—Ä–æ–ª–∏–∫: –ª—é–±–ª—é –ú–æ—Ä–∫–æ–≤–∫—É!" —Å—Ä–∞–∑—É –≤—Å–µ–º –Ω–∞ —Å–ª—É—Ö. –≠—Ç–æ –æ—á–µ–Ω—å –ø—Ä–æ—Å—Ç–æ –∏ –ø–æ–Ω—è—Ç–Ω–æ, –ø–æ—ç—Ç–æ–º—É —Ç–∞–∫–æ–π —Å–ø–æ—Å–æ–± –¥–æ —Å–∏—Ö –ø–æ—Ä —Å—É—â–µ—Å—Ç–≤—É–µ—Ç. –û–Ω –∏–¥–µ–∞–ª–µ–Ω –¥–ª—è –±—ã—Å—Ç—Ä—ã—Ö —Ç–µ—Å—Ç–æ–≤ –≤ —Å–≤–æ–µ–π –ø–µ—Å–æ—á–Ω–∏—Ü–µ, –∫–æ–≥–¥–∞ —Ç—ã –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—à—å –∑–∞–º–æ–∫ –æ–¥–∏–Ω –∏ —Ö–æ—á–µ—à—å –±—ã—Å—Ç—Ä–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, —Ä–∞–±–æ—Ç–∞–µ—Ç –ª–∏ —Å—Ç—Ä–∞–∂–∞. –ù–æ –¥–ª—è –Ω–∞—Å—Ç–æ—è—â–µ–π –∑–∞—â–∏—Ç—ã –õ–µ—Å–∞ –æ–Ω –Ω–µ –≥–æ–¥–∏—Ç—Å—è ‚Äî –ª—é–±–æ–π –ø–æ–¥—Å–ª—É—à–∏–≤–∞—é—â–∏–π (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ü—á–µ–ª—ã) –º–æ–∂–µ—Ç –ø–µ—Ä–µ—Ö–≤–∞—Ç–∏—Ç—å —Å–µ–∫—Ä–µ—Ç–Ω—É—é —Ñ—Ä–∞–∑—É.

**ü™ô –ì–ª–∏–Ω—è–Ω–∞—è —Ç–∞–±–ª–∏—á–∫–∞ (Session Authentication)** –ú–µ–¥–≤–µ–¥—å –¥–∞—ë—Ç –≥–æ—Å—Ç—é, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–∏—à—ë–ª –ª–∏—á–Ω–æ, –æ—Å–æ–±—É—é –≥–ª–∏–Ω—è–Ω—É—é —Ç–∞–±–ª–∏—á–∫—É (session cookie) –∏ —Ö—Ä–∞–Ω–∏—Ç —É —Å–µ–±—è –≤ –∫–ª–∞–¥–æ–≤–∫–µ –µ—ë —Ç–æ—á–Ω—ã–π —Å–ª–µ–ø–æ–∫ (—Å–µ—Å—Å–∏—é –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ). –ì–æ—Å—Ç—å –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ç–∞–±–ª–∏—á–∫—É –ø—Ä–∏ –∫–∞–∂–¥–æ–º –Ω–æ–≤–æ–º –≤–∏–∑–∏—Ç–µ, –∏ —Å—Ç—Ä–∞–∂–∞ —Å–≤–µ—Ä—è–µ—Ç –µ—ë —Å–æ —Å–ª–µ–ø–∫–æ–º.

‚Äî –ê –µ—Å–ª–∏ –¥—Ä—É–≥ —à–ª—ë—Ç —Å–≤–æ–µ–≥–æ –ø–æ—á—Ç–æ–≤–æ–≥–æ –≥–æ–ª—É–±—è —Å –ø—Ä–æ—Å—å–±–æ–π? ‚Äî —Å–ø—Ä–æ—Å–∏–ª –ö—Ä–æ–ª–∏–∫. ‚Äî –ì–æ–ª—É–±—å –∂–µ –Ω–µ —É–º–µ–µ—Ç –Ω–æ—Å–∏—Ç—å –∏ –ø—Ä–µ–¥—ä—è–≤–ª—è—Ç—å –≥–ª–∏–Ω—è–Ω—ã–µ —Ç–∞–±–ª–∏—á–∫–∏!

‚Äî –í–µ—Ä–Ω–æ, ‚Äî –∫–∏–≤–Ω—É–ª –§–∏–ª–∏–Ω. ‚Äî –ö—É–∫–∏ (cookies) ‚Äî —ç—Ç–æ –º–µ—Ö–∞–Ω–∏–∑–º –±—Ä–∞—É–∑–µ—Ä–∞ üåê. –û–Ω–∏ –æ—Ç–ª–∏—á–Ω–æ —Ü–µ–ø–ª—è—é—Ç—Å—è –∫ –ª–∞–ø–∫–∞–º –≥–æ–ª—É–±–µ–π-–±—Ä–∞—É–∑–µ—Ä–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –ª–µ—Ç–∞—é—Ç –ø–æ –≤–µ–±-—Å—Ç—Ä–∞–Ω–∏—Ü–∞–º. –ù–æ –µ—Å–ª–∏ –¥—Ä—É–≥ –æ–±—â–∞–µ—Ç—Å—è —Å –∑–∞–º–∫–æ–º —á–µ—Ä–µ–∑ –º–æ–±–∏–ª—å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ üì±, —É–º–Ω—ã–µ —á–∞—Å—ã ‚åö –∏–ª–∏ –¥—Ä—É–≥–æ–≥–æ –≥–æ–ª—É–±—è (API-–∫–ª–∏–µ–Ω—Ç), –∫–æ—Ç–æ—Ä—ã–π –Ω–µ –ø–æ–Ω–∏–º–∞–µ—Ç, –∫–∞–∫ –æ–±—Ä–∞—â–∞—Ç—å—Å—è —Å –≥–ª–∏–Ω—è–Ω—ã–º–∏ —Ç–∞–±–ª–∏—á–∫–∞–º–∏, —ç—Ç–æ—Ç —Å–ø–æ—Å–æ–± –±–µ—Å–ø–æ–ª–µ–∑–µ–Ω.

**üîë –í–æ–ª—à–µ–±–Ω—ã–π –∫–ª—é—á-–∂–µ—Ç–æ–Ω (Token Authentication)** –ü–æ—Å–ª–µ –ø–µ—Ä–≤–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏ –ª–∏—á–Ω–æ—Å—Ç–∏ (–ª–æ–≥–∏–Ω/–ø–∞—Ä–æ–ª—å) –ú–µ–¥–≤–µ–¥—å –≤—ã–¥–∞—ë—Ç –≥–æ—Å—Ç—é —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –º–µ—Ç–∞–ª–ª–∏—á–µ—Å–∫–∏–π –∂–µ—Ç–æ–Ω-–∫–ª—é—á –∏ –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç –≤ —Å–≤–æ—é –∫–Ω–∏–≥—É —É—á—ë—Ç–∞, —á—Ç–æ —ç—Ç–æ—Ç –∫–ª—é—á –≤—ã–¥–∞–Ω —Ç–∞–∫–æ–º—É-—Ç–æ –¥—Ä—É–≥—É. –¢–µ–ø–µ—Ä—å, —á—Ç–æ–±—ã –ø–æ–ø–∞—Å—Ç—å –≤ –ª—é–±—É—é –∫–æ–º–Ω–∞—Ç—É –∑–∞–º–∫–∞, –≥–æ—Å—Ç—å (–∏–ª–∏ –µ–≥–æ –ø–æ—á—Ç–æ–≤—ã–π –≥–æ–ª—É–±—å) –ø—Ä–æ—Å—Ç–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —ç—Ç–æ—Ç –∂–µ—Ç–æ–Ω —Å—Ç—Ä–∞–∂–Ω–∏–∫—É. –ö–ª—é—á –¥–µ–π—Å—Ç–≤—É–µ—Ç –¥–æ–ª–≥–æ, –ø–æ–∫–∞ –µ–≥–æ –Ω–µ –æ—Ç–±–µ—Ä—É—Ç –∏–ª–∏ –Ω–µ –ø–µ—Ä–µ–≤—ã–ø—É—Å—Ç—è—Ç. –°—Ç—Ä–∞–∂–∞ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –∑–∞–≥–æ–ª–æ–≤–æ–∫ –ø–∏—Å—å–º–∞:
`"Authorization: Token 9f86d081884c7d659a2feaa0c55ad015a3bf4f1b2b0b822cd15d6c15b0f00a08"`

**üìúüïäÔ∏è –ó–∞–ø–µ—á–∞—Ç–∞–Ω–Ω—ã–π —Å–≤–∏—Ç–æ–∫ (JWT - JSON Web Tokens)** –°–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–µ –∏ –º–æ—â–Ω–æ–µ –∑–∞–∫–ª–∏–Ω–∞–Ω–∏–µ! –≠—Ç–æ –Ω–µ –ø—Ä–æ—Å—Ç–æ –∫–ª—é—á, –∞ —Å–∞–º–æ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω—ã–π –∑–∞–ø–µ—á–∞—Ç–∞–Ω–Ω—ã–π —Å–≤–∏—Ç–æ–∫ (—Ç–æ–∫–µ–Ω). –û–Ω —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ —Ç—Ä—ë—Ö —á–∞—Å—Ç–µ–π, —Å–∫–ª–µ–µ–Ω–Ω—ã—Ö —Ç–æ—á–∫–æ–π:
*   **–ó–∞–≥–æ–ª–æ–≤–æ–∫ (Header):** –¢–∏–ø —Å–≤–∏—Ç–∫–∞ ("JWT") –∏ —Ä–µ—Ü–µ–ø—Ç –º–∞–≥–∏—á–µ—Å–∫–æ–π –ø–µ—á–∞—Ç–∏ (–∞–ª–≥–æ—Ä–∏—Ç–º —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è, –Ω–∞–ø—Ä–∏–º–µ—Ä, HS256).
*   **–ü–æ–ª–µ–∑–Ω–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞ (Payload):** –°—é–¥–∞ –∑–∞–ø–∏—Å–∞–Ω–∞ –≤—Å—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –≥–æ—Å—Ç–µ (–µ–≥–æ ID, —Ä–æ–ª—å, —Å—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è —Ç–æ–∫–µ–Ω–∞). –≠—Ç–∏ –¥–∞–Ω–Ω—ã–µ –ù–ï –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω—ã, –∏—Ö –º–æ–∂–µ—Ç –ø—Ä–æ—á–∏—Ç–∞—Ç—å –∫–∞–∂–¥—ã–π, –Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å –Ω–µ–ª—å–∑—è.
*   **–ü–µ—á–∞—Ç—å (Signature):** –≠—Ç–æ –∏ –µ—Å—Ç—å –≤–æ–ª—à–µ–±–Ω–∞—è –ø–µ—á–∞—Ç—å. –û–Ω–∞ —Å–æ–∑–¥–∞—ë—Ç—Å—è –∏–∑ –ó–∞–≥–æ–ª–æ–≤–∫–∞, –ü–æ–ª–µ–∑–Ω–æ–π –Ω–∞–≥—Ä—É–∑–∫–∏ –∏ —Å–µ–∫—Ä–µ—Ç–Ω–æ–≥–æ –∫–ª—é—á–∞ –ú–µ–¥–≤–µ–¥—è. –ü–æ–¥–¥–µ–ª–∞—Ç—å –µ—ë –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ, –Ω–µ –∑–Ω–∞—è —Å–µ–∫—Ä–µ—Ç–∞. –ò–º–µ–Ω–Ω–æ –ø–µ—á–∞—Ç—å –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ —Å–≤–∏—Ç–æ–∫ –Ω–µ –ø–æ–¥–º–µ–Ω–∏–ª–∏.

–í–æ—Ç –∫–∞–∫ –≤—ã–≥–ª—è–¥–∏—Ç —Ç–∞–∫–æ–π —Å–≤–∏—Ç–æ–∫:

`eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoxMjMsInJvbGUiOiJ1c2VyIn0.4P5NYRoQ9isGqwS8Gb0YvBRtk9dcbG6AzlvEl5jOYz4`
*(–¢—Ä–∏ —á–∞—Å—Ç–∏, —Ä–∞–∑–¥–µ–ª—ë–Ω–Ω—ã–µ —Ç–æ—á–∫–∞–º–∏: Header.Payload.Signature)*

‚Äî –ê —ç—Ç–æ—Ç —Å–≤–∏—Ç–æ–∫ –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è –≤ –∫—É–∫–∞—Ö? ‚Äî —É—Ç–æ—á–Ω–∏–ª –ü—è—Ç–∞—á–æ–∫.

‚Äî –ù–µ—Ç! ‚Äî –æ—Ç–≤–µ—Ç–∏–ª –§–∏–ª–∏–Ω. ‚Äî –í–µ—Å—å —Å–≤–∏—Ç–æ–∫ ‚Äî —ç—Ç–æ –æ–¥–Ω–∞ –¥–ª–∏–Ω–Ω–∞—è –∑–∞–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å—Ç—Ä–æ–∫–∞. –û–Ω–∞ –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è –≤ —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ–º –∑–∞–≥–æ–ª–æ–≤–∫–µ HTTP-–∑–∞–ø—Ä–æ—Å–∞, —Ç–æ—á–Ω–æ —Ç–∞–∫ –∂–µ, –∫–∞–∫ –∂–µ—Ç–æ–Ω. –≠—Ç–æ –¥–µ–ª–∞–µ—Ç —Å–≤–∏—Ç–æ–∫ —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–º –¥–ª—è –ª—é–±–æ–≥–æ –ø–æ—Å–ª–∞–Ω–Ω–∏–∫–∞.

‚Äî –§—É—Ö, ‚Äî —Å–∫–∞–∑–∞–ª –í–∏–Ω–Ω–∏-–ü—É—Ö, —É –∫–æ—Ç–æ—Ä–æ–≥–æ –æ—Ç —ç—Ç–∏—Ö –ø–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–µ–π —Å–ª–µ–≥–∫–∞ –∑–∞–∫—Ä—É–∂–∏–ª–∞—Å—å –≥–æ–ª–æ–≤–∞. ‚Äî –ó–Ω–∞—á–∏—Ç, —á—Ç–æ–±—ã –∑–∞—â–∏—Ç–∏—Ç—å –Ω–∞—à –º—ë–¥... —Ç–æ –µ—Å—Ç—å –Ω–∞—à–∏ –¥–∞–Ω–Ω—ã–µ, –Ω—É–∂–Ω–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –≤—ã–±–∏—Ä–∞—Ç—å, –∫–æ–≥–æ –∏ –∫–∞–∫ –ø—É—Å–∫–∞—Ç—å –≤ –∑–∞–º–æ–∫?

‚Äî –ò–º–µ–Ω–Ω–æ —Ç–∞–∫, –¥—Ä—É–∂–∏—â–µ! ‚Äî –ø–æ—Ö–ª–æ–ø–∞–ª –µ–≥–æ –ø–æ –ø–ª–µ—á—É –ú–µ–¥–≤–µ–¥—å. ‚Äî –ë–µ–∑ –ø—Ä–æ–≤–µ—Ä–∫–∏ –¥—Ä—É–∑–µ–π –Ω–∞—à –∑–∞–º–æ–∫ ‚Äî –ø—Ä–æ—Å—Ç–æ –ø—É–±–ª–∏—á–Ω–∞—è —Å—Ç–æ–ª–æ–≤–∞—è –¥–ª—è –≤—Å–µ—Ö –ø–æ–¥—Ä—è–¥. –ê –º—ã —ç—Ç–æ–≥–æ –Ω–µ —Ö–æ—Ç–∏–º.

–í–æ—Ç –∫–∞–∫ –§–∏–ª–∏–Ω DRF —É—Å—Ç—Ä–æ–∏–ª –ø—Ä–æ–≤–µ—Ä–∫—É —É –≤–æ—Ä–æ—Ç (–ø–æ–¥ –∫–∞–ø–æ—Ç–æ–º):

1.  –ü—Ä–∏—Ö–æ–¥–∏—Ç HTTP-–∑–∞–ø—Ä–æ—Å (request) ‚Äî —ç—Ç–æ –∫–∞–∫ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–µ –ø–∏—Å—å–º–æ –æ—Ç –≥–æ—Å—Ç—è üì®. –í –Ω—ë–º –µ—Å—Ç—å –∞–¥—Ä–µ—Å (URL), –º–µ—Ç–æ–¥ (GET, POST) –∏ —Ä–∞–∑–Ω—ã–µ —Å–ª—É–∂–µ–±–Ω—ã–µ –ø–æ–ª—è (–∑–∞–≥–æ–ª–æ–≤–∫–∏).
2.  –°—Ç—Ä–∞–∂–∞ (DRF) —Å–º–æ—Ç—Ä–∏—Ç, –µ—Å—Ç—å –ª–∏ –≤ –ø–∏—Å—å–º–µ –∑–∞–≥–æ–ª–æ–≤–æ–∫ "Authorization".
3.  –ï—Å–ª–∏ –µ—Å—Ç—å, —Å—Ç—Ä–∞–∂–∞ –ø–µ—Ä–µ–¥–∞—ë—Ç –µ–≥–æ —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ–º—É –∫–ª–∞—Å—Å—É-–ø—Ä–æ–≤–µ—Ä—è–ª—å—â–∏–∫—É (–∫–ª–∞—Å—Å –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏).
4.  –ü—Ä–æ–≤–µ—Ä—è–ª—å—â–∏–∫ –∏–∑—É—á–∞–µ—Ç –ø—Ä–æ–ø—É—Å–∫ (–∂–µ—Ç–æ–Ω, —Å–≤–∏—Ç–æ–∫). –ï—Å–ª–∏ –≤—Å—ë –≤ –ø–æ—Ä—è–¥–∫–µ, –æ–Ω –¥–æ–±–∞–≤–ª—è–µ—Ç –≤ –æ–±—ä–µ–∫—Ç –∑–∞–ø—Ä–æ—Å–∞ (request) –Ω–∞–π–¥–µ–Ω–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è. –¢–µ–ø–µ—Ä—å –≤–Ω—É—Ç—Ä–∏ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞ (–≤–æ view) –º—ã –º–æ–∂–µ–º –æ–±—Ä–∞—â–∞—Ç—å—Å—è –∫ `request.user` ‚Äî –∏ —ç—Ç–æ –±—É–¥–µ—Ç —Ç–æ—Ç —Å–∞–º—ã–π –ø—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã–π –¥—Ä—É–≥ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –æ–±—ä–µ–∫—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –í–∏–Ω–Ω–∏-–ü—É—Ö–∞). –ï—Å–ª–∏ –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–µ –ø—Ä–æ—à–ª–∞, `request.user` –æ—Å—Ç–∞–Ω–µ—Ç—Å—è –∞–Ω–æ–Ω–∏–º–Ω—ã–º.

–ú–µ–¥–≤–µ–¥—å –ø–æ–∫–∞–∑–∞–ª –≤ —Å–≤–æ–µ–π –≥–ª–∞–≤–Ω–æ–π –∫–Ω–∏–≥–µ –∑–∞–∫–ª–∏–Ω–∞–Ω–∏–π (`settings.py`), –∫–∞–∫ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å —ç—Ç–∏—Ö –ø—Ä–æ–≤–µ—Ä—è–ª—å—â–∏–∫–æ–≤:

```python
REST_FRAMEWORK = {
    'DEFAULT_AUTHENTICATION_CLASSES': [
        'rest_framework.authentication.BasicAuthentication',  # –ü—Ä–æ—Å—Ç–æ–π –ø—Ä–æ–ø—É—Å–∫
        'rest_framework.authentication.TokenAuthentication',   # –ñ–µ—Ç–æ–Ω—ã
    ]
}
```

–ü—Ä–æ–≤–µ—Ä–∫–∞ –±—É–¥–µ—Ç –∏–¥—Ç–∏ –ø–æ —Å–ø–∏—Å–∫—É: —Å–Ω–∞—á–∞–ª–∞ –ø–æ–ø—Ä–æ–±—É—é—Ç –ø—Ä–æ—Å—Ç–æ–π –ø—Ä–æ–ø—É—Å–∫, –ø–æ—Ç–æ–º ‚Äî –∂–µ—Ç–æ–Ω.

–ò —Å—Ä–∞–∑—É —Å–æ–∑–¥–∞–ª–∏ –ø–µ—Ä–≤—É—é –∑–∞—â–∏—â—ë–Ω–Ω—É—é –∫–æ–º–Ω–∞—Ç—É –≤ –∑–∞–º–∫–µ (Protected View):

```python
# views.py –≤ –∑–∞–º–∫–µ
from rest_framework.views import APIView
from rest_framework.response import Response
from rest_framework.permissions import IsAuthenticated

class SecretChamberView(APIView):
    # "–ö–ª–∞—Å—Å—ã —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–π" - —ç—Ç–æ –ø—Ä–∞–≤–∏–ª–∞, –ö–¢–û –º–æ–∂–µ—Ç —Å—é–¥–∞ –≤—Ö–æ–¥–∏—Ç—å.
    # IsAuthenticated - —Å–∞–º–æ–µ –ø—Ä–æ—Å—Ç–æ–µ –ø—Ä–∞–≤–∏–ª–æ: "–í—Ö–æ–¥–∏—Ç—å –º–æ–≥—É—Ç —Ç–æ–ª—å–∫–æ —Ç–µ, –∫–æ–≥–æ —Å—Ç—Ä–∞–∂–∞ —É–∂–µ –ø—Ä–æ–≤–µ—Ä–∏–ª–∞ (–∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–ª–∞)".
    permission_classes = [IsAuthenticated]

    def get(self, request):
        # –¢–µ–ø–µ—Ä—å request.user —Å–æ–¥–µ—Ä–∂–∏—Ç –æ–±—ä–µ–∫—Ç –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
        return Response({"message": f"Welcome, {request.user.username}!"})
```

**–ü—Ä–∏–º–µ—Ä –ø–æ–ª–Ω–æ–≥–æ –¥–∏–∞–ª–æ–≥–∞ —Å –∑–∞–º–∫–æ–º:**

*–ó–∞–ø—Ä–æ—Å –æ—Ç –ü–æ—á—Ç–æ–≤–æ–≥–æ –ì–æ–ª—É–±—è (–∫–ª–∏–µ–Ω—Ç–∞) –∫ –ó–∞–º–∫—É (—Å–µ—Ä–≤–µ—Ä—É):*
```
GET /api/secret-chamber/ HTTP/1.1           # –ú–µ—Ç–æ–¥ –∏ –ø—É—Ç—å –∫ –∑–∞—â–∏—â—ë–Ω–Ω–æ–π –∫–æ–º–Ω–∞—Ç–µ
Host: honeycastle.local                     # –ê–¥—Ä–µ—Å –∑–∞–º–∫–∞
Authorization: Token abc123def456           # –ó–ê–ì–û–õ–û–í–û–ö —Å –ø—Ä–æ–ø—É—Å–∫–æ–º-–∂–µ—Ç–æ–Ω–æ–º (–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û –∑–¥–µ—Å—å, –∞ –Ω–µ –≤ —Ç–µ–ª–µ!)
Content-Type: application/json              # –¢–∏–ø –ø–µ—Ä–µ–¥–∞–≤–∞–µ–º—ã—Ö –¥–∞–Ω–Ω—ã—Ö
User-Agent: Postman/10.0                    # –ö—Ç–æ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∑–∞–ø—Ä–æ—Å

{                                           # –¢–ï–õ–û –∑–∞–ø—Ä–æ—Å–∞ (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ). –î–ª—è GET-–∑–∞–ø—Ä–æ—Å–∞ –æ–±—ã—á–Ω–æ –ø—É—Å—Ç–æ–µ.
    "note": "–≠—Ç–æ —Ç–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞. –°—é–¥–∞ –ù–ï –Ω—É–∂–Ω–æ –∫–ª–∞—Å—Ç—å —Ç–æ–∫–µ–Ω!"
}
```

*–û—Ç–≤–µ—Ç –ó–∞–º–∫–∞ (—Å–µ—Ä–≤–µ—Äa) –ì–æ–ª—É–±—é (–∫–ª–∏–µ–Ω—Ç—É):*
```
HTTP/1.1 200 OK                             # –°—Ç–∞—Ç—É—Å: –£—Å–ø–µ—à–Ω–æ!
Content-Type: application/json              # –¢–∏–ø –¥–∞–Ω–Ω—ã—Ö –≤ –æ—Ç–≤–µ—Ç–µ
Date: Mon, 15 Apr 2024 10:00:00 GMT

{                                           # –¢–ï–õ–û –æ—Ç–≤–µ—Ç–∞ —Å –¥–∞–Ω–Ω—ã–º–∏
    "message": "Welcome, Winnie-the-Pooh!"
}
```

‚Äî –ì–ª–∞–≤–Ω–æ–µ, ‚Äî –ø—Ä–µ–¥—É–ø—Ä–µ–¥–∏–ª –§–∏–ª–∏–Ω, ‚Äî –Ω–µ –∑–∞–±—ã–≤–∞—Ç—å —É–∫–∞–∑—ã–≤–∞—Ç—å –ø—Ä–æ–ø—É—Å–∫ –≤ –∑–∞–≥–æ–ª–æ–≤–∫–µ HTTP-–∑–∞–ø—Ä–æ—Å–∞ (—Å—Ç—Ä–æ–∫–∏ `Authorization: ...`), –∞ –Ω–µ –≤ –µ–≥–æ —Ç–µ–ª–µ (–∫–æ—Ç–æ—Ä–æ–µ –ø–æ—Å–ª–µ –ø—É—Å—Ç–æ–π —Å—Ç—Ä–æ–∫–∏). –ò –≤—Å–µ–≥–¥–∞ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å –ø—Ä–æ–≤–µ—Ä—è–ª—å—â–∏–∫–æ–≤ –≤ –≥–ª–∞–≤–Ω–æ–π –∫–Ω–∏–≥–µ (`settings.py`). –ò–Ω–∞—á–µ –≤—Å–µ —ç—Ç–∏ –∂–µ—Ç–æ–Ω—ã –∏ —Å–≤–∏—Ç–∫–∏ –±—É–¥—É—Ç –ø—Ä–æ—Å—Ç–æ –±–µ—Å–ø–æ–ª–µ–∑–Ω—ã–º–∏ –±–µ–∑–¥–µ–ª—É—à–∫–∞–º–∏! üíé

–¢–∞–∫ –∂–∏—Ç–µ–ª–∏ –õ–µ—Å–∞ –ø–æ–Ω—è–ª–∏ —Å–∞–º—É—é –≤–∞–∂–Ω—É—é –æ—Å–Ω–æ–≤—É: –∏—Ö —É—é—Ç–Ω—ã–π –ó–∞–º–æ–∫ –î–∞–Ω–Ω—ã—Ö –Ω—É–∂–¥–∞–µ—Ç—Å—è –≤ –Ω–∞–¥—ë–∂–Ω—ã—Ö –¥–≤–µ—Ä—è—Ö –∏ —É–º–Ω–æ–π —Å—Ç—Ä–∞–∂–µ. –ê –í–∏–Ω–Ω–∏-–ü—É—Ö —É–∂–µ —Å –Ω–µ—Ç–µ—Ä–ø–µ–Ω–∏–µ–º –∂–¥–∞–ª, –∫–æ–≥–¥–∞ –∂–µ –µ–º—É –≤—ã–¥–∞–¥—É—Ç –µ–≥–æ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π –≤–æ–ª—à–µ–±–Ω—ã–π –∫–ª—é—á-–∂–µ—Ç–æ–Ω. ‚ú®

---

# **–ì–ª–∞–≤–∞ 2 –¢–∞–π–Ω–∞ –í–æ–ª—à–µ–±–Ω–æ–≥–æ –ñ–µ—Ç–æ–Ω–∞** üóùÔ∏è

–¢–µ–ø–µ—Ä—å, –∫–æ–≥–¥–∞ –∂–∏—Ç–µ–ª–∏ –õ–µ—Å–∞ –ø–æ–Ω—è–ª–∏ –≤–∞–∂–Ω–æ—Å—Ç—å –∑–∞—â–∏—Ç—ã —Å–≤–æ–µ–≥–æ –ó–∞–º–∫–∞ –î–∞–Ω–Ω—ã—Ö, –Ω–∞—Å—Ç–∞–ª–æ –≤—Ä–µ–º—è —Ä–∞–∑–æ–±—Ä–∞—Ç—å—Å—è —Å –ø–µ—Ä–≤—ã–º –ø–æ-–Ω–∞—Å—Ç–æ—è—â–µ–º—É –º–æ—â–Ω—ã–º –∑–∞–∫–ª–∏–Ω–∞–Ω–∏–µ–º ‚Äî –í–æ–ª—à–µ–±–Ω—ã–º –ñ–µ—Ç–æ–Ω–æ–º (Token).

‚Äî –¢–∞–∫ —á—Ç–æ –∂–µ —ç—Ç–æ –∑–∞ –∂–µ—Ç–æ–Ω —Ç–∞–∫–æ–π? ‚Äî —Å–ø—Ä–æ—Å–∏–ª –í–∏–Ω–Ω–∏-–ü—É—Ö, —Å –ª—é–±–æ–ø—ã—Ç—Å—Ç–≤–æ–º —Ä–∞–∑–≥–ª—è–¥—ã–≤–∞—è –±–ª–µ—Å—Ç—è—â–∏–π –º–µ—Ç–∞–ª–ª–∏—á–µ—Å–∫–∏–π –∫—Ä—É–∂–æ–∫, –∫–æ—Ç–æ—Ä—ã–π –§–∏–ª–∏–Ω DRF –¥–µ—Ä–∂–∞–ª –≤ –ª–∞–ø–µ.

‚Äî –ü—Ä–µ–¥—Å—Ç–∞–≤—å, ‚Äî –Ω–∞—á–∞–ª –æ–±—ä—è—Å–Ω—è—Ç—å –§–∏–ª–∏–Ω, ‚Äî —á—Ç–æ —Ç—ã –ø—Ä–∏—Ö–æ–¥–∏—à—å –∫ –ú–µ–¥–≤–µ–¥—é –≤ –≥–æ—Å—Ç–∏. –¢—ã –Ω–∞–∑—ã–≤–∞–µ—à—å —Å–µ–±—è, –ú–µ–¥–≤–µ–¥—å —Å–≤–µ—Ä—è–µ—Ç —Ç–≤–æ—ë –ª–∏—Ü–æ —Å –ø–æ—Ä—Ç—Ä–µ—Ç–æ–º –≤ —Å–≤–æ–µ–π –∫–Ω–∏–≥–µ –¥—Ä—É–∑–µ–π (–ø—Ä–æ–≤–µ—Ä—è–µ—Ç –ª–æ–≥–∏–Ω –∏ –ø–∞—Ä–æ–ª—å) –∏ –≥–æ–≤–æ—Ä–∏—Ç: ¬´–î–∞, —ç—Ç–æ —Ç–æ—á–Ω–æ –ü—É—Ö!¬ª. –í–º–µ—Å—Ç–æ —Ç–æ–≥–æ —á—Ç–æ–±—ã –∑–∞—Å—Ç–∞–≤–ª—è—Ç—å —Ç–µ–±—è –∫–∞–∂–¥—ã–π —Ä–∞–∑ –Ω–∞–∑—ã–≤–∞—Ç—å —Å–≤–æ—ë –∏–º—è, –æ–Ω –≤—ã–¥–∞—ë—Ç —Ç–µ–±–µ —ç—Ç–æ—Ç –∂–µ—Ç–æ–Ω ‚Äî —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –ø—Ä–æ–ø—É—Å–∫.

**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –í–æ–ª—à–µ–±–Ω—ã–π –ñ–µ—Ç–æ–Ω:**
1.  **–ü–µ—Ä–≤—ã–π –≤–∏–∑–∏—Ç (–ª–æ–≥–∏–Ω):** –¢—ã –ø—Ä–µ–¥—ä—è–≤–ª—è–µ—à—å —Å–≤–æ–∏ –¥–æ–∫—É–º–µ–Ω—Ç—ã (–ª–æ–≥–∏–Ω/–ø–∞—Ä–æ–ª—å). –ú–µ–¥–≤–µ–¥—å –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –∏—Ö.
2.  **–í—ã–¥–∞—á–∞ –ø—Ä–æ–ø—É—Å–∫–∞:** –ï—Å–ª–∏ –≤—Å—ë –≤–µ—Ä–Ω–æ, –ú–µ–¥–≤–µ–¥—å –¥–æ—Å—Ç–∞—ë—Ç –∏–∑ —Å–µ–π—Ñ–∞ –∏ –≤—Ä—É—á–∞–µ—Ç —Ç–µ–±–µ –∂–µ—Ç–æ–Ω —Å –º–∞–≥–∏—á–µ—Å–∫–∏–º –Ω–æ–º–µ—Ä–æ–º. –≠—Ç–æ—Ç –Ω–æ–º–µ—Ä –æ–Ω —Å—Ä–∞–∑—É –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç –≤ —Å–≤–æ—é –ö–Ω–∏–≥—É –£—á—ë—Ç–∞ –ñ–µ—Ç–æ–Ω–æ–≤ (–±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö).
3.  **–í—Å–µ –ø–æ—Å–ª–µ–¥—É—é—â–∏–µ –≤–∏–∑–∏—Ç—ã:** –¢–µ–ø–µ—Ä—å, –ø–æ–¥—Ö–æ–¥—è –∫ –ª—é–±–æ–π –¥–≤–µ—Ä–∏ –∑–∞–º–∫–∞, —Ç—ã –ø—Ä–æ—Å—Ç–æ –º–æ–ª—á–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—à—å –∂–µ—Ç–æ–Ω. –°—Ç—Ä–∞–∂–∞ —Å–º–æ—Ç—Ä–∏—Ç –Ω–∞ –µ–≥–æ –Ω–æ–º–µ—Ä, –Ω–∞—Ö–æ–¥–∏—Ç –∑–∞–ø–∏—Å—å –≤ –ö–Ω–∏–≥–µ, –≤–∏–¥–∏—Ç: ¬´–ê–≥–∞, —ç—Ç–æ—Ç –∂–µ—Ç–æ–Ω –≤—ã–¥–∞–Ω –í–∏–Ω–Ω–∏-–ü—É—Ö—É¬ª. –ò –ø—Ä–æ–ø—É—Å–∫–∞–µ—Ç —Ç–µ–±—è!

‚Äî –≠—Ç–æ –∫–∞–∫ —ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω—ã–π –ø—Ä–æ–ø—É—Å–∫ –≤ –±–æ–ª—å—à–æ–π –æ—Ñ–∏—Å! ‚Äî –≤–æ—Å–∫–ª–∏–∫–Ω—É–ª –ö—Ä–æ–ª–∏–∫, –∫–æ—Ç–æ—Ä—ã–π –∏–Ω–æ–≥–¥–∞ –±—ã–≤–∞–ª –≤ –≥–æ—Ä–æ–¥–µ. ‚Äî –û–¥–∏–Ω —Ä–∞–∑ –ø–æ–ª—É—á–∏–ª –±–µ–π–¥–∂–∏–∫, –∏ —Ö–æ–¥–∏—à—å —Å –Ω–∏–º —Ü–µ–ª—ã–π –¥–µ–Ω—å, –∫—É–¥–∞ –Ω—É–∂–Ω–æ.

‚Äî –°–æ–≤–µ—Ä—à–µ–Ω–Ω–æ –≤–µ—Ä–Ω–æ! ‚Äî –ø–æ–¥—Ç–≤–µ—Ä–¥–∏–ª –§–∏–ª–∏–Ω. ‚Äî –ò–ª–∏ –∫–∞–∫ –±–µ–π–¥–∂–∏–∫ –¥–ª—è –∫–æ—Ñ–µ–º–∞—à–∏–Ω—ã —É –≤–∞—Å, –ø—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç–æ–≤: –ø–æ–ª—É—á–∏–ª –æ–¥–∏–Ω —Ä–∞–∑, –∏ –ø–æ–∫–∞ –æ–Ω –¥–µ–π—Å—Ç–≤—É–µ—Ç ‚Äî –ø—å—ë—à—å –∫–æ—Ñ–µ –±–µ–∑ –ª–∏—à–Ω–∏—Ö –≤–æ–ø—Ä–æ—Å–æ–≤. ‚òï

**–ü–æ—á–µ–º—É –≤—Å–µ –≤ –õ–µ—Å—É –ø–æ–ª—é–±–∏–ª–∏ –∂–µ—Ç–æ–Ω—ã?**

‚Äî –ü–æ–¥–æ–∂–¥–∏-–ø–æ–¥–æ–∂–¥–∏, ‚Äî –≤–º–µ—à–∞–ª—Å—è –ö—Ä–æ–ª–∏–∫. ‚Äî –¢—ã –≥–æ–≤–æ—Ä–∏–ª –ø—Ä–æ –≥–ª–∏–Ω—è–Ω—ã–µ —Ç–∞–±–ª–∏—á–∫–∏. –ù–æ –≤ —á—ë–º —Ä–∞–∑–Ω–∏—Ü–∞? –ú–µ–¥–≤–µ–¥—å –∏ —Ç–∞–º —á—Ç–æ-—Ç–æ —Ö—Ä–∞–Ω–∏–ª, –∏ –∑–¥–µ—Å—å —Ö—Ä–∞–Ω–∏—Ç –ö–Ω–∏–≥—É –£—á—ë—Ç–∞. –ö–∞–∫–∞—è —Ä–∞–∑–Ω–∏—Ü–∞?

‚Äî –û—Ç–ª–∏—á–Ω—ã–π –≤–æ–ø—Ä–æ—Å! ‚Äî –≤–æ—Å–∫–ª–∏–∫–Ω—É–ª –§–∏–ª–∏–Ω. ‚Äî –†–∞–∑–Ω–∏—Ü–∞ –≤ —Ç–æ–º, –ß–¢–û –∏–º–µ–Ω–Ω–æ —Ö—Ä–∞–Ω–∏—Ç—Å—è.

*   **–ì–ª–∏–Ω—è–Ω–∞—è —Ç–∞–±–ª–∏—á–∫–∞ (–°–µ—Å—Å–∏—è):**
    *   –ö–æ–≥–¥–∞ —Ç—ã –ø—Ä–∏—Ö–æ–¥–∏—à—å –≤ –ø–µ—Ä–≤—ã–π —Ä–∞–∑, –ú–µ–¥–≤–µ–¥—å –ª–µ–ø–∏—Ç —Ç–≤–æ–π —Ç–æ—á–Ω—ã–π –ø–æ—Ä—Ç—Ä–µ—Ç –∏–∑ –≥–ª–∏–Ω—ã (—Å–æ–∑–¥–∞—ë—Ç —Å–µ—Å—Å–∏—é) –∏ —Å—Ç–∞–≤–∏—Ç –µ–≥–æ –≤ –∫–ª–∞–¥–æ–≤–∫–µ.
    *   –¢–µ–±–µ –æ–Ω –¥–∞—ë—Ç –∫–≤–∏—Ç–∞–Ω—Ü–∏—é (session ID –≤ cookie).
    *   –ö–∞–∂–¥—ã–π —Ä–∞–∑, –∫–æ–≥–¥–∞ —Ç—ã –≤–æ–∑–≤—Ä–∞—â–∞–µ—à—å—Å—è, —Ç—ã –ø–æ–∫–∞–∑—ã–≤–∞–µ—à—å –∫–≤–∏—Ç–∞–Ω—Ü–∏—é. –°—Ç—Ä–∞–∂–∞ –±–µ–∂–∏—Ç –≤ –∫–ª–∞–¥–æ–≤–∫—É, –Ω–∞—Ö–æ–¥–∏—Ç —Ç–≤–æ–π –ø–æ—Ä—Ç—Ä–µ—Ç –∏ –≥–æ–≤–æ—Ä–∏—Ç: ¬´–î–∞, —ç—Ç–æ –ü—É—Ö!¬ª.
    *   **–ü—Ä–æ–±–ª–µ–º–∞:** –ï—Å–ª–∏ –∑–∞–º–æ–∫ –≤—ã—Ä–∞—Å—Ç–µ—Ç, –∏ –ø–æ—è–≤—è—Ç—Å—è –¥—Ä—É–≥–∏–µ –±–∞—à–Ω–∏ —Å–æ —Å–≤–æ–∏–º–∏ —Å—Ç—Ä–∞–∂–∞–º–∏, –∏–º –≤—Å–µ–º –ø—Ä–∏–¥—ë—Ç—Å—è –∏–º–µ—Ç—å –∫–æ–ø–∏—é —Ç–≤–æ–µ–≥–æ –ø–æ—Ä—Ç—Ä–µ—Ç–∞! –ò–ª–∏ –±–µ–≥–∞—Ç—å –≤ –≥–ª–∞–≤–Ω—É—é –∫–ª–∞–¥–æ–≤–∫—É. –≠—Ç–æ –Ω–µ—É–¥–æ–±–Ω–æ.

*   **–í–æ–ª—à–µ–±–Ω—ã–π –∂–µ—Ç–æ–Ω (–¢–æ–∫–µ–Ω):**
    *   –ö–æ–≥–¥–∞ —Ç—ã –ø—Ä–∏—Ö–æ–¥–∏—à—å –≤ –ø–µ—Ä–≤—ã–π —Ä–∞–∑, –ú–µ–¥–≤–µ–¥—å –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Ç–≤–æ–π –ø–∞—Å–ø–æ—Ä—Ç –∏ –≤—ã–¥–∞—ë—Ç —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∂–µ—Ç–æ–Ω —Å –Ω–æ–º–µ—Ä–æ–º.
    *   –í –∫–ª–∞–¥–æ–≤–∫–µ –æ–Ω –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç –≤ –ö–Ω–∏–≥—É: ¬´–ñ–µ—Ç–æ–Ω ‚Ññ123 –≤—ã–¥–∞–Ω –í–∏–Ω–Ω–∏-–ü—É—Ö—É¬ª.
    *   –¢—ã –ø–æ–∫–∞–∑—ã–≤–∞–µ—à—å –∂–µ—Ç–æ–Ω ‚Äî —Å—Ç—Ä–∞–∂–∞ —Å–º–æ—Ç—Ä–∏—Ç –≤ –ö–Ω–∏–≥—É –∏ –≤–∏–¥–∏—Ç –∑–∞–ø–∏—Å—å.
    *   **–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–æ:** –í—Å—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è ‚Äî –≤ –∂–µ—Ç–æ–Ω–µ (–Ω–æ–º–µ—Ä) –∏ –≤ –ö–Ω–∏–≥–µ (–∫–æ–º—É –≤—ã–¥–∞–Ω). –ù–∏–∫–∞–∫–∏—Ö –≥–ª–∏–Ω—è–Ω—ã—Ö –ø–æ—Ä—Ç—Ä–µ—Ç–æ–≤!

‚Äî –ê –ø–æ—á–µ–º—É —Å–µ—Å—Å–∏–∏ –∂–∏–≤—É—Ç –¥–æ–ª–≥–æ? ‚Äî —Å–ø—Ä–æ—Å–∏–ª –ü—è—Ç–∞—á–æ–∫.

‚Äî –ü–æ—Ç–æ–º—É —á—Ç–æ –∏—Ö —á–∞—Å—Ç–æ –¥–µ–ª–∞—é—Ç ¬´–≤–µ—á–Ω—ã–º–∏¬ª –∏–ª–∏ –æ—á–µ–Ω—å –¥–æ–ª–≥–∏–º–∏, ‚Äî –æ–±—ä—è—Å–Ω–∏–ª –§–∏–ª–∏–Ω. ‚Äî –£—à—ë–ª —Ç—ã –∏–∑ –∑–∞–º–∫–∞, –∞ —Ç–≤–æ–π –≥–ª–∏–Ω—è–Ω—ã–π –ø–æ—Ä—Ç—Ä–µ—Ç –µ—â—ë –º–µ—Å—è—Ü —Å—Ç–æ–∏—Ç –≤ –∫–ª–∞–¥–æ–≤–∫–µ! –ê –∂–µ—Ç–æ–Ω—É –º–æ–∂–Ω–æ –∑–∞–¥–∞—Ç—å —Å—Ä–æ–∫ ‚Äî —á–∞—Å, –¥–µ–Ω—å, –Ω–µ–¥–µ–ª—è. –ò—Å—Ç—ë–∫ —Å—Ä–æ–∫ ‚Äî –≤—ã–∫–∏–¥—ã–≤–∞–π.

‚Äî –ù–æ –∫–∞–∫ –¥—Ä—É–≥–∏–µ —Å–µ—Ä–≤–µ—Ä—ã-—Å—Ç—Ä–∞–∂–∏ –±—É–¥—É—Ç –∑–∞–≥–ª—è–¥—ã–≤–∞—Ç—å –≤ –Ω–∞—à—É –ö–Ω–∏–≥—É? ‚Äî –ø–æ–∏–Ω—Ç–µ—Ä–µ—Å–æ–≤–∞–ª—Å—è –í–∏–Ω–Ω–∏-–ü—É—Ö.

‚Äî –û—á–µ–Ω—å –ø—Ä–æ—Å—Ç–æ! ‚Äî —Å–∫–∞–∑–∞–ª –§–∏–ª–∏–Ω. ‚Äî –ö–Ω–∏–≥–∞ –£—á—ë—Ç–∞ ‚Äî —ç—Ç–æ –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö. –í—Å–µ —Å—Ç—Ä–∞–∂–∏ (—Å–µ—Ä–≤–µ—Ä—ã) —É–º–µ—é—Ç —Ä–∞–∑–≥–æ–≤–∞—Ä–∏–≤–∞—Ç—å —Å –æ–¥–Ω–æ–π –æ–±—â–µ–π –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö. –≠—Ç–æ –∫–∞–∫ –µ—Å–ª–∏ –±—ã —É –≤—Å–µ—Ö –±–∞—à–µ–Ω –±—ã–ª–∞ —Ç—Ä—É–±–∞-—Ç–µ–ª–µ—Ñ–æ–Ω, —Å–æ–µ–¥–∏–Ω—ë–Ω–Ω–∞—è —Å –≥–ª–∞–≤–Ω–æ–π –∫–ª–∞–¥–æ–≤–∫–æ–π. üìûüóÑÔ∏è

**–ö–∞–∫ —ç—Ç–æ –≤—ã–≥–ª—è–¥–∏—Ç –≤ –∫–æ–¥–µ –∑–∞–º–∫–∞?**

‚Äî –ê —Ç–µ–ø–µ—Ä—å —Å–∞–º–æ–µ –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ–µ! ‚Äî –≤–æ—Å–∫–ª–∏–∫–Ω—É–ª –§–∏–ª–∏–Ω –∏ —Ä–∞—Å–∫—Ä—ã–ª –∫–Ω–∏–≥—É –∑–∞–∫–ª–∏–Ω–∞–Ω–∏–π. ‚Äî –î–∞–≤–∞–π—Ç–µ —Å–æ–∑–¥–∞–¥–∏–º —Å–≤–æ–π –∂–µ—Ç–æ–Ω, —á—Ç–æ–±—ã –ø–æ–Ω—è—Ç—å –µ–≥–æ –∏–∑–Ω—É—Ç—Ä–∏.

**1. –°–æ–∑–¥–∞–Ω–∏–µ –ú–æ–¥–µ–ª–∏ –ñ–µ—Ç–æ–Ω–∞ (`models.py`) ‚Äî –ß–µ—Ä—Ç–µ–∂ –¥–ª—è –ö–Ω–∏–≥–∏ –£—á—ë—Ç–∞**

‚Äî –°–º–æ—Ç—Ä–∏—Ç–µ, ‚Äî —Å–∫–∞–∑–∞–ª –§–∏–ª–∏–Ω, —É–∫–∞–∑—ã–≤–∞—è –Ω–∞ –∫–æ–¥. ‚Äî –≠—Ç–æ —á–µ—Ä—Ç—ë–∂ –∑–∞–ø–∏—Å–∏ –≤ –ö–Ω–∏–≥–µ –£—á—ë—Ç–∞. –ú—ã –≥–æ–≤–æ—Ä–∏–º Django: ¬´–î–æ—Ä–æ–≥–æ–π, –∫–æ–≥–¥–∞ —Ç—ã –±—É–¥–µ—à—å —Å–æ–∑–¥–∞–≤–∞—Ç—å –∑–∞–ø–∏—Å–∏ –≤ —Ç–∞–±–ª–∏—Ü–µ `MagicToken`, –¥–µ–ª–∞–π –∏—Ö –≤–æ—Ç –ø–æ —Ç–∞–∫–æ–º—É –æ–±—Ä–∞–∑—Ü—É¬ª.

```python
# models.py –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ 'api'
from django.db import models
from django.contrib.auth.models import User
from django.utils.timezone import now
import uuid  # –í–æ–ª—à–µ–±–Ω—ã–π –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö –Ω–æ–º–µ—Ä–æ–≤!

class MagicToken(models.Model):
    # 1. –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∫–ª—é—á –∂–µ—Ç–æ–Ω–∞
    key = models.UUIDField(
        default=uuid.uuid4,      # –ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏: "–ì–µ–Ω–µ—Ä–∏—Ä—É–π —Å–ª—É—á–∞–π–Ω—ã–π UUID!"
        editable=False,          # "–ò –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –º–µ–Ω—è–π –µ–≥–æ –ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è!"
        unique=True              # "–ò —Å–ª–µ–¥–∏, —á—Ç–æ–±—ã –Ω–µ –±—ã–ª–æ –¥–≤—É—Ö –æ–¥–∏–Ω–∞–∫–æ–≤—ã—Ö!"
    )
    
    # 2. –°–≤—è–∑—å —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º
    user = models.OneToOneField(
        User, 
        on_delete=models.CASCADE # "–ï—Å–ª–∏ —É–¥–∞–ª—è—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è - —É–¥–∞–ª—è–π –∏ –µ–≥–æ –∂–µ—Ç–æ–Ω!"
    )
    
    # 3. –ö–æ–≥–¥–∞ —Å–æ–∑–¥–∞–Ω
    created_at = models.DateTimeField(
        auto_now_add=True        # "–ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ —Å—Ç–∞–≤—å —Ç–µ–∫—É—â—É—é –¥–∞—Ç—É-–≤—Ä–µ–º—è!"
    )
    
    # 4. –î–æ –∫–∞–∫–æ–≥–æ —á–∏—Å–ª–∞ –¥–µ–π—Å—Ç–≤—É–µ—Ç
    expires_at = models.DateTimeField()  # "–≠—Ç—É –¥–∞—Ç—É –º—ã –∑–∞–¥–∞–¥–∏–º –ø—Ä–∏ –≤—ã–∫–æ–≤–∫–µ –∂–µ—Ç–æ–Ω–∞"

    def is_valid(self):
        """–ú–∞–≥–∏—á–µ—Å–∫–æ–µ –∑–∞–∫–ª–∏–Ω–∞–Ω–∏–µ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å—Ä–æ–∫–∞ –≥–æ–¥–Ω–æ—Å—Ç–∏"""
        # –°—Ä–∞–≤–Ω–∏–≤–∞–µ–º: —Å–µ–π—á–∞—Å —Ä–∞–Ω—å—à–µ, —á–µ–º expires_at?
        return now() < self.expires_at
```

‚Äî –ù–æ –≥–¥–µ –∂–µ —Å–æ–∑–¥–∞—é—Ç—Å—è –æ–±—ä–µ–∫—Ç—ã —ç—Ç–æ–≥–æ –∫–ª–∞—Å—Å–∞? ‚Äî —Å–ø—Ä–æ—Å–∏–ª –í–∏–Ω–Ω–∏-–ü—É—Ö.

‚Äî –û—Ç–ª–∏—á–Ω—ã–π –≤–æ–ø—Ä–æ—Å! ‚Äî –æ—Ç–≤–µ—Ç–∏–ª –§–∏–ª–∏–Ω. ‚Äî Django ORM (–í–æ–ª—à–µ–±–Ω—ã–π –ü–µ—Ä–µ–≤–æ–¥—á–∏–∫) —Å–æ–∑–¥–∞—ë—Ç –∏—Ö –∑–∞ –Ω–∞—Å! –ö–æ–≥–¥–∞ –º—ã –ø–∏—à–µ–º `MagicToken.objects.create(...)`, ORM:
1.  –ë–µ—Ä—ë—Ç –Ω–∞—à —á–µ—Ä—Ç—ë–∂ (–∫–ª–∞—Å—Å `MagicToken`)
2.  –°–æ–∑–¥–∞—ë—Ç –æ–±—ä–µ–∫—Ç –≤ –ø–∞–º—è—Ç–∏
3.  –ó–∞–ø–∏—Å—ã–≤–∞–µ—Ç –µ–≥–æ –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö

–ê –º–µ—Ç–æ–¥ `is_valid()` –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –ø–æ–∑–∂–µ, –∫–æ–≥–¥–∞ –Ω—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –∂–µ—Ç–æ–Ω.

**2. –ö—É–∑–Ω–∏—Ü–∞ –∂–µ—Ç–æ–Ω–æ–≤ (`views.py`) ‚Äî –≥–¥–µ –≤—ã–∫–æ–≤—ã–≤–∞—é—Ç –∂–µ—Ç–æ–Ω—ã**

‚Äî –¢–µ–ø–µ—Ä—å —Å–æ–∑–¥–∞–¥–∏–º –∫—É–∑–Ω–∏—Ü—É, ‚Äî –ø—Ä–æ–¥–æ–ª–∂–∏–ª –§–∏–ª–∏–Ω. ‚Äî –ú–µ—Å—Ç–æ, –∫—É–¥–∞ –¥—Ä—É–∑—å—è –ø—Ä–∏–Ω–æ—Å—è—Ç —Å–≤–æ–∏ –ø–∞—Ä–æ–ª–∏ –∏ –ø–æ–ª—É—á–∞—é—Ç –∂–µ—Ç–æ–Ω—ã.

```python
# views.py
from django.utils.timezone import now, timedelta
from rest_framework.views import APIView      # –ë–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å –¥–ª—è API-–∫–æ–º–Ω–∞—Ç
from rest_framework.response import Response  # –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –æ—Ç–≤–µ—Ç–æ–≤
from rest_framework import status             # –ú–∞–≥–∏—á–µ—Å–∫–∏–µ –∫–æ–¥—ã —Å—Ç–∞—Ç—É—Å–æ–≤ (200, 400, 404)
from django.contrib.auth import authenticate  # –ó–∞–∫–ª–∏–Ω–∞–Ω–∏–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–∞—Ä–æ–ª—è
from .models import MagicToken

class ObtainMagicTokenView(APIView):
    """–í–æ–ª—à–µ–±–Ω–∞—è –∫—É–∑–Ω–∏—Ü–∞: –ø–∞—Ä–æ–ª—å –Ω–∞ –≤—Ö–æ–¥ ‚Üí –∂–µ—Ç–æ–Ω –Ω–∞ –≤—ã—Ö–æ–¥"""
    
    def post(self, request):
        # –ö–ª–∏–µ–Ω—Ç –ø—Ä–∏—Å—ã–ª–∞–µ—Ç –≤ —Ç–µ–ª–µ –ø–∏—Å—å–º–∞ –∏–º—è –∏ –ø–∞—Ä–æ–ª—å
        username = request.data.get("username")
        password = request.data.get("password")
        
        # –ó–∞–∫–ª–∏–Ω–∞–Ω–∏–µ authenticate –ø—Ä–æ–≤–µ—Ä—è–µ—Ç: –µ—Å—Ç—å –ª–∏ —Ç–∞–∫–æ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å?
        user = authenticate(username=username, password=password)
        
        if user:  # –ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–π–¥–µ–Ω –∏ –ø–∞—Ä–æ–ª—å –≤–µ—Ä–Ω—ã–π
            # –°–Ω–∞—á–∞–ª–∞ —É–Ω–∏—á—Ç–æ–∂–∏–º —Å—Ç–∞—Ä—ã–µ –∂–µ—Ç–æ–Ω—ã —ç—Ç–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
            # MagicToken.objects - —ç—Ç–æ –¥–æ—Å—Ç—É–ø –∫ –ö–Ω–∏–≥–µ –£—á—ë—Ç–∞
            # .filter(user=user) - "–ù–∞–π–¥–∏ –≤—Å–µ –∑–∞–ø–∏—Å–∏, –≥–¥–µ user —Ä–∞–≤–µ–Ω –Ω–∞—à–µ–º—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é"
            # .delete() - "–£–¥–∞–ª–∏ –∏—Ö!" (—á—Ç–æ–±—ã —É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –±—ã–ª —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω –∞–∫—Ç–∏–≤–Ω—ã–π –∂–µ—Ç–æ–Ω)
            MagicToken.objects.filter(user=user).delete()
            
            # –í—ã–∫–æ–≤—ã–≤–∞–µ–º –Ω–æ–≤—ã–π –∂–µ—Ç–æ–Ω!
            # MagicToken.objects.create(...) - —Å–æ–∑–¥–∞—ë—Ç –∑–∞–ø–∏—Å—å –≤ –ö–Ω–∏–≥–µ –£—á—ë—Ç–∞
            token = MagicToken.objects.create(
                user=user,  # –ö–æ–º—É –≤—ã–¥–∞—ë–º
                expires_at=now() + timedelta(hours=1)  # –î–µ–π—Å—Ç–≤—É–µ—Ç 1 —á–∞—Å
            )
            
            # –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –∂–µ—Ç–æ–Ω –∫–ª–∏–µ–Ω—Ç—É
            return Response({"token": token.key}, status=status.HTTP_200_OK)
        
        # –ï—Å–ª–∏ –ø–∞—Ä–æ–ª—å –Ω–µ–≤–µ—Ä–Ω—ã–π
        return Response({"error": "Invalid credentials"}, 
                       status=status.HTTP_400_BAD_REQUEST)
```

‚Äî –ß—Ç–æ —Ç–∞–∫–æ–µ APIView? ‚Äî —Å–ø—Ä–æ—Å–∏–ª –ü—è—Ç–∞—á–æ–∫.

‚Äî –≠—Ç–æ –≤–æ–ª—à–µ–±–Ω—ã–π —á–µ—Ä—Ç—ë–∂ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è API-–∫–æ–º–Ω–∞—Ç! ‚Äî –æ–±—ä—è—Å–Ω–∏–ª –§–∏–ª–∏–Ω. ‚Äî –ö–æ–≥–¥–∞ —Ç—ã –Ω–∞—Å–ª–µ–¥—É–µ—à—å –æ—Ç APIView, —Ç–≤–æ–π –∫–ª–∞—Å—Å —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è ¬´—É–º–Ω–æ–π –∫–æ–º–Ω–∞—Ç–æ–π¬ª, –∫–æ—Ç–æ—Ä–∞—è:
*   –°–∞–º–∞ –ø–æ–Ω–∏–º–∞–µ—Ç HTTP-–º–µ—Ç–æ–¥—ã (GET, POST, PUT, DELETE)
*   –£–º–µ–µ—Ç –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –∑–∞–ø—Ä–æ—Å—ã
*   –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞—ë—Ç –∫—Ä–∞—Å–∏–≤—ã–µ JSON-–æ—Ç–≤–µ—Ç—ã
DRF —Å–∞–º —Å–æ–∑–¥–∞—ë—Ç –æ–±—ä–µ–∫—Ç —ç—Ç–æ–≥–æ –∫–ª–∞—Å—Å–∞ –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –æ–±—Ä–∞—â–µ–Ω–∏–∏ –∫ URL –∏ –≤—ã–∑—ã–≤–∞–µ—Ç –Ω—É–∂–Ω—ã–π –º–µ—Ç–æ–¥!

**3. –ö–∞–∫ –≤—ã–≥–ª—è–¥–∏—Ç –æ–±–º–µ–Ω –ø–∞—Ä–æ–ª—è –Ω–∞ –∂–µ—Ç–æ–Ω:**

*–ó–∞–ø—Ä–æ—Å –∫–ª–∏–µ–Ω—Ç–∞:*
```
POST /api/get-token/ HTTP/1.1
Content-Type: application/json

{"username": "winnie", "password": "honey123"}
```
*–û—Ç–≤–µ—Ç —Å–µ—Ä–≤–µ—Ä–∞ (–∫—É–∑–Ω–∏—Ü—ã):*
```
HTTP/1.1 200 OK
Content-Type: application/json

{"token": "550e8400-e29b-41d4-a716-446655440000"}
```

**4. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∂–µ—Ç–æ–Ω–∞**

‚Äî –ê –∫–∞–∫ –ø–æ—Ç–æ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —ç—Ç–æ—Ç –∂–µ—Ç–æ–Ω? ‚Äî —Å–ø—Ä–æ—Å–∏–ª –í–∏–Ω–Ω–∏-–ü—É—Ö.
‚Äî –û—á–µ–Ω—å –ø—Ä–æ—Å—Ç–æ! ‚Äî —Å–∫–∞–∑–∞–ª –§–∏–ª–∏–Ω –∏ –Ω–∞—Ä–∏—Å–æ–≤–∞–ª:
```bash
# –ì–æ–ª—É–±—å –ª–µ—Ç–∏—Ç –∫ –∑–∞—â–∏—â—ë–Ω–Ω–æ–π –∫–æ–º–Ω–∞—Ç–µ —Å –∂–µ—Ç–æ–Ω–æ–º
curl -X GET http://honeycastle.local/api/secret-honey-storage/ \
  -H "Authorization: Token 550e8400-e29b-41d4-a716-446655440000"
```

**5. –ü—Ä–æ–≤–µ—Ä—è–ª—å—â–∏–∫ –∂–µ—Ç–æ–Ω–æ–≤ (`authentication.py`)**

‚Äî –ù–æ –∫—Ç–æ –±—É–¥–µ—Ç –ø—Ä–æ–≤–µ—Ä—è—Ç—å —ç—Ç–∏ –∂–µ—Ç–æ–Ω—ã? ‚Äî —Å–ø—Ä–æ—Å–∏–ª –ö—Ä–æ–ª–∏–∫.

‚Äî –°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π –∫–ª–∞—Å—Å-–ø—Ä–æ–≤–µ—Ä—è–ª—å—â–∏–∫! ‚Äî –æ—Ç–≤–µ—Ç–∏–ª –§–∏–ª–∏–Ω.

```python
# authentication.py
from rest_framework.authentication import BaseAuthentication  # –ë–∞–∑–æ–≤—ã–π —á–µ—Ä—Ç—ë–∂ –¥–ª—è –ø—Ä–æ–≤–µ—Ä—è–ª—å—â–∏–∫–æ–≤
from rest_framework.exceptions import AuthenticationFailed    # –ó–∞–∫–ª–∏–Ω–∞–Ω–∏–µ "–î–æ—Å—Ç—É–ø –∑–∞–ø—Ä–µ—â—ë–Ω!"
from .models import MagicToken

class MagicTokenAuthentication(BaseAuthentication):
    """–≠—Ç–æ—Ç –ø—Ä–æ–≤–µ—Ä—è–ª—å—â–∏–∫ —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è –Ω–∞ –≤–æ–ª—à–µ–±–Ω—ã—Ö –∂–µ—Ç–æ–Ω–∞—Ö"""
    
    def authenticate(self, request):
        # DRF –≤—ã–∑—ã–≤–∞–µ—Ç —ç—Ç–æ—Ç –º–µ—Ç–æ–¥ –¥–ª—è –ö–ê–ñ–î–û–ì–û –∑–∞–ø—Ä–æ—Å–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏!
        # request - —ç—Ç–æ –≤—Å—ë –ø–∏—Å—å–º–æ –æ—Ç –∫–ª–∏–µ–Ω—Ç–∞ (–∑–∞–≥–æ–ª–æ–≤–∫–∏, —Ç–µ–ª–æ, –º–µ—Ç–æ–¥ –∏ —Ç.–¥.)
        
        # 1. –ò—â–µ–º –∑–∞–≥–æ–ª–æ–≤–æ–∫ Authorization
        auth_header = request.headers.get("Authorization")
        
        # 2. –ü—Ä–æ–≤–µ—Ä—è–µ–º, –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è –ª–∏ –æ–Ω —Å "Token "
        if not auth_header or not auth_header.startswith("Token "):
            return None  # "–≠—Ç–æ –Ω–µ –Ω–∞—à —Å–ª—É—á–∞–π, –ø—É—Å—Ç—å –¥—Ä—É–≥–∏–µ –ø—Ä–æ–≤–µ—Ä—è–ª—å—â–∏–∫–∏ —Å–º–æ—Ç—Ä—è—Ç"
        
        # 3. –ò–∑–≤–ª–µ–∫–∞–µ–º –∫–ª—é—á: "Token ABC" ‚Üí ["Token", "ABC"] ‚Üí –±–µ—Ä—ë–º "ABC"
        try:
            key = auth_header.split(" ")[1]
        except IndexError:
            return None  # –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç
        
        # 4. –ò—â–µ–º –∂–µ—Ç–æ–Ω –≤ –ö–Ω–∏–≥–µ –£—á—ë—Ç–∞
        try:
            token = MagicToken.objects.get(key=key)
        except MagicToken.DoesNotExist:
            # –ñ–µ—Ç–æ–Ω –Ω–µ –Ω–∞–π–¥–µ–Ω! –ö–∏–¥–∞–µ–º –∑–∞–∫–ª–∏–Ω–∞–Ω–∏–µ "–î–æ—Å—Ç—É–ø –∑–∞–ø—Ä–µ—â—ë–Ω!"
            raise AuthenticationFailed("Invalid token")
        
        # 5. –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è
        # –í–æ—Ç –≥–¥–µ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –Ω–∞—à –º–µ—Ç–æ–¥ is_valid()!
        if not token.is_valid():
            raise AuthenticationFailed("Token has expired")
        
        # 6. –í—Å—ë –æ–∫! –í–æ–∑–≤—Ä–∞—â–∞–µ–º (–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, —Ç–æ–∫–µ–Ω)
        # DRF –ø–æ–ª–æ–∂–∏—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ request.user, –∞ —Ç–æ–∫–µ–Ω –≤ request.auth
        return (token.user, token)
```

‚Äî –ê –∫—Ç–æ –≤—ã–∑—ã–≤–∞–µ—Ç `is_valid()`? ‚Äî —É—Ç–æ—á–Ω–∏–ª –í–∏–Ω–Ω–∏-–ü—É—Ö.

‚Äî –ú—ã —Å–∞–º–∏ –≤—ã–∑—ã–≤–∞–µ–º –µ–≥–æ –≤–æ—Ç –∑–¥–µ—Å—å, –≤ –ø—Ä–æ–≤–µ—Ä—è–ª—å—â–∏–∫–µ! ‚Äî –ø–æ–∫–∞–∑–∞–ª –§–∏–ª–∏–Ω. ‚Äî `if not token.is_valid():` ‚Äî —ç—Ç–æ –∏ –µ—Å—Ç—å –≤—ã–∑–æ–≤ –Ω–∞—à–µ–≥–æ –º–µ—Ç–æ–¥–∞.

**6. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–æ–≤–µ—Ä—è–ª—å—â–∏–∫–∞ (`settings.py`)**

‚Äî –ò –ø–æ—Å–ª–µ–¥–Ω–∏–π —à–∞–≥, ‚Äî —Å–∫–∞–∑–∞–ª –§–∏–ª–∏–Ω, ‚Äî –Ω—É–∂–Ω–æ –ø—Ä–æ–ø–∏—Å–∞—Ç—å –Ω–∞—à–µ–≥–æ –ø—Ä–æ–≤–µ—Ä—è–ª—å—â–∏–∫–∞ –≤ —É—Å—Ç–∞–≤–µ –∑–∞–º–∫–∞, —á—Ç–æ–±—ã —Å—Ç—Ä–∞–∂–∞ –Ω–∞—á–∞–ª–∞ –µ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å.

```python
# settings.py
REST_FRAMEWORK = {
    'DEFAULT_AUTHENTICATION_CLASSES': [
        'api.authentication.MagicTokenAuthentication',  # "–ò—Å–ø–æ–ª—å–∑—É–π —ç—Ç–æ–≥–æ –ø—Ä–æ–≤–µ—Ä—è–ª—å—â–∏–∫–∞!"
    ],
}
```

**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤—Å—è —Å–∏—Å—Ç–µ–º–∞:**
1.  –ö–ª–∏–µ–Ω—Ç ‚Üí POST —Å –ª–æ–≥–∏–Ω–æ–º/–ø–∞—Ä–æ–ª–µ–º ‚Üí –ø–æ–ª—É—á–∞–µ—Ç –∂–µ—Ç–æ–Ω
2.  –ö–ª–∏–µ–Ω—Ç ‚Üí GET —Å –∑–∞–≥–æ–ª–æ–≤–∫–æ–º `Authorization: Token ...`
3.  DRF ‚Üí —Å–æ–∑–¥–∞—ë—Ç –æ–±—ä–µ–∫—Ç `MagicTokenAuthentication` ‚Üí –≤—ã–∑—ã–≤–∞–µ—Ç `authenticate()`
4.  –ü—Ä–æ–≤–µ—Ä—è–ª—å—â–∏–∫ ‚Üí –∏—â–µ—Ç –∂–µ—Ç–æ–Ω –≤ –±–∞–∑–µ ‚Üí –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Å—Ä–æ–∫ ‚Üí –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
5.  DRF ‚Üí –∫–ª–∞–¥—ë—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ `request.user`
6.  –ü—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ ‚Üí –≤–∏–¥–∏—Ç `request.user` ‚Üí –ø–æ–Ω–∏–º–∞–µ—Ç, –∫—Ç–æ —ç—Ç–æ ‚Üí –≤—ã–¥–∞—ë—Ç –¥–∞–Ω–Ω—ã–µ

‚Äî –£—Ö —Ç—ã! ‚Äî –≤–æ—Å–∫–ª–∏–∫–Ω—É–ª –í–∏–Ω–Ω–∏-–ü—É—Ö. ‚Äî –≠—Ç–æ –∂–µ –∫–∞–∫ –Ω–∞—Å—Ç–æ—è—â–∞—è –º–∞–≥–∏—è! –¢–æ–ª—å–∫–æ –≤–º–µ—Å—Ç–æ –≤–æ–ª—à–µ–±–Ω—ã—Ö –ø–∞–ª–æ—á–µ–∫ ‚Äî –∫–æ–¥, –∞ –≤–º–µ—Å—Ç–æ –∑–∞–∫–ª–∏–Ω–∞–Ω–∏–π ‚Äî –º–µ—Ç–æ–¥—ã! ‚ú®

‚Äî –ò–º–µ–Ω–Ω–æ! ‚Äî —É–ª—ã–±–Ω—É–ª—Å—è –§–∏–ª–∏–Ω. ‚Äî –¢–æ–∫–µ–Ω ‚Äî —ç—Ç–æ –∫–ª—é—á –∫ –¥–æ–≤–µ—Ä–∏—é. –ü–æ–ª—É—á–∏–ª –µ–≥–æ –æ–¥–∏–Ω —Ä–∞–∑ 
‚Äî –∏ –ø–æ–ª—å–∑—É–π—Å—è, –ø–æ–∫–∞ –æ–Ω –¥–µ–π—Å—Ç–≤—É–µ—Ç.

–ñ–∏—Ç–µ–ª–∏ –õ–µ—Å–∞ —Å–º–æ—Ç—Ä–µ–ª–∏ –Ω–∞ –±–ª–µ—Å—Ç—è—â–∏–π –∂–µ—Ç–æ–Ω —Å –Ω–æ–≤—ã–º —É–≤–∞–∂–µ–Ω–∏–µ–º. –ö–∞–∑–∞–ª–æ—Å—å –±—ã, –ø—Ä–æ—Å—Ç–∞—è –±–µ–∑–¥–µ–ª—É—à–∫–∞, –∞ —Å–∫–æ–ª—å–∫–æ —Å–∏–ª—ã –∏ –ø–æ—Ä—è–¥–∫–∞ –æ–Ω–∞ –º–æ–∂–µ—Ç –ø—Ä–∏–Ω–µ—Å—Ç–∏ –≤ –∏—Ö —É—é—Ç–Ω—ã–π, –Ω–æ —Ç–∞–∫–æ–π —É—è–∑–≤–∏–º—ã–π –º–∏—Ä. üêª‚ù§Ô∏èüîê

---

# **–ì–ª–∞–≤–∞ 3 –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è –ö—É–∑–Ω–∏—Ü–∞ –ñ–µ—Ç–æ–Ω–æ–≤ –æ—Ç DRF** üî®üóùÔ∏è

–ù–∞ —Å–ª–µ–¥—É—é—â–µ–µ —É—Ç—Ä–æ –í–∏–Ω–Ω–∏-–ü—É—Ö, –ü—è—Ç–∞—á–æ–∫ –∏ –ö—Ä–æ–ª–∏–∫ —Å–æ–±—Ä–∞–ª–∏—Å—å –≤ –≥–ª–∞–≤–Ω–æ–º –∑–∞–ª–µ –∑–∞–º–∫–∞. –§–∏–ª–∏–Ω DRF —Ä–∞–∑–ª–æ–∂–∏–ª –ø–µ—Ä–µ–¥ –Ω–∏–º–∏ –Ω–æ–≤—ã–µ —Å–≤–∏—Ç–∫–∏ —Å –∑–∞–∫–ª–∏–Ω–∞–Ω–∏—è–º–∏.

‚Äî –í—á–µ—Ä–∞ –º—ã —Å–æ–∑–¥–∞–ª–∏ —Å–≤–æ–π –≤–æ–ª—à–µ–±–Ω—ã–π –∂–µ—Ç–æ–Ω —Å –Ω—É–ª—è, ‚Äî –Ω–∞—á–∞–ª –§–∏–ª–∏–Ω. ‚Äî –≠—Ç–æ –±—ã–ª–æ –æ—Ç–ª–∏—á–Ω–æ –¥–ª—è –ø–æ–Ω–∏–º–∞–Ω–∏—è, –Ω–æ –ø—Ä–µ–¥—Å—Ç–∞–≤—å—Ç–µ: –∫–∞–∂–¥—ã–π —Ä–∞–∑, –∫–æ–≥–¥–∞ –≤–∞–º –Ω—É–∂–Ω–æ –∑–∞–±–∏—Ç—å –≥–≤–æ–∑–¥—å, –≤—ã —Å–Ω–∞—á–∞–ª–∞ –∏–¥—ë—Ç–µ –≤ –∫—É–∑–Ω–∏—Ü—É, –ø–ª–∞–≤–∏—Ç–µ –∂–µ–ª–µ–∑–æ, –∫—É—ë—Ç–µ –º–æ–ª–æ—Ç–æ–∫... –ê –ø–æ—Ç–æ–º —É–∂–µ –∑–∞–±–∏–≤–∞–µ—Ç–µ –≥–≤–æ–∑–¥—å! üî®

‚Äî –û–π-–æ–π-–æ–π! ‚Äî –∑–∞–ø–∏—â–∞–ª –ü—è—Ç–∞—á–æ–∫. ‚Äî –≠—Ç–æ –∂–µ –æ—á–µ–Ω—å –¥–æ–ª–≥–æ!

‚Äî –ò–º–µ–Ω–Ω–æ! ‚Äî –∫–∏–≤–Ω—É–ª –§–∏–ª–∏–Ω. ‚Äî –ü–æ—ç—Ç–æ–º—É –º—É–¥—Ä—ã–µ —Å—Ç—Ä–æ–∏—Ç–µ–ª–∏ Django REST Framework —É–∂–µ —Å–æ–∑–¥–∞–ª–∏ –¥–ª—è –Ω–∞—Å –≥–æ—Ç–æ–≤—É—é, –æ—Ç–ª–∞–∂–µ–Ω–Ω—É—é –∫—É–∑–Ω–∏—Ü—É –∂–µ—Ç–æ–Ω–æ–≤. –û–Ω–∞ –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è `TokenAuthentication`. –î–∞–≤–∞–π—Ç–µ –Ω–∞—É—á–∏–º—Å—è –µ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è!

**–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –≤–æ–ª—à–µ–±–Ω–æ–≥–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞—Ä–∏—è üß∞**

‚Äî –î–ª—è –Ω–∞—á–∞–ª–∞ –Ω–∞–º –Ω—É–∂–Ω–æ —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ —É –Ω–∞—Å –µ—Å—Ç—å –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã, ‚Äî —Å–∫–∞–∑–∞–ª –§–∏–ª–∏–Ω, –¥–æ—Å—Ç–∞–≤–∞—è –≤–æ–ª—à–µ–±–Ω—ã–π —Å–≤–∏—Ç–æ–∫-–∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—é.

```bash
# –í –≤–æ–ª—à–µ–±–Ω–æ–π –∫–æ–Ω—Å–æ–ª–∏ (—Ç–µ—Ä–º–∏–Ω–∞–ª–µ) –≤—ã–ø–æ–ª–Ω—è–µ–º:
pip install djangorestframework
```

‚Äî –ù–æ —ç—Ç–æ –∂–µ —É –Ω–∞—Å —É–∂–µ –µ—Å—Ç—å! ‚Äî –≤–æ—Å–∫–ª–∏–∫–Ω—É–ª –ö—Ä–æ–ª–∏–∫.

‚Äî –í–µ—Ä–Ω–æ! ‚Äî –ø–æ–¥—Ç–≤–µ—Ä–¥–∏–ª –§–∏–ª–∏–Ω. ‚Äî –ù–æ –≤–Ω—É—Ç—Ä–∏ DRF –µ—Å—Ç—å —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π –º–æ–¥—É–ª—å –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Ç–æ–∫–µ–Ω–∞–º–∏ ‚Äî `rest_framework.authtoken`. –ï–≥–æ –Ω—É–∂–Ω–æ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –∑–∞–º–∫–∞.

**–®–∞–≥ 1: –ê–∫—Ç–∏–≤–∞—Ü–∏—è –º–æ–¥—É–ª—è —Ç–æ–∫–µ–Ω–æ–≤ (`settings.py`)**

–§–∏–ª–∏–Ω –æ—Ç–∫—Ä—ã–ª –≥–ª–∞–≤–Ω—É—é –∫–Ω–∏–≥—É –∑–∞–∫–æ–Ω–æ–≤ –∑–∞–º–∫–∞ ‚Äî —Ñ–∞–π–ª `settings.py`:

```python
# settings.py ‚Äî –ì–ª–∞–≤–Ω–∞—è –∫–Ω–∏–≥–∞ –∑–∞–∫–æ–Ω–æ–≤ –∑–∞–º–∫–∞
INSTALLED_APPS = [
    # ... –¥—Ä—É–≥–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è ...
    'rest_framework',           # –§—Ä–µ–π–º–≤–æ—Ä–∫ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è API
    'rest_framework.authtoken', # –ú–æ–¥—É–ª—å –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Ç–æ–∫–µ–Ω–∞–º–∏ (–í–û–¢ –≠–¢–û –ù–û–í–û–ï!)
]
```

‚Äî –ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ, ‚Äî –ø—Ä–æ–¥–æ–ª–∂–∏–ª –§–∏–ª–∏–Ω, ‚Äî –Ω—É–∂–Ω–æ –æ–±–Ω–æ–≤–∏—Ç—å –º–∞–≥–∏—á–µ—Å–∫–∏–µ —Ç–∞–±–ª–∏—Ü—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö:

```bash
python manage.py migrate
```

‚Äî –ß—Ç–æ –¥–µ–ª–∞–µ—Ç —ç—Ç–∞ –∫–æ–º–∞–Ω–¥–∞? ‚Äî —Å–ø—Ä–æ—Å–∏–ª –í–∏–Ω–Ω–∏-–ü—É—Ö.

‚Äî –û–Ω–∞ –≥–æ–≤–æ—Ä–∏—Ç Django: ¬´–î–æ—Ä–æ–≥–æ–π, —É –Ω–∞—Å –ø–æ—è–≤–∏–ª–æ—Å—å –Ω–æ–≤–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ `authtoken`. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, —Å–æ–∑–¥–∞–π –¥–ª—è –Ω–µ–≥–æ —Ç–∞–±–ª–∏—Ü—ã –≤ –Ω–∞—à–µ–π –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö!¬ª ‚Äî –æ–±—ä—è—Å–Ω–∏–ª –§–∏–ª–∏–Ω. ‚Äî Django —Å–æ–∑–¥–∞—Å—Ç —Ç–∞–±–ª–∏—Ü—É `authtoken_token` ‚Äî —ç—Ç–æ –∏ –±—É–¥–µ—Ç –Ω–∞—à–∞ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è –ö–Ω–∏–≥–∞ –£—á—ë—Ç–∞ –ñ–µ—Ç–æ–Ω–æ–≤. üìñ

**–®–∞–≥ 2: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–æ–≤–µ—Ä—è–ª—å—â–∏–∫–∞ –∂–µ—Ç–æ–Ω–æ–≤**

‚Äî –¢–µ–ø–µ—Ä—å –Ω—É–∂–Ω–æ —Å–∫–∞–∑–∞—Ç—å —Å—Ç—Ä–∞–∂–µ, —á—Ç–æ–±—ã –æ–Ω–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∞ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–≥–æ –ø—Ä–æ–≤–µ—Ä—è–ª—å—â–∏–∫–∞, ‚Äî —Å–∫–∞–∑–∞–ª –§–∏–ª–∏–Ω, –¥–æ–±–∞–≤–ª—è—è –Ω–æ–≤—ã–µ —Å—Ç—Ä–æ–∫–∏ –≤ `settings.py`:

```python
# settings.py
REST_FRAMEWORK = {
    'DEFAULT_AUTHENTICATION_CLASSES': [
        'rest_framework.authentication.TokenAuthentication',  # –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –ø—Ä–æ–≤–µ—Ä—è–ª—å—â–∏–∫!
    ],
    'DEFAULT_PERMISSION_CLASSES': [
        'rest_framework.permissions.IsAuthenticated',  # –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –ø—É—Å–∫–∞–µ–º —Ç–æ–ª—å–∫–æ –ø—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã—Ö
    ],
}
```

‚Äî –í–∏–¥–∏—Ç–µ —Ä–∞–∑–Ω–∏—Ü—É? ‚Äî —Å–ø—Ä–æ—Å–∏–ª –§–∏–ª–∏–Ω. ‚Äî –í—á–µ—Ä–∞ –º—ã –ø–∏—Å–∞–ª–∏ `'api.authentication.MagicTokenAuthentication'` (–Ω–∞—à —Å–∞–º–æ–¥–µ–ª—å–Ω—ã–π), –∞ —Å–µ–≥–æ–¥–Ω—è ‚Äî `'rest_framework.authentication.TokenAuthentication'` (–≥–æ—Ç–æ–≤—ã–π –æ—Ç DRF).

**–®–∞–≥ 3: –°–æ–∑–¥–∞–Ω–∏–µ –∂–µ—Ç–æ–Ω–æ–≤ –¥–ª—è –¥—Ä—É–∑–µ–π**

‚Äî –ê –∫–∞–∫ —Ç–µ–ø–µ—Ä—å —Å–æ–∑–¥–∞–≤–∞—Ç—å –∂–µ—Ç–æ–Ω—ã? ‚Äî —Å–ø—Ä–æ—Å–∏–ª –ü—è—Ç–∞—á–æ–∫.

‚Äî –ï—Å—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–ø–æ—Å–æ–±–æ–≤! ‚Äî –æ—Ç–≤–µ—Ç–∏–ª –§–∏–ª–∏–Ω. ‚Äî –ü–µ—Ä–≤—ã–π ‚Äî —á–µ—Ä–µ–∑ –≤–æ–ª—à–µ–±–Ω—É—é –∫–æ–Ω—Å–æ–ª—å:

```bash
# –°–æ–∑–¥–∞—ë–º –∂–µ—Ç–æ–Ω –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è 'winnie'
python manage.py drf_create_token winnie
```

‚Äî –ò —á—Ç–æ –ø—Ä–æ–∏–∑–æ–π–¥—ë—Ç? ‚Äî —Å –∏–Ω—Ç–µ—Ä–µ—Å–æ–º —Å–ø—Ä–æ—Å–∏–ª –í–∏–Ω–Ω–∏-–ü—É—Ö.

‚Äî –ö–æ–Ω—Å–æ–ª—å –≤—ã–¥–∞—Å—Ç —á—Ç–æ-—Ç–æ –≤—Ä–æ–¥–µ:
```
Generated token 9944b09199c62bcf9418ad846dd0e4bbdfc6ee4b for user winnie
```

‚Äî –≠—Ç–æ –∏ –µ—Å—Ç—å —Ç–≤–æ–π –≤–æ–ª—à–µ–±–Ω—ã–π –∂–µ—Ç–æ–Ω! ‚Äî –∑–∞–∫–æ–Ω—á–∏–ª –§–∏–ª–∏–Ω.

**–®–∞–≥ 4: –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞—â–∏—â—ë–Ω–Ω–æ–π –∫–æ–º–Ω–∞—Ç—ã (–∫–∞–∫ –≤—á–µ—Ä–∞, –Ω–æ –ø—Ä–æ—â–µ!)**

‚Äî –î–∞–≤–∞–π—Ç–µ —Å–æ–∑–¥–∞–¥–∏–º –∑–∞—â–∏—â—ë–Ω–Ω—É—é –∫–æ–º–Ω–∞—Ç—É, ‚Äî –ø—Ä–µ–¥–ª–æ–∂–∏–ª –ö—Ä–æ–ª–∏–∫.

‚Äî –û—Ç–ª–∏—á–Ω–∞—è –∏–¥–µ—è! ‚Äî —Å–æ–≥–ª–∞—Å–∏–ª—Å—è –§–∏–ª–∏–Ω. ‚Äî –ù–æ —Ç–µ–ø–µ—Ä—å —ç—Ç–æ –±—É–¥–µ—Ç –µ—â—ë –ø—Ä–æ—â–µ, –ø–æ—Ç–æ–º—É —á—Ç–æ –ø—Ä–æ–≤–µ—Ä—è–ª—å—â–∏–∫ —É –Ω–∞—Å —É–∂–µ –≥–æ—Ç–æ–≤—ã–π.

```python
# views.py ‚Äî —á–µ—Ä—Ç–µ–∂–∏ –∫–æ–º–Ω–∞—Ç –∑–∞–º–∫–∞
from rest_framework.views import APIView
from rest_framework.response import Response
from rest_framework.permissions import IsAuthenticated

class SecretHoneyStorageView(APIView):
    """
    –°–µ–∫—Ä–µ—Ç–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –º—ë–¥–∞.
    –î–æ—Å—Ç—É–ø–Ω–æ —Ç–æ–ª—å–∫–æ –¥—Ä—É–∑—å—è–º —Å –≤–æ–ª—à–µ–±–Ω—ã–º–∏ –∂–µ—Ç–æ–Ω–∞–º–∏!
    """
    permission_classes = [IsAuthenticated]  # –¢–æ–ª—å–∫–æ –¥–ª—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö!

    def get(self, request):
        # request.user —É–∂–µ —Å–æ–¥–µ—Ä–∂–∏—Ç –æ–±—ä–µ–∫—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è!
        # DRF —Å–∞–º –µ–≥–æ –ø–æ–¥—Å—Ç–∞–≤–∏–ª –ø–æ—Å–ª–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –∂–µ—Ç–æ–Ω–∞
        return Response({
            'message': f'–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å, {request.user.username}!',
            'secret': '–ó–¥–µ—Å—å —Ö—Ä–∞–Ω–∏—Ç—Å—è —Å–∞–º—ã–π –≤–∫—É—Å–Ω—ã–π –º—ë–¥ –≤ –ª–µ—Å—É!'
        })
```

‚Äî –ò –¥–æ–±–∞–≤–ª—è–µ–º –¥–≤–µ—Ä—å –∫ —ç—Ç–æ–π –∫–æ–º–Ω–∞—Ç–µ, ‚Äî —Å–∫–∞–∑–∞–ª –§–∏–ª–∏–Ω, –æ—Ç–∫—Ä—ã–≤–∞—è —Ñ–∞–π–ª `urls.py`:

```python
# urls.py ‚Äî –∫–∞—Ä—Ç–∞ –¥–≤–µ—Ä–µ–π –∑–∞–º–∫–∞
from django.urls import path
from .views import SecretHoneyStorageView

urlpatterns = [
    path('api/secret-honey/', SecretHoneyStorageView.as_view(), 
         name='secret_honey_storage'),
]
```

**–®–∞–≥ 5: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∂–µ—Ç–æ–Ω–∞**
‚Äî –î–∞–≤–∞–π—Ç–µ –ø—Ä–æ–≤–µ—Ä–∏–º! ‚Äî –≤–æ—Å–∫–ª–∏–∫–Ω—É–ª –í–∏–Ω–Ω–∏-–ü—É—Ö. ‚Äî –£ –º–µ–Ω—è –∂–µ –µ—Å—Ç—å –∂–µ—Ç–æ–Ω: `9944b09199c62bcf9418ad846dd0e4bbdfc6ee4b`.

–§–∏–ª–∏–Ω –≤–∑—è–ª —Å–≤–∏—Ç–æ–∫ –∏ –Ω–∞–ø–∏—Å–∞–ª —Ç–µ—Å—Ç–æ–≤–æ–µ –ø–∏—Å—å–º–æ:

```bash
# –ü–∏—Å—å–º–æ –æ—Ç –í–∏–Ω–Ω–∏-–ü—É—Ö–∞ —Å –∂–µ—Ç–æ–Ω–æ–º
curl -X GET http://–∑–∞–º–æ–∫-–¥–∞–Ω–Ω—ã—Ö.–ª–µ—Å/api/secret-honey/ \
  -H "Authorization: Token 9944b09199c62bcf9418ad846dd0e4bbdfc6ee4b"
```

‚Äî –ò —á—Ç–æ –æ—Ç–≤–µ—Ç–∏—Ç –∑–∞–º–æ–∫? ‚Äî –∑–∞–∏–Ω—Ç–µ—Ä–µ—Å–æ–≤–∞–ª—Å—è –ö—Ä–æ–ª–∏–∫.

‚Äî –ï—Å–ª–∏ –∂–µ—Ç–æ–Ω –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π:

```json
{
    "message": "–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å, winnie!",
    "secret": "–ó–¥–µ—Å—å —Ö—Ä–∞–Ω–∏—Ç—Å—è —Å–∞–º—ã–π –≤–∫—É—Å–Ω—ã–π –º—ë–¥ –≤ –ª–µ—Å—É!"
}
```

‚Äî –ê –µ—Å–ª–∏ –±–µ–∑ –∂–µ—Ç–æ–Ω–∞ –∏–ª–∏ —Å –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–º? ‚Äî —Å–ø—Ä–æ—Å–∏–ª –ü—è—Ç–∞—á–æ–∫.

–§–∏–ª–∏–Ω –≤–∑—è–ª –¥—Ä—É–≥–æ–π —Å–≤–∏—Ç–æ–∫ –∏ –Ω–∞–ø–∏—Å–∞–ª:

```bash
# –ü–∏—Å—å–º–æ –±–µ–∑ –∂–µ—Ç–æ–Ω–∞
curl -X GET http://–∑–∞–º–æ–∫-–¥–∞–Ω–Ω—ã—Ö.–ª–µ—Å/api/secret-honey/
```

‚Äî –¢–æ–≥–¥–∞ —Å–µ—Ä–≤–µ—Ä –æ—Ç–≤–µ—Ç–∏—Ç:

```json
{
    "detail": "–£—á–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –Ω–µ –±—ã–ª–∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω—ã."
}
```

‚Äî –û—Ç–∫—É–¥–∞ –±–µ—Ä—ë—Ç—Å—è —Ç–∞–∫–æ–π –æ—Ç–≤–µ—Ç? ‚Äî —É–¥–∏–≤–∏–ª—Å—è –í–∏–Ω–Ω–∏-–ü—É—Ö.

‚Äî –≠—Ç–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –æ—Ç–≤–µ—Ç DRF, –∫–æ–≥–¥–∞ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ `IsAuthenticated` –Ω–µ –≤–∏–¥–∏—Ç –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è! ‚Äî –æ–±—ä—è—Å–Ω–∏–ª –§–∏–ª–∏–Ω. ‚Äî –í–Ω—É—Ç—Ä–∏ DRF –µ—Å—Ç—å —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫, –∫–æ—Ç–æ—Ä—ã–π –ª–æ–≤–∏—Ç –≤—Å–µ —Å–ª—É—á–∞–∏, –∫–æ–≥–¥–∞ –¥–æ—Å—Ç—É–ø –∑–∞–ø—Ä–µ—â—ë–Ω, –∏ —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç –∫—Ä–∞—Å–∏–≤—ã–π JSON-–æ—Ç–≤–µ—Ç —Å –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ–º. –ò —Å—Ç–∞—Ç—É—Å –ø—Ä–∏ —ç—Ç–æ–º –±—É–¥–µ—Ç `401 Unauthorized`.

**–ü—Ä–æ–≥—Ä–∞–º–º–Ω–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –∂–µ—Ç–æ–Ω–æ–≤ üíª**

‚Äî –ê –µ—Å–ª–∏ —è —Ö–æ—á—É —Å–æ–∑–¥–∞–≤–∞—Ç—å –∂–µ—Ç–æ–Ω—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏? ‚Äî —Å–ø—Ä–æ—Å–∏–ª –ö—Ä–æ–ª–∏–∫, –∫–æ—Ç–æ—Ä—ã–π –ª—é–±–∏–ª –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—é. ‚Äî –ù–∞–ø—Ä–∏–º–µ—Ä, –∫–æ–≥–¥–∞ –Ω–æ–≤—ã–π –¥—Ä—É–≥ —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç—Å—è –≤ –∑–∞–º–∫–µ?

‚Äî –û—Ç–ª–∏—á–Ω—ã–π –≤–æ–ø—Ä–æ—Å! ‚Äî –ø–æ—Ö–≤–∞–ª–∏–ª –§–∏–ª–∏–Ω. ‚Äî –í–æ—Ç –∫–∞–∫ —ç—Ç–æ –¥–µ–ª–∞–µ—Ç—Å—è:

```python
# –ì–¥–µ-–Ω–∏–±—É–¥—å –≤ –∫–æ–¥–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
from rest_framework.authtoken.models import Token  # –ò–º–ø–æ—Ä—Ç–∏—Ä—É–µ–º —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—É—é –º–æ–¥–µ–ª—å Token –∏–∑ DRF!
from django.contrib.auth.models import User
```

‚Äî –ß—Ç–æ —Ç–∞–∫–æ–µ —ç—Ç–æ—Ç –º–æ–¥—É–ª—å Token? ‚Äî —Å–ø—Ä–æ—Å–∏–ª –ü—è—Ç–∞—á–æ–∫.

‚Äî –≠—Ç–æ –≥–æ—Ç–æ–≤–∞—è –º–æ–¥–µ–ª—å –∏–∑ –ø–∞–∫–µ—Ç–∞ `rest_framework.authtoken`, ‚Äî –æ–±—ä—è—Å–Ω–∏–ª –§–∏–ª–∏–Ω. –ö–æ–≥–¥–∞ –º—ã –¥–æ–±–∞–≤–∏–ª–∏ `'rest_framework.authtoken'` –≤ INSTALLED_APPS, Django —Å–æ–∑–¥–∞–ª —Ç–∞–±–ª–∏—Ü—É –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö –∏ –º–æ–¥–µ–ª—å –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –Ω–µ–π. –≠—Ç–∞ –º–æ–¥–µ–ª—å –æ—á–µ–Ω—å –ø–æ—Ö–æ–∂–∞ –Ω–∞ –Ω–∞—à—É `MagicToken`, –Ω–æ —É–∂–µ –≥–æ—Ç–æ–≤–∞—è –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–Ω–∞—è!

–î–æ–ø—É—Å—Ç–∏–º, —É –Ω–∞—Å –µ—Å—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å

```python
user = User.objects.get(username='piglet')
```

‚Äî –°–æ–∑–¥–∞—ë–º –∏–ª–∏ –ø–æ–ª—É—á–∞–µ–º —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π —Ç–æ–∫–µ–Ω
`get_or_create` ‚Äî –≤–æ–ª—à–µ–±–Ω–æ–µ –∑–∞–∫–ª–∏–Ω–∞–Ω–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ:
1.  –ò—â–µ—Ç —Ç–æ–∫–µ–Ω –¥–ª—è —ç—Ç–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
2.  –ï—Å–ª–∏ –Ω–∞—Ö–æ–¥–∏—Ç ‚Äî –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –µ–≥–æ
3.  –ï—Å–ª–∏ –Ω–µ –Ω–∞—Ö–æ–¥–∏—Ç ‚Äî —Å–æ–∑–¥–∞—ë—Ç –Ω–æ–≤—ã–π –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç

```python
token, created = Token.objects.get_or_create(user=user)
token.key ‚Äî —ç—Ç–æ —Å–∞–º –∂–µ—Ç–æ–Ω!

print(f"–ñ–µ—Ç–æ–Ω –ü—è—Ç–∞—á–∫–∞: {token.key}")
```

‚Äî –î–∞–≤–∞–π—Ç–µ –ø–æ–∫–∞–∂–µ–º, –∫–∞–∫ —ç—Ç–æ –≤—ã–≥–ª—è–¥–∏—Ç –Ω–∞ –ø—Ä–∞–∫—Ç–∏–∫–µ –ø—Ä–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏! ‚Äî –ø—Ä–µ–¥–ª–æ–∂–∏–ª –í–∏–Ω–Ω–∏-–ü—É—Ö.

**–ü—Ä–∏–º–µ—Ä: –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –Ω–æ–≤–æ–≥–æ –¥—Ä—É–≥–∞ —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º —Å–æ–∑–¥–∞–Ω–∏–µ–º –∂–µ—Ç–æ–Ω–∞**
```python
# –ü—Ä–∏–º–µ—Ä –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
from rest_framework.views import APIView
from rest_framework.response import Response
from rest_framework import status
from django.contrib.auth.models import User
from rest_framework.authtoken.models import Token

class RegisterView(APIView):
    def post(self, request):
        username = request.data.get('username')
        password = request.data.get('password')
        email = request.data.get('email')
        
        if User.objects.filter(username=username).exists():
            return Response(
                {'error': '–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å —Ç–∞–∫–∏–º –∏–º–µ–Ω–µ–º —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç'},
                status=status.HTTP_400_BAD_REQUEST
            )
        
        # –°–æ–∑–¥–∞—ë–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
        user = User.objects.create_user(
            username=username,
            password=password,
            email=email
        )
        
        # –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞—ë–º —Ç–æ–∫–µ–Ω –¥–ª—è –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
        token = Token.objects.create(user=user)
        
        return Response({
            'message': '–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —É—Å–ø–µ—à–Ω–∞!',
            'username': user.username,
            'token': token.key  # –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –∂–µ—Ç–æ–Ω —Å—Ä–∞–∑—É –ø—Ä–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏!
        }, status=status.HTTP_201_CREATED)
```

*–ó–∞–ø—Ä–æ—Å –Ω–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é:*
```bash
curl -X POST http://–∑–∞–º–æ–∫-–¥–∞–Ω–Ω—ã—Ö.–ª–µ—Å/api/register/ \
  -H "Content-Type: application/json" \
  -d '{"username": "tigger", "password": "bounce123", "email": "tigger@forest.com"}'
```

*–û—Ç–≤–µ—Ç —Å–µ—Ä–≤–µ—Ä–∞:*
```json
{
    "message": "–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —É—Å–ø–µ—à–Ω–∞!",
    "username": "tigger",
    "token": "c7f8d9e0a1b2c3d4e5f6a7b8c9d0e1f2"
}
```

‚Äî –í–∏–¥–∏—Ç–µ? ‚Äî —Å–∫–∞–∑–∞–ª –§–∏–ª–∏–Ω. ‚Äî –¢–∏–≥—Ä–∞ —Ç–æ–ª—å–∫–æ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–ª—Å—è, –∞ —É–∂–µ –ø–æ–ª—É—á–∏–ª —Å–≤–æ–π –≤–æ–ª—à–µ–±–Ω—ã–π –∂–µ—Ç–æ–Ω –∏ –º–æ–∂–µ—Ç —Å—Ä–∞–∑—É –∏–º –ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è!

**–¢–∏–ø–∏—á–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –∏ –∏—Ö —Ä–µ—à–µ–Ω–∏—è üîß**

‚Äî –ê —á—Ç–æ –µ—Å–ª–∏ —á—Ç–æ-—Ç–æ –ø–æ–π–¥—ë—Ç –Ω–µ —Ç–∞–∫? ‚Äî —Å–ø—Ä–æ—Å–∏–ª –æ—Å—Ç–æ—Ä–æ–∂–Ω—ã–π –ü—è—Ç–∞—á–æ–∫.

–§–∏–ª–∏–Ω –¥–æ—Å—Ç–∞–ª –µ—â—ë –æ–¥–∏–Ω —Å–≤–∏—Ç–æ–∫ ‚Äî ¬´–°–ø—Ä–∞–≤–æ—á–Ω–∏–∫ –ø–æ —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏—é –Ω–µ–ø–æ–ª–∞–¥–æ–∫¬ª:

*   **–ü—Ä–æ–±–ª–µ–º–∞:** –í –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–∏ `request.user` ‚Äî –∞–Ω–æ–Ω–∏–º–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å (`AnonymousUser`).
    *   **–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä—å, —á—Ç–æ `TokenAuthentication` —É–∫–∞–∑–∞–Ω –≤ `DEFAULT_AUTHENTICATION_CLASSES` –≤ `settings.py`.
*   **–ü—Ä–æ–±–ª–µ–º–∞:** –ñ–µ—Ç–æ–Ω –µ—Å—Ç—å, –Ω–æ –¥–æ—Å—Ç—É–ø –∑–∞–ø—Ä–µ—â—ë–Ω (`401 Unauthorized`).
    *   **–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä—å —Ñ–æ—Ä–º–∞—Ç –∑–∞–≥–æ–ª–æ–≤–∫–∞. –î–æ–ª–∂–Ω–æ –±—ã—Ç—å: `Authorization: Token –≤–∞—à_–∂–µ—Ç–æ–Ω_–∑–¥–µ—Å—å` (—Å –ø—Ä–æ–±–µ–ª–æ–º –ø–æ—Å–ª–µ `Token`). –ò –ø—Ä–æ–≤–µ—Ä—å, –Ω–µ –∏—Å—Ç—ë–∫ –ª–∏ —Å—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è (–µ—Å–ª–∏ —Ç—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª —Å–≤–æ—é –º–æ–¥–µ–ª—å —Å `expires_at`).
*   **–ü—Ä–æ–±–ª–µ–º–∞:** –ü–æ—Å–ª–µ –º–∏–≥—Ä–∞—Ü–∏–∏ –ø–æ—è–≤–∏–ª–∏—Å—å –¥—É–±–ª–∏—Ä—É—é—â–∏–µ—Å—è –∂–µ—Ç–æ–Ω—ã.
    *   **–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä—å, –Ω–µ—Ç –ª–∏ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–∞ –º–∏–≥—Ä–∞—Ü–∏–π. –ú–æ–∂–Ω–æ –æ—á–∏—Å—Ç–∏—Ç—å —Ç–∞–±–ª–∏—Ü—É —Ç–æ–∫–µ–Ω–æ–≤ –∏ —Å–æ–∑–¥–∞—Ç—å –∑–∞–Ω–æ–≤–æ.
*   **–ü—Ä–æ–±–ª–µ–º–∞:** –ü—Ä–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ —Ç–æ–∫–µ–Ω –Ω–µ —Å–æ–∑–¥–∞—ë—Ç—Å—è.
    *   **–†–µ—à–µ–Ω–∏–µ:** –£–±–µ–¥–∏—Å—å, —á—Ç–æ –≤—ã–∑–≤–∞–ª `Token.objects.create(user=user)` –ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.

‚Äî –ò –ø–æ–º–Ω–∏—Ç–µ –≥–ª–∞–≤–Ω–æ–µ, ‚Äî –∑–∞–∫–ª—é—á–∏–ª –§–∏–ª–∏–Ω, ‚Äî —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π `TokenAuthentication` –æ—Ç DRF ‚Äî —ç—Ç–æ –∫–∞–∫ –≥–æ—Ç–æ–≤—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –∏–∑ –º–∞–≥–∞–∑–∏–Ω–∞. –ù–µ –Ω—É–∂–Ω–æ –∫–æ–≤–∞—Ç—å —Å–≤–æ–π –º–æ–ª–æ—Ç–æ–∫, –∫–æ–≥–¥–∞ –º–æ–∂–Ω–æ –≤–∑—è—Ç—å –≥–æ—Ç–æ–≤—ã–π, –æ—Ç–ª–∏—á–Ω–æ —Å–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π! üõ†Ô∏è

‚Äî –£—Ä–∞! ‚Äî –∑–∞–∫—Ä–∏—á–∞–ª –í–∏–Ω–Ω–∏-–ü—É—Ö. ‚Äî –¢–µ–ø–µ—Ä—å —É –º–µ–Ω—è –µ—Å—Ç—å –≤–æ–ª—à–µ–±–Ω—ã–π –∂–µ—Ç–æ–Ω, –∏ —è –º–æ–≥—É –ø–æ–ª—É—á–∞—Ç—å –¥–æ—Å—Ç—É–ø –∫ —Å–µ–∫—Ä–µ—Ç–Ω–æ–º—É –º—ë–¥—É! üçØ

–ñ–∏—Ç–µ–ª–∏ –õ–µ—Å–∞ —Ä–∞–∑–æ—à–ª–∏—Å—å –ø–æ –¥–æ–º–∞–º, —É –∫–∞–∂–¥–æ–≥–æ –≤ –≥–æ–ª–æ–≤–µ –∫—Ä—É—Ç–∏–ª–∏—Å—å –º—ã—Å–ª–∏ –æ –∂–µ—Ç–æ–Ω–∞—Ö, –ø—Ä–æ–≤–µ—Ä–∫–∞—Ö –∏ –±–µ–∑–æ–ø–∞—Å–Ω—ã—Ö API. –ê –í–∏–Ω–Ω–∏-–ü—É—Ö –∫—Ä–µ–ø–∫–æ —Å–∂–∏–º–∞–ª –≤ –ª–∞–ø–µ —Å–≤–æ–π –ø–µ—Ä–≤—ã–π –≤–æ–ª—à–µ–±–Ω—ã–π –∂–µ—Ç–æ–Ω ‚Äî –∫–ª—é—á –∫ —Å–µ–∫—Ä–µ—Ç–∞–º –∑–∞–º–∫–∞ –¥–∞–Ω–Ω—ã—Ö. üîê‚ú®

---

# **–ì–ª–∞–≤–∞ 4 –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ö—É–∑–Ω–∏—Ü–∞ –∏ –£–º–Ω—ã–µ –ü—Ä–æ–ø—É—Å–∫–∞** ‚öôÔ∏èüóùÔ∏è

–ß–µ—Ä–µ–∑ –Ω–µ—Å–∫–æ–ª—å–∫–æ –¥–Ω–µ–π –∂–∏—Ç–µ–ª–∏ –õ–µ—Å–∞ —Å–Ω–æ–≤–∞ —Å–æ–±—Ä–∞–ª–∏—Å—å –≤ –∑–∞–º–∫–µ. –í–∏–Ω–Ω–∏-–ü—É—Ö —É–∂–µ —É—Å–ø–µ–ª –ø–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å —Å–≤–æ–π –≤–æ–ª—à–µ–±–Ω—ã–π –∂–µ—Ç–æ–Ω –∏ –±—ã–ª –≤ –≤–æ—Å—Ç–æ—Ä–≥–µ.

‚Äî –≠—Ç–æ –∂–µ –ø—Ä–æ—Å—Ç–æ –≤–æ–ª—à–µ–±—Å—Ç–≤–æ! ‚Äî –≤–æ—Å–∫–ª–∏–∫–Ω—É–ª –æ–Ω. ‚Äî –û–¥–∏–Ω —Ä–∞–∑ –ø–æ–ª—É—á–∏–ª –∂–µ—Ç–æ–Ω, –∏ —Ç–µ–ø–µ—Ä—å –º–æ–≥—É –±—Ä–∞—Ç—å –º—ë–¥ –∏–∑ —Å–µ–∫—Ä–µ—Ç–Ω–æ–≥–æ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞, –∫–æ–≥–¥–∞ –∑–∞—Ö–æ—á—É! üçØ

‚Äî –î–∞, –∂–µ—Ç–æ–Ω—ã ‚Äî —ç—Ç–æ —É–¥–æ–±–Ω–æ, ‚Äî —Å–æ–≥–ª–∞—Å–∏–ª—Å—è –§–∏–ª–∏–Ω. ‚Äî –ù–æ –ø—Ä–µ–¥—Å—Ç–∞–≤—å—Ç–µ: –∫–∞–∂–¥—ã–π —Ä–∞–∑, –∫–æ–≥–¥–∞ –≤ –∑–∞–º–æ–∫ –ø—Ä–∏—Ö–æ–¥–∏—Ç –Ω–æ–≤—ã–π –¥—Ä—É–≥, –∫—Ç–æ-—Ç–æ –¥–æ–ª–∂–µ–Ω –±–µ–∂–∞—Ç—å –≤ –∫–æ–Ω—Å–æ–ª—å –∏ –≤—ã–ø–æ–ª–Ω—è—Ç—å `drf_create_token`. –≠—Ç–æ –∫–∞–∫ –µ—Å–ª–∏ –±—ã –Ω–∞ –∫–∞–∂–¥—É—é –Ω–æ–≤—É—é –ø–æ—á—Ç–æ–≤—É—é –º–∞—Ä–∫—É –Ω—É–∂–Ω–æ –±—ã–ª–æ –∏–¥—Ç–∏ –∫ –∫–æ—Ä–æ–ª—é –∑–∞ –ª–∏—á–Ω–æ–π –ø–µ—á–∞—Ç—å—é! üëë

‚Äî –û–π-–æ–π-–æ–π! ‚Äî –∑–∞–ø–∏—â–∞–ª –ü—è—Ç–∞—á–æ–∫. ‚Äî –≠—Ç–æ –∂–µ –Ω–µ—É–¥–æ–±–Ω–æ!

‚Äî –ò–º–µ–Ω–Ω–æ! ‚Äî –∫–∏–≤–Ω—É–ª –§–∏–ª–∏–Ω. ‚Äî –ü–æ—ç—Ç–æ–º—É —Å–µ–≥–æ–¥–Ω—è –º—ã —Å–¥–µ–ª–∞–µ–º –Ω–∞—à—É –∫—É–∑–Ω–∏—Ü—É –∂–µ—Ç–æ–Ω–æ–≤ –ø–æ–ª–Ω–æ—Å—Ç—å—é –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π! –ò —É–∑–Ω–∞–µ–º, –∫–∞–∫ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∂–µ—Ç–æ–Ω—ã –≤ —Ä–∞–∑–Ω—ã—Ö —Å–∏—Ç—É–∞—Ü–∏—è—Ö.

**–í–æ–ª—à–µ–±–Ω–∞—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∫—É–∑–Ω–∏—Ü–∞**

‚Äî –ü–æ–º–Ω–∏—Ç–µ, –≤—á–µ—Ä–∞ –º—ã –≤—Ä—É—á–Ω—É—é —Å–æ–∑–¥–∞–≤–∞–ª–∏ –∂–µ—Ç–æ–Ω—ã? ‚Äî —Å–ø—Ä–æ—Å–∏–ª –§–∏–ª–∏–Ω. ‚Äî –°–µ–≥–æ–¥–Ω—è –º—ã –Ω–∞—Å—Ç—Ä–æ–∏–º —Å–∏–≥–Ω–∞–ª—ã Django ‚Äî —ç—Ç–æ –∫–∞–∫ –≤–æ–ª—à–µ–±–Ω—ã–µ —Å–ª—É—Ö–∏, –∫–æ—Ç–æ—Ä—ã–µ —Ä–∞–∑–Ω–æ—Å—è—Ç—Å—è –ø–æ –∑–∞–º–∫—É, –∫–æ–≥–¥–∞ —á—Ç–æ-—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç.

‚Äî –°–ª—É—Ö–∏? ‚Äî —É–¥–∏–≤–∏–ª—Å—è –í–∏–Ω–Ω–∏-–ü—É—Ö.

‚Äî –î–∞! ‚Äî –ø–æ–¥—Ç–≤–µ—Ä–¥–∏–ª –§–∏–ª–∏–Ω. ‚Äî –ù–∞–ø—Ä–∏–º–µ—Ä, –∫–æ–≥–¥–∞ —Ä–æ–∂–¥–∞–µ—Ç—Å—è –Ω–æ–≤—ã–π –∂–∏—Ç–µ–ª—å –õ–µ—Å–∞ (—Å–æ–∑–¥–∞—ë—Ç—Å—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å), –ø–æ –∑–∞–º–∫—É —Ä–∞–∑–Ω–æ—Å–∏—Ç—Å—è —Å–ª—É—Ö: ¬´–≠–π, –≤—Å–µ! –¢–æ–ª—å–∫–æ —á—Ç–æ —Ä–æ–¥–∏–ª—Å—è –Ω–æ–≤—ã–π –¥—Ä—É–≥!¬ª ü§´ –ò –Ω–∞—à–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∫—É–∑–Ω–∏—Ü–∞, —É—Å–ª—ã—à–∞–≤ —ç—Ç–æ—Ç —Å–ª—É—Ö, —Å—Ä–∞–∑—É –∂–µ –≤—ã–∫–æ–≤—ã–≤–∞–µ—Ç –¥–ª—è –Ω–µ–≥–æ –∂–µ—Ç–æ–Ω!

**–®–∞–≥ 1: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–∏–≥–Ω–∞–ª–æ–≤ (`signals.py`)**

–§–∏–ª–∏–Ω –æ—Ç–∫—Ä—ã–ª –Ω–æ–≤—ã–π —Å–≤–∏—Ç–æ–∫ –∏ –Ω–∞—á–∞–ª –ø–∏—Å–∞—Ç—å –∑–∞–∫–ª–∏–Ω–∞–Ω–∏–µ:

```python
# signals.py –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ 'api'
from django.conf import settings
from django.db.models.signals import post_save  # –ò–º–ø–æ—Ä—Ç–∏—Ä—É–µ–º "—Å–ª—É—Ö": "–ø–æ—Å–ª–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è"
from django.dispatch import receiver  # –ò–º–ø–æ—Ä—Ç–∏—Ä—É–µ–º "—É—Ö–æ", –∫–æ—Ç–æ—Ä–æ–µ –±—É–¥–µ—Ç —Å–ª—É—à–∞—Ç—å
from rest_framework.authtoken.models import Token  # –ù–∞—à–∞ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è –º–æ–¥–µ–ª—å —Ç–æ–∫–µ–Ω–æ–≤

@receiver(post_save, sender=settings.AUTH_USER_MODEL)
def create_auth_token(sender, instance=None, created=False, **kwargs):
    """
    –í–æ–ª—à–µ–±–Ω–æ–µ –∑–∞–∫–ª–∏–Ω–∞–Ω–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –ö–ê–ñ–î–´–ô –†–ê–ó,
    –∫–æ–≥–¥–∞ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –æ–±—ä–µ–∫—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.
    """
    if created:  # –ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Ç–æ–ª—å–∫–æ —á—Ç–æ —Å–æ–∑–¥–∞–Ω (–∞ –Ω–µ –ø—Ä–æ—Å—Ç–æ –æ–±–Ω–æ–≤–ª—ë–Ω)
        Token.objects.create(user=instance)  # –°–æ–∑–¥–∞—ë–º –¥–ª—è –Ω–µ–≥–æ —Ç–æ–∫–µ–Ω!
        print(f"–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–Ω —Ç–æ–∫–µ–Ω –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è {instance.username}")
```

‚Äî –ü–æ–¥–æ–∂–¥–∏! ‚Äî –æ—Å—Ç–∞–Ω–æ–≤–∏–ª –§–∏–ª–∏–Ω–∞ –ö—Ä–æ–ª–∏–∫. ‚Äî –ö—Ç–æ, –∫–æ–≥–¥–∞ –∏ –∫–∞–∫ –ø–µ—Ä–µ–¥–∞—ë—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –≤ —ç—Ç—É —Ñ—É–Ω–∫—Ü–∏—é? `sender`, `instance`, `created` ‚Äî –æ—Ç–∫—É–¥–∞ –æ–Ω–∏ –±–µ—Ä—É—Ç—Å—è?

‚Äî –û—Ç–ª–∏—á–Ω—ã–π –≤–æ–ø—Ä–æ—Å! ‚Äî –ø–æ—Ö–≤–∞–ª–∏–ª –§–∏–ª–∏–Ω. ‚Äî Django —Å–∞–º –ø–µ—Ä–µ–¥–∞—ë—Ç —ç—Ç–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã, –∫–æ–≥–¥–∞ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Å–∏–≥–Ω–∞–ª `post_save`. –í–æ—Ç –∫–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:
*   –ö–æ–≥–¥–∞ –≤—ã –≤—ã–∑—ã–≤–∞–µ—Ç–µ `user.save()` –∏–ª–∏ `User.objects.create(...)`, Django –ø–æ—Å–ª–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –≤ –±–∞–∑—É —Å–∞–º –≤—ã–∑—ã–≤–∞–µ—Ç –≤—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏, –∫–æ—Ç–æ—Ä—ã–µ —Å–ª—É—à–∞—é—Ç —Å–∏–≥–Ω–∞–ª `post_save` –¥–ª—è –º–æ–¥–µ–ª–∏ `User`.
*   `sender` ‚Äî —ç—Ç–æ —Å–∞–º–∞ –º–æ–¥–µ–ª—å, –∫–æ—Ç–æ—Ä–∞—è –æ—Ç–ø—Ä–∞–≤–∏–ª–∞ —Å–∏–≥–Ω–∞–ª (–≤ –Ω–∞—à–µ–º —Å–ª—É—á–∞–µ `User`).
*   `instance` ‚Äî —ç—Ç–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –æ–±—ä–µ–∫—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –∫–æ—Ç–æ—Ä—ã–π —Ç–æ–ª—å–∫–æ —á—Ç–æ —Å–æ—Ö—Ä–∞–Ω–∏–ª–∏.
*   `created` ‚Äî —ç—Ç–æ –±—É–ª–µ–≤–æ –∑–Ω–∞—á–µ–Ω–∏–µ: `True`, –µ—Å–ª–∏ –æ–±—ä–µ–∫—Ç –±—ã–ª —Å–æ–∑–¥–∞–Ω, `False`, –µ—Å–ª–∏ –æ–Ω –±—ã–ª –æ–±–Ω–æ–≤–ª—ë–Ω.
*   –ú—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º `if created:`, —á—Ç–æ–±—ã —Å–æ–∑–¥–∞–≤–∞—Ç—å —Ç–æ–∫–µ–Ω —Ç–æ–ª—å–∫–æ –¥–ª—è –Ω–æ–≤—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, –∞ –Ω–µ –ø—Ä–∏ –∫–∞–∂–¥–æ–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ –∏—Ö –ø—Ä–æ—Ñ–∏–ª—è!

‚Äî –ê –∫–∞–∫ —ç—Ç–æ—Ç —Ç–æ–∫–µ–Ω –ø–æ—Ç–æ–º –ø–æ–ø–∞–¥–∞–µ—Ç –≤ HTTP-–æ—Ç–≤–µ—Ç? ‚Äî —Å–ø—Ä–æ—Å–∏–ª –í–∏–Ω–Ω–∏-–ü—É—Ö.

‚Äî –ê –≤–æ—Ç —Ç–∞–∫! ‚Äî —Å–∫–∞–∑–∞–ª –§–∏–ª–∏–Ω –∏ –æ—Ç–∫—Ä—ã–ª –¥—Ä—É–≥–æ–π —Å–≤–∏—Ç–æ–∫. ‚Äî –ö–æ–≥–¥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ª–æ–≥–∏–Ω–∏—Ç—Å—è —á–µ—Ä–µ–∑ `/api/token/`, –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ `obtain_auth_token` –∏—â–µ—Ç —Ç–æ–∫–µ–Ω —ç—Ç–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ –±–∞–∑–µ (–∫–æ—Ç–æ—Ä—ã–π –º—ã —Ç–æ–ª—å–∫–æ —á—Ç–æ —Å–æ–∑–¥–∞–ª–∏ —á–µ—Ä–µ–∑ —Å–∏–≥–Ω–∞–ª) –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –µ–≥–æ –≤ –æ—Ç–≤–µ—Ç–µ:

```python
# –í–Ω—É—Ç—Ä–∏ obtain_auth_token –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø—Ä–∏–º–µ—Ä–Ω–æ —ç—Ç–æ:
token = Token.objects.get(user=user)  # –ù–∞—Ö–æ–¥–∏–º —Ç–æ–∫–µ–Ω, —Å–æ–∑–¥–∞–Ω–Ω—ã–π —Å–∏–≥–Ω–∞–ª–æ–º
return Response({'token': token.key})  # –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –µ–≥–æ –≤ HTTP-–æ—Ç–≤–µ—Ç–µ
```

**–®–∞–≥ 2: –ê–∫—Ç–∏–≤–∞—Ü–∏—è —Å–ª—É—Ö–∞ (`apps.py`)**

‚Äî –ù–æ —á—Ç–æ–±—ã ¬´—É—Ö–æ¬ª –Ω–∞—á–∞–ª–æ —Å–ª—É—à–∞—Ç—å, –µ–≥–æ –Ω—É–∂–Ω–æ –≤–∫–ª—é—á–∏—Ç—å! ‚Äî –ø—Ä–æ–¥–æ–ª–∂–∏–ª –§–∏–ª–∏–Ω. ‚Äî –î–ª—è —ç—Ç–æ–≥–æ –æ—Ç–∫—Ä–æ–µ–º —Ñ–∞–π–ª `apps.py` –Ω–∞—à–µ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:

```python
# apps.py –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è 'api'
from django.apps import AppConfig

class ApiConfig(AppConfig):
    default_auto_field = 'django.db.models.BigAutoField'
    name = 'api'
    
    def ready(self):
        """
        –≠—Ç–æ—Ç –º–µ—Ç–æ–¥ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è, –∫–æ–≥–¥–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≥–æ—Ç–æ–≤–æ –∫ —Ä–∞–±–æ—Ç–µ.
        –ó–¥–µ—Å—å –º—ã "–≤–∫–ª—é—á–∞–µ–º" –Ω–∞—à–∏ —Å–∏–≥–Ω–∞–ª—ã.
        """
        import api.signals  # –ò–º–ø–æ—Ä—Ç–∏—Ä—É–µ–º —Ñ–∞–π–ª —Å —Å–∏–≥–Ω–∞–ª–∞–º–∏
        # –¢–µ–ø–µ—Ä—å –Ω–∞—à–µ "—É—Ö–æ" –∞–∫—Ç–∏–≤–Ω–æ –∏ –±—É–¥–µ—Ç —Å–ª—É—à–∞—Ç—å —Å–∏–≥–Ω–∞–ª—ã!
```

**–®–∞–≥ 3: –í—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è –∫—É–∑–Ω–∏—Ü–∞ –æ—Ç DRF**

‚Äî –ê –∑–Ω–∞–µ—Ç–µ, —á—Ç–æ —Å–∞–º–æ–µ —É–¥–æ–±–Ω–æ–µ? ‚Äî —Å–∫–∞–∑–∞–ª –§–∏–ª–∏–Ω —Å —É–ª—ã–±–∫–æ–π. ‚Äî DRF —É–∂–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –≥–æ—Ç–æ–≤—ã–π —ç–Ω–¥–ø–æ–∏–Ω—Ç –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Ç–æ–∫–µ–Ω–æ–≤! –ï–≥–æ –¥–∞–∂–µ –Ω–µ –Ω—É–∂–Ω–æ –ø–∏—Å–∞—Ç—å!

–û–Ω –æ—Ç–∫—Ä—ã–ª —Ñ–∞–π–ª `urls.py`:

```python
# urls.py –∑–∞–º–∫–∞
from django.urls import path
from rest_framework.authtoken.views import obtain_auth_token  # –ì–æ—Ç–æ–≤—ã–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫!

urlpatterns = [
    # ... –¥—Ä—É–≥–∏–µ –ø—É—Ç–∏ ...
    path('api/token/', obtain_auth_token, name='api_token_auth'),
    # –í–û–¢ –ò –í–°–Å! –ë–æ–ª—å—à–µ –Ω–∏—á–µ–≥–æ –ø–∏—Å–∞—Ç—å –Ω–µ –Ω—É–∂–Ω–æ!
]
```

‚Äî –ß—Ç–æ –¥–µ–ª–∞–µ—Ç `obtain_auth_token`? ‚Äî —Å–ø—Ä–æ—Å–∏–ª –í–∏–Ω–Ω–∏-–ü—É—Ö.

‚Äî –≠—Ç–æ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –æ—Ç DRF, –∫–æ—Ç–æ—Ä—ã–π:
1.  –ü—Ä–∏–Ω–∏–º–∞–µ—Ç POST-–∑–∞–ø—Ä–æ—Å —Å `username` –∏ `password`
2.  –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –∏—Ö
3.  –ï—Å–ª–∏ –≤—Å—ë –≤–µ—Ä–Ω–æ ‚Äî –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ç–æ–∫–µ–Ω
4.  –ï—Å–ª–∏ –Ω–µ—Ç ‚Äî –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ—à–∏–±–∫—É

**–ü—Ä–∏–º–µ—Ä —Ä–∞–±–æ—Ç—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –∫—É–∑–Ω–∏—Ü—ã:**
*–ó–∞–ø—Ä–æ—Å –Ω–∞ –ø–æ–ª—É—á–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞:*
```bash
curl -X POST http://–∑–∞–º–æ–∫-–¥–∞–Ω–Ω—ã—Ö.–ª–µ—Å/api/token/ \
  -H "Content-Type: application/json" \
  -d '{"username": "winnie", "password": "honey123"}'
```
*–û—Ç–≤–µ—Ç —Å–µ—Ä–≤–µ—Ä–∞:*
```json
{
    "token": "9944b09199c62bcf9418ad846dd0e4bbdfc6ee4b"
}
```

‚Äî –ò –Ω–µ –Ω—É–∂–Ω–æ –ø–∏—Å–∞—Ç—å —Å–≤–æ–π `ObtainMagicTokenView`, –∫–∞–∫ –º—ã –¥–µ–ª–∞–ª–∏ —Ä–∞–Ω—å—à–µ! ‚Äî –≤–æ—Å—Ö–∏—Ç–∏–ª—Å—è –ö—Ä–æ–ª–∏–∫.

‚Äî –°–æ–≤–µ—Ä—à–µ–Ω–Ω–æ –≤–µ—Ä–Ω–æ! ‚Äî –ø–æ–¥—Ç–≤–µ—Ä–¥–∏–ª –§–∏–ª–∏–Ω. ‚Äî DRF —É–∂–µ –≤—Å—ë —Å–¥–µ–ª–∞–ª –∑–∞ –Ω–∞—Å!

**–®–∞–≥ 4: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞ –≤ –∑–∞–ø—Ä–æ—Å–∞—Ö**

‚Äî –¢–µ–ø–µ—Ä—å –¥–∞–≤–∞–π—Ç–µ —Å–æ–∑–¥–∞–¥–∏–º —Ä–∞–∑–Ω—ã–µ –∑–∞—â–∏—â—ë–Ω–Ω—ã–µ –∫–æ–º–Ω–∞—Ç—ã –∏ –ø–æ—Å–º–æ—Ç—Ä–∏–º, –∫–∞–∫ —Ç–æ–∫–µ–Ω—ã —Ä–∞–±–æ—Ç–∞—é—Ç –≤ —Ä–µ–∞–ª—å–Ω—ã—Ö —Å–∏—Ç—É–∞—Ü–∏—è—Ö, ‚Äî –ø—Ä–µ–¥–ª–æ–∂–∏–ª –§–∏–ª–∏–Ω.

```python
# views.py ‚Äî –Ω–æ–≤—ã–µ –∑–∞—â–∏—â—ë–Ω–Ω—ã–µ –∫–æ–º–Ω–∞—Ç—ã
from rest_framework.decorators import api_view, permission_classes
from rest_framework.response import Response
from rest_framework.permissions import IsAuthenticated

@api_view(['GET'])  # –ì–æ–≤–æ—Ä–∏–º: —ç—Ç–∞ —Ñ—É–Ω–∫—Ü–∏—è –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –¢–û–õ–¨–ö–û GET-–∑–∞–ø—Ä–æ—Å—ã
@permission_classes([IsAuthenticated])  # –¢–æ–ª—å–∫–æ –¥–ª—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö!
def protected_honey_view(request):
    """
    –ó–∞—â–∏—â—ë–Ω–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –º—ë–¥–∞.
    –î–æ—Å—Ç—É–ø–Ω–æ —Ç–æ–ª—å–∫–æ —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º —Ç–æ–∫–µ–Ω–æ–º!
    """
    return Response({
        "message": f"–ü—Ä–∏–≤–µ—Ç, {request.user.username}!",
        "secret": "–ó–¥–µ—Å—å —Ö—Ä–∞–Ω–∏—Ç—Å—è —Å–µ–∫—Ä–µ—Ç–Ω—ã–π –∑–∞–ø–∞—Å –º—ë–¥–∞ –Ω–∞ –∑–∏–º—É!",
        "your_token": str(request.auth)  # request.auth —Å–æ–¥–µ—Ä–∂–∏—Ç –æ–±—ä–µ–∫—Ç —Ç–æ–∫–µ–Ω–∞!
    })
```

‚Äî –û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ –Ω–∞ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä—ã! ‚Äî —É–∫–∞–∑–∞–ª –§–∏–ª–∏–Ω. ‚Äî `@api_view(['GET'])` –ø—Ä–µ–≤—Ä–∞—â–∞–µ—Ç –æ–±—ã—á–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é –≤ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ API, –∞ `@permission_classes([IsAuthenticated])` –∑–∞–¥–∞—ë—Ç –ø—Ä–∞–≤–∏–ª–∞ –¥–æ—Å—Ç—É–ø–∞.

–î–æ–±–∞–≤–ª—è–µ–º –¥–≤–µ—Ä—å –∫ —ç—Ç–æ–π –∫–æ–º–Ω–∞—Ç–µ:

```python
# urls.py
from django.urls import path
from .views import protected_honey_view

urlpatterns = [
    # ... –¥—Ä—É–≥–∏–µ –ø—É—Ç–∏ ...
    path('api/honey-vault/', protected_honey_view, name='honey_vault'),
]
```

**–®–∞–≥ 5: –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Ç–æ–∫–µ–Ω–æ–≤**

–§–∏–ª–∏–Ω —Ä–∞–∑–ª–æ–∂–∏–ª –ø–µ—Ä–µ–¥ –¥—Ä—É–∑—å—è–º–∏ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–≤–∏—Ç–∫–æ–≤ —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏:

**–ü—Ä–∏–º–µ—Ä 1: –ú–æ–±–∏–ª—å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ ¬´–ú—ë–¥ –Ω–∞ –≤—ã–Ω–æ—Å¬ª üì±**

‚Äî –ü—Ä–µ–¥—Å—Ç–∞–≤—å—Ç–µ, —á—Ç–æ —É –≤–∞—Å –µ—Å—Ç—å –º–æ–±–∏–ª—å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ, ‚Äî –Ω–∞—á–∞–ª –§–∏–ª–∏–Ω. ‚Äî –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—Ö–æ–¥–∏—Ç –æ–¥–∏–Ω —Ä–∞–∑, –ø–æ–ª—É—á–∞–µ—Ç —Ç–æ–∫–µ–Ω –∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –µ–≥–æ –≤ –ø–∞–º—è—Ç–∏ —Ç–µ–ª–µ—Ñ–æ–Ω–∞. –¢–µ–ø–µ—Ä—å –ø—Ä–∏ –∫–∞–∂–¥–æ–º –æ—Ç–∫—Ä—ã—Ç–∏–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –æ–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Ç–æ–∫–µ–Ω –∏ –ø–æ–ª—É—á–∞–µ—Ç —Å–≤–µ–∂–∏–π –º—ë–¥!

```python
# –ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞ –∏–∑ –º–æ–±–∏–ª—å–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
import requests

token = "9944b09199c62bcf9418ad846dd0e4bbdfc6ee4b"
headers = {"Authorization": f"Token {token}"}
response = requests.get("http://–∑–∞–º–æ–∫-–¥–∞–Ω–Ω—ã—Ö.–ª–µ—Å/api/honey-vault/", headers=headers)
```

‚Äî –ê —á—Ç–æ –¥–µ–ª–∞–µ—Ç `response.json()`? ‚Äî —Å–ø—Ä–æ—Å–∏–ª –ü—è—Ç–∞—á–æ–∫.

‚Äî –≠—Ç–æ –º–µ—Ç–æ–¥ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ `requests`, –∫–æ—Ç–æ—Ä—ã–π –ü–ê–†–°–ò–¢ (—Ä–∞–∑–±–∏—Ä–∞–µ—Ç) JSON-–æ—Ç–≤–µ—Ç –æ—Ç —Å–µ—Ä–≤–µ—Ä–∞ –∏ –ø—Ä–µ–≤—Ä–∞—â–∞–µ—Ç –µ–≥–æ –≤ Python-—Å–ª–æ–≤–∞—Ä—å –∏–ª–∏ —Å–ø–∏—Å–æ–∫!

```python
honey_data = response.json()  # –ü–æ–ª—É—á–∞–µ–º –¥–∞–Ω–Ω—ã–µ –º—ë–¥–∞ –≤ –≤–∏–¥–µ —Å–ª–æ–≤–∞—Ä—è Python!
print(honey_data['secret'])  # –í—ã–≤–µ–¥–µ—Ç: "–ó–¥–µ—Å—å —Ö—Ä–∞–Ω–∏—Ç—Å—è —Å–µ–∫—Ä–µ—Ç–Ω—ã–π –∑–∞–ø–∞—Å –º—ë–¥–∞ –Ω–∞ –∑–∏–º—É!"
```

**–ü—Ä–∏–º–µ—Ä 2: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –£–º–Ω—ã–º –£–ª—å–µ–º üêù**

‚Äî –ê —á—Ç–æ –µ—Å–ª–∏ –£–º–Ω—ã–π –£–ª–µ–π —Ö–æ—á–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–æ–±—â–∞—Ç—å –æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ —Å–æ–±—Ä–∞–Ω–Ω–æ–≥–æ –º—ë–¥–∞? ‚Äî –ø—Ä–æ–¥–æ–ª–∂–∏–ª –§–∏–ª–∏–Ω.

‚Äî –í—ã –≥–æ–≤–æ—Ä–∏–ª–∏, —á—Ç–æ –º–æ–∂–Ω–æ –≤—ã–¥–∞—Ç—å —É–ª—å—é —Ç–æ–∫–µ–Ω —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–º–∏ –ø—Ä–∞–≤–∞–º–∏, ‚Äî –≤—Å–ø–æ–º–Ω–∏–ª –ö—Ä–æ–ª–∏–∫. ‚Äî –ß—Ç–æ —ç—Ç–æ –∑–Ω–∞—á–∏—Ç?

‚Äî –≠—Ç–æ –∑–Ω–∞—á–∏—Ç, ‚Äî –æ–±—ä—è—Å–Ω–∏–ª –§–∏–ª–∏–Ω, ‚Äî —á—Ç–æ –º—ã —Å–æ–∑–¥–∞—ë–º —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ:
1.  –ü—Ä–æ–≤–µ—Ä—è–µ—Ç —Ç–æ–∫–µ–Ω
2.  –°–º–æ—Ç—Ä–∏—Ç, –∫–æ–º—É –æ–Ω –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∏—Ç
3.  –û–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ—Ç –¥–µ–π—Å—Ç–≤–∏—è –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

```python
# –ü—Ä–∏–º–µ—Ä –∑–∞—â–∏—â—ë–Ω–Ω–æ–≥–æ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è –¥–ª—è —É–ª—å—è
@api_view(['POST'])
@permission_classes([IsAuthenticated])
def hive_data_view(request):
    """
    –ü—Ä–∏–Ω–∏–º–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –æ—Ç —É–ª—å—è.
    –ù–æ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç: –∞ —É–ª–µ–π –ª–∏ —ç—Ç–æ –Ω–∞ —Å–∞–º–æ–º –¥–µ–ª–µ?
    """
    # –ü—Ä–æ–≤–µ—Ä—è–µ–º –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
    if request.user.username != 'smart_hive_001':
        return Response({'error': '–î–æ—Å—Ç—É–ø —Ç–æ–ª—å–∫–æ –¥–ª—è —É–º–Ω—ã—Ö —É–ª—å–µ–≤!'}, status=403)
    
    # –ï—Å–ª–∏ —ç—Ç–æ –Ω–∞—à —É–ª–µ–π ‚Äî –ø—Ä–∏–Ω–∏–º–∞–µ–º –¥–∞–Ω–Ω—ã–µ
    honey_collected = request.data.get('honey_collected')
    # –°–æ—Ö—Ä–∞–Ω—è–µ–º –¥–∞–Ω–Ω—ã–µ...
    return Response({'status': '–î–∞–Ω–Ω—ã–µ –ø—Ä–∏–Ω—è—Ç—ã!'})
```

‚Äî –¢–æ –µ—Å—Ç—å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –∑–∞–¥–∞—ë–º –º—ã —Å–∞–º–∏ –≤ –∫–æ–¥–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è! ‚Äî –ø–æ–Ω—è–ª –í–∏–Ω–Ω–∏-–ü—É—Ö. ‚Äî –ú—ã —Ä–µ—à–∞–µ–º, –∫–∞–∫–∏–µ –¥–µ–π—Å—Ç–≤–∏—è —Ä–∞–∑—Ä–µ—à–∏—Ç—å –∫–∞–∂–¥–æ–º—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é.

‚Äî –ò–º–µ–Ω–Ω–æ! ‚Äî –ø–æ–¥—Ç–≤–µ—Ä–¥–∏–ª –§–∏–ª–∏–Ω. ‚Äî –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ–º –≥–æ—Ç–æ–≤—ã–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è DRF, –Ω–æ –æ–± —ç—Ç–æ–º –≤ –¥—Ä—É–≥–æ–π –≥–ª–∞–≤–µ.

**–ü—Ä–∏–º–µ—Ä 3: –í–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (SPA) üåê**

‚Äî –ê –¥–ª—è –æ–¥–Ω–æ—Å—Ç—Ä–∞–Ω–∏—á–Ω—ã—Ö –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π, ‚Äî —Å–∫–∞–∑–∞–ª –§–∏–ª–∏–Ω, ‚Äî —Ç–æ–∫–µ–Ω —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ `localStorage` –±—Ä–∞—É–∑–µ—Ä–∞.

‚Äî –ß—Ç–æ —Ç–∞–∫–æ–µ `localStorage`? ‚Äî —Å–ø—Ä–æ—Å–∏–ª –ü—è—Ç–∞—á–æ–∫.

‚Äî –≠—Ç–æ –≤—Å—Ç—Ä–æ–µ–Ω–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ, –∫–∞–∫ –∫–∞—Ä–º–∞—à–µ–∫ –≤ –∫—É—Ä—Ç–∫–µ! ‚Äî –æ–±—ä—è—Å–Ω–∏–ª –§–∏–ª–∏–Ω. ‚Äî JavaScript –º–æ–∂–µ—Ç –ø–æ–ª–æ–∂–∏—Ç—å —Ç—É–¥–∞ –¥–∞–Ω–Ω—ã–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Ç–æ–∫–µ–Ω), –∏ –æ–Ω–∏ —Å–æ—Ö—Ä–∞–Ω—è—Ç—Å—è –¥–∞–∂–µ –ø–æ—Å–ª–µ –∑–∞–∫—Ä—ã—Ç–∏—è –±—Ä–∞—É–∑–µ—Ä–∞! üß•

```javascript
// JavaScript –≤ –±—Ä–∞—É–∑–µ—Ä–µ
// –ü–æ–ª—É—á–∞–µ–º —Ç–æ–∫–µ–Ω –∏–∑ localStorage (–µ—Å–ª–∏ –æ–Ω —Ç–∞–º –µ—Å—Ç—å)
const token = localStorage.getItem('honey_token');

// –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –∑–∞–ø—Ä–æ—Å —Å —Ç–æ–∫–µ–Ω–æ–º
fetch('/api/honey-vault/', {
    headers: {
        'Authorization': `Token ${token}`
    }
})
.then(response => response.json())  // response.json() –≤ JavaScript —Ç–æ–∂–µ –ø–∞—Ä—Å–∏—Ç JSON!
.then(data => {
    console.log(data);  // –í—ã–≤–æ–¥–∏–º –¥–∞–Ω–Ω—ã–µ –≤ –∫–æ–Ω—Å–æ–ª—å
    // –ú–æ–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å –∏—Ö –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ
    document.getElementById('honey-secret').textContent = data.secret;
});
```

‚Äî –ê –∫–∞–∫ —Ç–æ–∫–µ–Ω –ø–æ–ø–∞–¥–∞–µ—Ç –≤ `localStorage`? ‚Äî —Å–ø—Ä–æ—Å–∏–ª –ö—Ä–æ–ª–∏–∫.

‚Äî –ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –≤—Ö–æ–¥–∞ —á–µ—Ä–µ–∑ —Ñ–æ—Ä–º—É! ‚Äî –æ—Ç–≤–µ—Ç–∏–ª –§–∏–ª–∏–Ω. ‚Äî –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø–æ–ª—É—á–∞–µ—Ç —Ç–æ–∫–µ–Ω –æ—Ç —Å–µ—Ä–≤–µ—Ä–∞ –∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –µ–≥–æ:

```javascript
// –ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –≤—Ö–æ–¥–∞
localStorage.setItem('honey_token', '9944b09199c62bcf9418ad846dd0e4bbdfc6ee4b');
```

**–®–∞–≥ 6: –û—Ç–ª–∞–¥–∫–∞ –∏ —Ä–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º üêõ**

‚Äî –ê —á—Ç–æ –¥–µ–ª–∞—Ç—å, –µ—Å–ª–∏ —Ç–æ–∫–µ–Ω –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç? ‚Äî —Å–ø—Ä–æ—Å–∏–ª –æ—Å—Ç–æ—Ä–æ–∂–Ω—ã–π –ü—è—Ç–∞—á–æ–∫.

‚Äî –î–∞–≤–∞–π—Ç–µ —Å–æ–∑–¥–∞–¥–∏–º ¬´–ª–∞–±–æ—Ä–∞—Ç–æ—Ä–∏—é –æ—Ç–ª–∞–¥–∫–∏¬ª! ‚Äî –ø—Ä–µ–¥–ª–æ–∂–∏–ª –§–∏–ª–∏–Ω.

**–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–æ–∫–µ–Ω–∞ –≤ –∞–¥–º–∏–Ω–∫–µ:**
*   –ó–∞–ª–æ–≥–∏–Ω—å—Å—è –≤ –∞–¥–º–∏–Ω–∫—É Django (`/admin/`)
*   –ù–∞–π–¥–∏ —Ä–∞–∑–¥–µ–ª ¬´–¢–æ–∫–µ–Ω—ã¬ª (`Tokens`)
*   –£–±–µ–¥–∏—Å—å, —á—Ç–æ —É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –µ—Å—Ç—å —Ç–æ–∫–µ–Ω

‚Äî –ê –µ—Å–ª–∏ –Ω–µ—Ç —Ç–æ–∫–µ–Ω–∞? ‚Äî —Å–ø—Ä–æ—Å–∏–ª –í–∏–Ω–Ω–∏-–ü—É—Ö. ‚Äî –ö–∞–∫ —Å–æ–∑–¥–∞—Ç—å –µ–≥–æ –≤—Ä—É—á–Ω—É—é, —Å–∞–º–æ–º—É –ø—Ä–∏–¥—É–º–∞—Ç—å?

‚Äî –ï—Å—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–ø–æ—Å–æ–±–æ–≤! ‚Äî –æ—Ç–≤–µ—Ç–∏–ª –§–∏–ª–∏–Ω.

*   **–°–ø–æ—Å–æ–± 1: –ß–µ—Ä–µ–∑ –∞–¥–º–∏–Ω–∫—É Django**
    1.  –ó–∞–π–¥–∏ –≤ –∞–¥–º–∏–Ω–∫—É (`/admin/`)
    2.  –ù–∞–π–¥–∏ ¬´–¢–æ–∫–µ–Ω—ã¬ª ‚Üí ¬´–î–æ–±–∞–≤–∏—Ç—å —Ç–æ–∫–µ–Ω¬ª
    3.  –í—ã–±–µ—Ä–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è ‚Üí ¬´–°–æ—Ö—Ä–∞–Ω–∏—Ç—å¬ª
    4.  Django —Å–∞–º —Å–≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —É–Ω–∏–∫–∞–ª—å–Ω—ã–π —Ç–æ–∫–µ–Ω!

*   **–°–ø–æ—Å–æ–± 2: –ß–µ—Ä–µ–∑ –∫–æ–Ω—Å–æ–ª—å Django (`shell`)**
    ```bash
    python manage.py shell
    ```
    ```python
    from django.contrib.auth.models import User
    from rest_framework.authtoken.models import Token

    user = User.objects.get(username='winnie')
    token = Token.objects.create(user=user)
    print(f"–¢–æ–∫–µ–Ω –í–∏–Ω–Ω–∏-–ü—É—Ö–∞: {token.key}")
    ```

*   **–°–ø–æ—Å–æ–± 3: –ß–µ—Ä–µ–∑ –∫–æ–º–∞–Ω–¥—É `manage.py`**
    ```bash
    python manage.py drf_create_token winnie
    ```

**–ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–≥–æ–ª–æ–≤–∫–∞ –∑–∞–ø—Ä–æ—Å–∞:**
```bash
# –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ (—Ç–æ–∫–µ–Ω –≤ —Ç–µ–ª–µ –∑–∞–ø—Ä–æ—Å–∞):
curl -X GET http://–∑–∞–º–æ–∫-–¥–∞–Ω–Ω—ã—Ö.–ª–µ—Å/api/honey-vault/ \
  -d '{"token": "9944b09199c62bcf9418ad846dd0e4bbdfc6ee4b"}'

# –ü—Ä–∞–≤–∏–ª—å–Ω–æ (—Ç–æ–∫–µ–Ω –≤ –∑–∞–≥–æ–ª–æ–≤–∫–µ):
curl -X GET http://–∑–∞–º–æ–∫-–¥–∞–Ω–Ω—ã—Ö.–ª–µ—Å/api/honey-vault/ \
  -H "Authorization: Token 9944b09199c62bcf9418ad846dd0e4bbdfc6ee4b"
```

**–ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫ –≤ `settings.py`:**
*   –£–±–µ–¥–∏—Å—å, —á—Ç–æ `TokenAuthentication` –µ—Å—Ç—å –≤ `DEFAULT_AUTHENTICATION_CLASSES`
*   –£–±–µ–¥–∏—Å—å, —á—Ç–æ `rest_framework.authtoken` –µ—Å—Ç—å –≤ `INSTALLED_APPS`

**–®–∞–≥ 7: –°–æ–∑–¥–∞–Ω–∏–µ —Ä–∞–∑–Ω—ã—Ö —É—Ä–æ–≤–Ω–µ–π –¥–æ—Å—Ç—É–ø–∞**

‚Äî –ê –º–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å —Ç–∞–∫, —á—Ç–æ–±—ã —Ä–∞–∑–Ω—ã–µ –¥—Ä—É–∑—å—è –∏–º–µ–ª–∏ —Ä–∞–∑–Ω—ã–µ –ø—Ä–∞–≤–∞? ‚Äî —Å–ø—Ä–æ—Å–∏–ª –ö—Ä–æ–ª–∏–∫.

‚Äî –ö–æ–Ω–µ—á–Ω–æ! ‚Äî –æ—Ç–≤–µ—Ç–∏–ª –§–∏–ª–∏–Ω. ‚Äî –ù–æ —ç—Ç–æ —Ç–µ–º–∞ –¥–ª—è –æ—Ç–¥–µ–ª—å–Ω–æ–π –≥–ª–∞–≤—ã –ø—Ä–æ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è (`permissions`). –ê –ø–æ–∫–∞ –∑–∞–ø–æ–º–Ω–∏—Ç–µ: —Ç–æ–∫–µ–Ω ‚Äî —ç—Ç–æ –∫–ª—é—á –æ—Ç –¥–≤–µ—Ä–∏. –ê –∫–∞–∫–∏–µ –∫–æ–º–Ω–∞—Ç—ã –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç —ç—Ç–æ—Ç –∫–ª—é—á ‚Äî —Ä–µ—à–∞—é—Ç —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è! üö™üîë

**–ò—Ç–æ–≥ –¥–Ω—è**
‚Äî –î–∞–≤–∞–π—Ç–µ –ø–æ–¥–≤–µ–¥—ë–º –∏—Ç–æ–≥–∏, ‚Äî —Å–∫–∞–∑–∞–ª –§–∏–ª–∏–Ω, —Å–æ–±–∏—Ä–∞—è —Å–≤–∏—Ç–∫–∏. ‚Äî –°–µ–≥–æ–¥–Ω—è –º—ã –Ω–∞—É—á–∏–ª–∏—Å—å:

1.  –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–≤–∞—Ç—å —Ç–æ–∫–µ–Ω—ã –ø—Ä–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (—Å–∏–≥–Ω–∞–ª—ã Django)
2.  –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≥–æ—Ç–æ–≤—ã–π —ç–Ω–¥–ø–æ–∏–Ω—Ç `obtain_auth_token` –æ—Ç DRF
3.  –°–æ–∑–¥–∞–≤–∞—Ç—å –∑–∞—â–∏—â—ë–Ω–Ω—ã–µ API-—ç–Ω–¥–ø–æ–∏–Ω—Ç—ã —Å –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä–∞–º–∏
4.  –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–æ–∫–µ–Ω—ã –≤ —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–∞—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤ (–º–æ–±–∏–ª—å–Ω—ã–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, IoT-—É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞)
5.  –û—Ç–ª–∞–∂–∏–≤–∞—Ç—å –ø—Ä–æ–±–ª–µ–º—ã —Å —Ç–æ–∫–µ–Ω–∞–º–∏

‚Äî –¢–µ–ø–µ—Ä—å –Ω–∞—à –∑–∞–º–æ–∫ –∏–º–µ–µ—Ç –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—É—é —Å–∏—Å—Ç–µ–º—É –ø—Ä–æ–ø—É—Å–∫–æ–≤! ‚Äî —Å –≥–æ—Ä–¥–æ—Å—Ç—å—é —Å–∫–∞–∑–∞–ª –í–∏–Ω–Ω–∏-–ü—É—Ö. ‚Äî –ò –≤—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏!

‚Äî –ù–æ —ç—Ç–æ –µ—â—ë –Ω–µ –ø—Ä–µ–¥–µ–ª, ‚Äî –∑–∞–≥–∞–¥–æ—á–Ω–æ —É–ª—ã–±–Ω—É–ª—Å—è –§–∏–ª–∏–Ω. ‚Äî –ó–∞–≤—Ç—Ä–∞ –º—ã –ø–æ–∑–Ω–∞–∫–æ–º–∏–º—Å—è —Å JSON Web Tokens (JWT) ‚Äî —Å–≤–∏—Ç–∫–∞–º–∏, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ —Ç—Ä–µ–±—É—é—Ç —Ö—Ä–∞–Ω–µ–Ω–∏—è –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö –∏ –º–æ–≥—É—Ç —Å–∞–º–∏ —Ä–∞—Å—Å–∫–∞–∑—ã–≤–∞—Ç—å –æ —Å–µ–±–µ!

–ñ–∏—Ç–µ–ª–∏ –õ–µ—Å–∞ —Ä–∞–∑–æ—à–ª–∏—Å—å, –æ–±–¥—É–º—ã–≤–∞—è –Ω–æ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏. –ê –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∫—É–∑–Ω–∏—Ü–∞ –∂–µ—Ç–æ–Ω–æ–≤ —Ç–∏—Ö–æ —Ä–∞–±–æ—Ç–∞–ª–∞ –≤ —Ñ–æ–Ω–µ, —Å–æ–∑–¥–∞–≤–∞—è –Ω–æ–≤—ã–µ –ø—Ä–æ–ø—É—Å–∫–∞ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –Ω–æ–≤–æ–≥–æ –¥—Ä—É–≥–∞, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–∏—Ö–æ–¥–∏–ª –≤ –∏—Ö —É—é—Ç–Ω—ã–π, –Ω–æ —Ç–µ–ø–µ—Ä—å —Ö–æ—Ä–æ—à–æ –∑–∞—â–∏—â—ë–Ω–Ω—ã–π –º–∏—Ä. üè∞üîê‚ú®

---

# **–ì–ª–∞–≤–∞ 5 –ó–∞–ø–µ—á–∞—Ç–∞–Ω–Ω—ã–µ –°–≤–∏—Ç–∫–∏ ‚Äî –ú–∞–≥–∏—è JWT** üìú‚ú®

–ù–∞ —Å–ª–µ–¥—É—é—â–µ–µ —É—Ç—Ä–æ –≤—Å–µ –∂–∏—Ç–µ–ª–∏ –õ–µ—Å–∞ —Å–æ–±—Ä–∞–ª–∏—Å—å —Å –æ—Å–æ–±—ã–º –≤–æ–ª–Ω–µ–Ω–∏–µ–º. –§–∏–ª–∏–Ω DRF –æ–±–µ—â–∞–ª –ø–æ–∫–∞–∑–∞—Ç—å –∏–º —Å–∞–º–æ–µ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–µ –∏ –º–æ—â–Ω–æ–µ –∑–∞–∫–ª–∏–Ω–∞–Ω–∏–µ –≤ –º–∏—Ä–µ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏.

‚Äî –î—Ä—É–∑—å—è, ‚Äî –Ω–∞—á–∞–ª –§–∏–ª–∏–Ω —Ç–æ—Ä–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ, ‚Äî —Å–µ–≥–æ–¥–Ω—è –º—ã –ø–æ–∑–Ω–∞–∫–æ–º–∏–º—Å—è —Å JSON Web Tokens (JWT) ‚Äî –∏–ª–∏, –∫–∞–∫ —è –∏—Ö –Ω–∞–∑—ã–≤–∞—é, –ó–∞–ø–µ—á–∞—Ç–∞–Ω–Ω—ã–º–∏ –°–≤–∏—Ç–∫–∞–º–∏. –ï—Å–ª–∏ –æ–±—ã—á–Ω—ã–µ —Ç–æ–∫–µ–Ω—ã ‚Äî —ç—Ç–æ –∫–ª—é—á–∏, –∫–æ—Ç–æ—Ä—ã–µ –Ω—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä—è—Ç—å –≤ –ö–Ω–∏–≥–µ –£—á—ë—Ç–∞, —Ç–æ JWT ‚Äî —ç—Ç–æ —É–º–Ω—ã–µ —Å–≤–∏—Ç–∫–∏, –∫–æ—Ç–æ—Ä—ã–µ —Å–∞–º–∏ —Ä–∞—Å—Å–∫–∞–∑—ã–≤–∞—é—Ç, –∫—Ç–æ –∏—Ö –≤–ª–∞–¥–µ–ª–µ—Ü –∏ —á—Ç–æ –∏–º –º–æ–∂–Ω–æ!

‚Äî –ö–∞–∫ —ç—Ç–æ? ‚Äî —É–¥–∏–≤–∏–ª—Å—è –í–∏–Ω–Ω–∏-–ü—É—Ö. ‚Äî –ë–µ–∑ –ö–Ω–∏–≥–∏ –£—á—ë—Ç–∞? –ù–æ –∫–∞–∫ –∂–µ —Ç–æ–≥–¥–∞ –ø—Ä–æ–≤–µ—Ä—è—Ç—å?

‚Äî –ú–∞–≥–∏–µ–π —Ü–∏—Ñ—Ä–æ–≤–æ–π –ø–æ–¥–ø–∏—Å–∏! üîè ‚Äî –æ—Ç–≤–µ—Ç–∏–ª –§–∏–ª–∏–Ω —Å —Ç–∞–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–π —É–ª—ã–±–∫–æ–π. ‚Äî –ù–æ –¥–∞–≤–∞–π—Ç–µ –ø–æ –ø–æ—Ä—è–¥–∫—É.

**–ß—Ç–æ —Ç–∞–∫–æ–µ JWT?**

–§–∏–ª–∏–Ω —Ä–∞–∑–≤–µ—Ä–Ω—É–ª –±–æ–ª—å—à–æ–π —Å–≤–∏—Ç–æ–∫, –Ω–∞ –∫–æ—Ç–æ—Ä–æ–º –±—ã–ª–∞ –Ω–∞—Ä–∏—Å–æ–≤–∞–Ω–∞ —Å—Ç—Ä–∞–Ω–Ω–∞—è —Å—Ç—Ä–æ–∫–∞:

`eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoxMjMsInJvbGUiOiJ1c2VyIn0.4P5NYRoQ9isGqwS8Gb0YvBRtk9dcbG6AzlvEl5jOYz4`

‚Äî –≠—Ç–æ –∏ –µ—Å—Ç—å JWT! ‚Äî –æ–±—ä—è–≤–∏–ª –§–∏–ª–∏–Ω. ‚Äî –í–∏–¥–∏—Ç–µ —Ç—Ä–∏ —á–∞—Å—Ç–∏, —Ä–∞–∑–¥–µ–ª—ë–Ω–Ω—ã–µ —Ç–æ—á–∫–∞–º–∏? –î–∞–≤–∞–π—Ç–µ —Ä–∞–∑–±–µ—Ä—ë–º –∫–∞–∂–¥—É—é.

**–ß–∞—Å—Ç—å 1: –ó–∞–≥–æ–ª–æ–≤–æ–∫ (Header)**

`eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9`

‚Äî –ï—Å–ª–∏ —Ä–∞—Å—à–∏—Ñ—Ä–æ–≤–∞—Ç—å —ç—Ç–æ—Ç –∫–æ–¥, –≤–Ω—É—Ç—Ä–∏ –Ω–∞–ø–∏—Å–∞–Ω–æ:
```json
{
  "alg": "HS256",  # –ê–ª–≥–æ—Ä–∏—Ç–º —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è (HMAC SHA-256)
  "typ": "JWT"     # –¢–∏–ø —Ç–æ–∫–µ–Ω–∞
}
```
‚Äî –≠—Ç–æ –∫–∞–∫ –∫–æ–Ω–≤–µ—Ä—Ç –ø–∏—Å—å–º–∞: –Ω–∞ –Ω—ë–º –Ω–∞–ø–∏—Å–∞–Ω–æ, –∫–∞–∫–∏–º–∏ —á–µ—Ä–Ω–∏–ª–∞–º–∏ –∏ –ø–µ—á–∞—Ç—å—é –æ–Ω–æ –∑–∞–ø–µ—á–∞—Ç–∞–Ω–æ.

**–ß–∞—Å—Ç—å 2: –ü–æ–ª–µ–∑–Ω–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞ (Payload)**

`eyJ1c2VyX2lkIjoxMjMsInJvbGUiOiJ1c2VyIn0`

‚Äî –í–Ω—É—Ç—Ä–∏ —ç—Ç–æ–≥–æ –∫–æ–¥–∞:
```json
{
  "user_id": 123,    # ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
  "role": "user",    # –†–æ–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
  "exp": 1700000000  # –°—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è (timestamp)
}
```

‚Äî –ü–æ–¥–æ–∂–¥–∏! ‚Äî –æ—Å—Ç–∞–Ω–æ–≤–∏–ª –ö—Ä–æ–ª–∏–∫. ‚Äî –≠—Ç–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –≤—Å–µ–≥–¥–∞ —Ç–∞–∫–∞—è? `user_id`, `role`, `exp`? –ò –∫—Ç–æ —ç—Ç–æ —Å–æ–∑–¥–∞—ë—Ç?

‚Äî –û—Ç–ª–∏—á–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã! ‚Äî –ø–æ—Ö–≤–∞–ª–∏–ª –§–∏–ª–∏–Ω. ‚Äî –ù–µ—Ç, —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –º–æ–∂–µ—Ç –±—ã—Ç—å –ª—é–±–æ–π! JWT —Å—Ç–∞–Ω–¥–∞—Ä—Ç –Ω–µ –¥–∏–∫—Ç—É–µ—Ç, –∫–∞–∫–∏–µ –ø–æ–ª—è –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –≤ payload. –ú—ã —Å–∞–º–∏ —Ä–µ—à–∞–µ–º, —á—Ç–æ —Ç—É–¥–∞ –ø–æ–ª–æ–∂–∏—Ç—å!

‚Äî –ö—Ç–æ —Å–æ–∑–¥–∞—ë—Ç payload? ‚Äî –ø—Ä–æ–¥–æ–ª–∂–∏–ª –§–∏–ª–∏–Ω. ‚Äî –°–µ—Ä–≤–µ—Ä (–Ω–∞—à–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ) —Å–æ–∑–¥–∞—ë—Ç –µ–≥–æ –≤–æ –≤—Ä–µ–º—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è. –ú—ã —Å–º–æ—Ç—Ä–∏–º: ¬´–ê–≥–∞, —ç—Ç–æ –í–∏–Ω–Ω–∏-–ü—É—Ö, –µ–≥–æ ID 123, –æ–Ω –æ–±—ã—á–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å. –î–∞–≤–∞–π—Ç–µ –ø–æ–ª–æ–∂–∏–º —ç—Ç—É –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –≤ —Å–≤–∏—Ç–æ–∫!¬ª

‚Äî –ù–æ –µ—Å—Ç—å —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –ø–æ–ª—è (claims), –∫–æ—Ç–æ—Ä—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É—é—Ç—Å—è:
*   `sub` (subject) ‚Äî –∫–æ–º—É –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∏—Ç —Ç–æ–∫–µ–Ω (—á–∞—â–µ user_id)
*   `exp` (expiration) ‚Äî —Å—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ!)
*   `iat` (issued at) ‚Äî –∫–æ–≥–¥–∞ –≤—ã–¥–∞–Ω
*   `iss` (issuer) ‚Äî –∫—Ç–æ –≤—ã–¥–∞–ª (–Ω–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è)

‚Äî –ú—ã –º–æ–∂–µ–º –¥–æ–±–∞–≤–ª—è—Ç—å —Å–≤–æ–∏ –ø–æ–ª—è! ‚Äî —Å–∫–∞–∑–∞–ª –§–∏–ª–∏–Ω. ‚Äî –ù–∞–ø—Ä–∏–º–µ—Ä:
```json
{
  "user_id": 123,
  "username": "winnie",
  "favorite_honey": "–ª–∏–ø–æ–≤—ã–π",
  "honey_quota": 5,      # –ö–≤–æ—Ç–∞ –º—ë–¥–∞ –≤ –¥–µ–Ω—å
  "is_premium": false,
  "exp": 1700000000
}
```

**–ß–∞—Å—Ç—å 3: –ü–æ–¥–ø–∏—Å—å (Signature)**
`4P5NYRoQ9isGqwS8Gb0YvBRtk9dcbG6AzlvEl5jOYz4`

‚Äî –ê –≤–æ—Ç —ç—Ç–æ —Å–∞–º–æ–µ –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ–µ! ‚Äî –≤–æ—Å–∫–ª–∏–∫–Ω—É–ª –§–∏–ª–∏–Ω. ‚Äî –ü–æ–¥–ø–∏—Å—å —Å–æ–∑–¥–∞—ë—Ç—Å—è —Ç–∞–∫:
1.  –ë–µ—Ä—É—Ç—Å—è –∑–∞–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ Header –∏ Payload
2.  –ö –Ω–∏–º –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è —Å–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–ª—é—á (–∫–æ—Ç–æ—Ä—ã–π –∑–Ω–∞–µ—Ç —Ç–æ–ª—å–∫–æ —Å–µ—Ä–≤–µ—Ä!)
3.  –í—Å—ë —ç—Ç–æ —à–∏—Ñ—Ä—É–µ—Ç—Å—è –∞–ª–≥–æ—Ä–∏—Ç–º–æ–º –∏–∑ Header (HS256)
4.  –ü–æ–ª—É—á–∞–µ—Ç—Å—è —ç—Ç–∞ —Å–∞–º–∞—è —Å—Ç—Ä–æ–∫–∞ ‚Äî –ø–æ–¥–ø–∏—Å—å

‚Äî –ï—Å–ª–∏ –∫—Ç–æ-—Ç–æ –ø–æ–ø—Ä–æ–±—É–µ—Ç –∏–∑–º–µ–Ω–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –≤ Header –∏–ª–∏ Payload, –ø–æ–¥–ø–∏—Å—å –ø–µ—Ä–µ—Å—Ç–∞–Ω–µ—Ç —Å–æ–≤–ø–∞–¥–∞—Ç—å! ‚Äî –æ–±—ä—è—Å–Ω–∏–ª –§–∏–ª–∏–Ω. ‚Äî –ò —Å–µ—Ä–≤–µ—Ä —Å—Ä–∞–∑—É –ø–æ–π–º—ë—Ç, —á—Ç–æ —Å–≤–∏—Ç–æ–∫ –ø–æ–¥–¥–µ–ª—å–Ω—ã–π.

**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç JWT?**
‚Äî –î–∞–≤–∞–π—Ç–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–∏–º —ç—Ç–æ –≤ –≤–∏–¥–µ —Å–∫–∞–∑–∫–∏, ‚Äî –ø—Ä–µ–¥–ª–æ–∂–∏–ª –§–∏–ª–∏–Ω.

1.  **–í–∏–Ω–Ω–∏-–ü—É—Ö –ø—Ä–∏—Ö–æ–¥–∏—Ç –≤ –∑–∞–º–æ–∫ –∏ –≥–æ–≤–æ—Ä–∏—Ç:** ¬´–Ø ‚Äî –í–∏–Ω–Ω–∏-–ü—É—Ö, –º–æ–π –ø–∞—Ä–æ–ª—å ‚Äî "–º—ë–¥123"¬ª.
2.  **–ú–µ–¥–≤–µ–¥—å –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –ª–æ–≥–∏–Ω –∏ –ø–∞—Ä–æ–ª—å.** –í—Å—ë –≤–µ—Ä–Ω–æ!
3.  **–ú–µ–¥–≤–µ–¥—å —Å–æ–∑–¥–∞—ë—Ç —Å–≤–∏—Ç–æ–∫ JWT**, –∫—É–¥–∞ –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç: ¬´–í–ª–∞–¥–µ–ª–µ—Ü: –í–∏–Ω–Ω–∏-–ü—É—Ö, ID: 123, —Ä–æ–ª—å: –ª—é–±–∏—Ç–µ–ª—å –º—ë–¥–∞, —Å—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è: –¥–æ –∑–∞–≤—Ç—Ä–∞—à–Ω–µ–≥–æ –ø–æ–ª—É–¥–Ω—è¬ª.
4.  **–ú–µ–¥–≤–µ–¥—å —Å—Ç–∞–≤–∏—Ç —Å–≤–æ—é –≤–æ–ª—à–µ–±–Ω—É—é –ø–µ—á–∞—Ç—å (–ø–æ–¥–ø–∏—Å—å)** –∏ –æ—Ç–¥–∞—ë—Ç —Å–≤–∏—Ç–æ–∫ –í–∏–Ω–Ω–∏-–ü—É—Ö—É.
5.  **–í–∏–Ω–Ω–∏-–ü—É—Ö —É—Ö–æ–¥–∏—Ç, –Ω–æ —á–µ—Ä–µ–∑ —á–∞—Å –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è** –∏ –ø—Ä–æ—Å—Ç–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å–≤–∏—Ç–æ–∫.
6.  **–°—Ç—Ä–∞–∂–∞ —Å–º–æ—Ç—Ä–∏—Ç –Ω–∞ —Å–≤–∏—Ç–æ–∫**, –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –ø–µ—á–∞—Ç—å –ú–µ–¥–≤–µ–¥—è (—Å–æ–≤–ø–∞–¥–∞–µ—Ç –ª–∏ –ø–æ–¥–ø–∏—Å—å), —Å–º–æ—Ç—Ä–∏—Ç —Å—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è (–Ω–µ –∏—Å—Ç—ë–∫ –ª–∏) –∏ –ø—Ä–æ–ø—É—Å–∫–∞–µ—Ç!

‚Äî –ò –Ω–µ –Ω—É–∂–Ω–æ –∑–∞–≥–ª—è–¥—ã–≤–∞—Ç—å –≤ –ö–Ω–∏–≥—É –£—á—ë—Ç–∞! ‚Äî –¥–æ–≥–∞–¥–∞–ª—Å—è –ö—Ä–æ–ª–∏–∫.

‚Äî –¢–æ—á–Ω–æ! ‚Äî –ø–æ–¥—Ç–≤–µ—Ä–¥–∏–ª –§–∏–ª–∏–Ω. ‚Äî –°–≤–∏—Ç–æ–∫ —Å–∞–º–æ–¥–æ—Å—Ç–∞—Ç–æ—á–µ–Ω. –í—Å—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è —É–∂–µ –≤ –Ω—ë–º, –∞ –ø–µ—á–∞—Ç—å –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ –µ–≥–æ –Ω–µ –ø–æ–¥–¥–µ–ª–∞–ª–∏.

**–°—Ä–∞–≤–Ω–µ–Ω–∏–µ JWT –∏ –æ–±—ã—á–Ω—ã—Ö —Ç–æ–∫–µ–Ω–æ–≤**

‚Äî –î–∞–≤–∞–π—Ç–µ —Å—Ä–∞–≤–Ω–∏–º –Ω–∞ –ø—Ä–∏–º–µ—Ä–µ, ‚Äî –ø—Ä–µ–¥–ª–æ–∂–∏–ª –§–∏–ª–∏–Ω.

*   **–û–±—ã—á–Ω—ã–µ —Ç–æ–∫–µ–Ω—ã (–≤—á–µ—Ä–∞—à–Ω–∏–µ):**
    1.  –¢–æ–∫–µ–Ω `abc123` —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
    2.  –°–µ—Ä–≤–µ—Ä –ø–æ–ª—É—á–∞–µ—Ç –∑–∞–ø—Ä–æ—Å —Å —Ç–æ–∫–µ–Ω–æ–º `abc123`
    3.  –°–µ—Ä–≤–µ—Ä –∏—â–µ—Ç `abc123` –≤ –±–∞–∑–µ
    4.  –ù–∞—Ö–æ–¥–∏—Ç –∑–∞–ø–∏—Å—å: ¬´–¢–æ–∫–µ–Ω abc123 –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∏—Ç –í–∏–Ω–Ω–∏-–ü—É—Ö—É¬ª
    5.  –°–µ—Ä–≤–µ—Ä –ø—Ä–æ–ø—É—Å–∫–∞–µ—Ç –í–∏–Ω–Ω–∏-–ü—É—Ö–∞

*   **JWT (—Å–µ–≥–æ–¥–Ω—è—à–Ω–∏–µ):**
    1.  –°–µ—Ä–≤–µ—Ä —Å–æ–∑–¥–∞—ë—Ç —Å–≤–∏—Ç–æ–∫: `header.payload.signature`
    2.  –í payload –∑–∞–ø–∏—Å–∞–Ω–æ: `{"user_id": 123, "username": "winnie"}`
    3.  –°–µ—Ä–≤–µ—Ä –æ—Ç–¥–∞—ë—Ç —Å–≤–∏—Ç–æ–∫ –í–∏–Ω–Ω–∏-–ü—É—Ö—É
    4.  –í–∏–Ω–Ω–∏-–ü—É—Ö –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å–≤–∏—Ç–æ–∫
    5.  –°–µ—Ä–≤–µ—Ä –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –ø–æ–¥–ø–∏—Å—å (–ø–µ—á–∞—Ç—å) ‚Äî –æ–Ω–∞ –≤–µ—Ä–Ω–∞!
    6.  –°–µ—Ä–≤–µ—Ä —á–∏—Ç–∞–µ—Ç payload ‚Äî –≤–∏–¥–∏—Ç: ¬´–ê, —ç—Ç–æ –í–∏–Ω–Ω–∏-–ü—É—Ö!¬ª
    7.  –°–µ—Ä–≤–µ—Ä –ø—Ä–æ–ø—É—Å–∫–∞–µ—Ç –í–∏–Ω–Ω–∏-–ü—É—Ö–∞

‚Äî –ê –∫–∞–∫ –æ—Ç–æ–∑–≤–∞—Ç—å JWT, –µ—Å–ª–∏ –æ–Ω —É–∫—Ä–∞–¥–µ–Ω? ‚Äî —Å–ø—Ä–æ—Å–∏–ª –æ—Å—Ç–æ—Ä–æ–∂–Ω—ã–π –ö—Ä–æ–ª–∏–∫.

‚Äî –í–æ—Ç –≤ —ç—Ç–æ–º —Å–ª–æ–∂–Ω–æ—Å—Ç—å! ‚Äî –ø—Ä–∏–∑–Ω–∞–ª –§–∏–ª–∏–Ω. ‚Äî –û–±—ã—á–Ω—ã–µ —Ç–æ–∫–µ–Ω—ã –º–æ–∂–Ω–æ –ø—Ä–æ—Å—Ç–æ —É–¥–∞–ª–∏—Ç—å –∏–∑ –±–∞–∑—ã. –° JWT –Ω—É–∂–Ω–æ –ª–∏–±–æ:
1.  –°–¥–µ–ª–∞—Ç—å —Å—Ä–æ–∫ –∂–∏–∑–Ω–∏ –æ—á–µ–Ω—å –∫–æ—Ä–æ—Ç–∫–∏–º (–Ω–∞–ø—Ä–∏–º–µ—Ä, 15 –º–∏–Ω—É—Ç)
2.  –°–æ–∑–¥–∞—Ç—å —á—ë—Ä–Ω—ã–π —Å–ø–∏—Å–æ–∫ —É–∫—Ä–∞–¥–µ–Ω–Ω—ã—Ö —Ç–æ–∫–µ–Ω–æ–≤
3.  –ü–æ–º–µ–Ω—è—Ç—å —Å–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–ª—é—á (–Ω–æ —Ç–æ–≥–¥–∞ –≤—Å–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Ç–æ–∫–µ–Ω—ã —Å—Ç–∞–Ω—É—Ç –Ω–µ–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–º–∏)

**–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å JWT?**

‚Äî JWT –∏–¥–µ–∞–ª—å–Ω–æ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è: ‚Äî –Ω–∞—á–∞–ª –ø–µ—Ä–µ—á–∏—Å–ª—è—Ç—å –§–∏–ª–∏–Ω.
*   –û–¥–Ω–æ—Å—Ç—Ä–∞–Ω–∏—á–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π (SPA) ‚Äî React, Vue, Angular
*   –ú–æ–±–∏–ª—å–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π ‚Äî iOS, Android
*   –ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã ‚Äî –∫–æ–≥–¥–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–µ—Ä–≤–∏—Å–æ–≤ –æ–±—â–∞—é—Ç—Å—è –¥—Ä—É–≥ —Å –¥—Ä—É–≥–æ–º

‚Äî –ê –∫–æ–≥–¥–∞ –ù–ï —Å—Ç–æ–∏—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å JWT? ‚Äî —Å–ø—Ä–æ—Å–∏–ª –í–∏–Ω–Ω–∏-–ü—É—Ö.

‚Äî –ö–æ–≥–¥–∞ –≤–∞–º –≤–∞–∂–Ω–∞ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –º–≥–Ω–æ–≤–µ–Ω–Ω–æ–≥–æ –æ—Ç–∑—ã–≤–∞ –¥–æ—Å—Ç—É–ø–∞, ‚Äî –æ—Ç–≤–µ—Ç–∏–ª –§–∏–ª–∏–Ω. ‚Äî –ù–∞–ø—Ä–∏–º–µ—Ä, –µ—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–º–µ–Ω–∏–ª –ø–∞—Ä–æ–ª—å, –Ω—É–∂–Ω–æ –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ –µ–≥–æ —Å—Ç–∞—Ä—ã–µ —Ç–æ–∫–µ–Ω—ã. –° JWT —ç—Ç–æ —Å–ª–æ–∂–Ω–µ–µ, —á–µ–º —Å —Ç–æ–∫–µ–Ω–∞–º–∏ –≤ –±–∞–∑–µ.

**–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å JWT üõ°Ô∏è**

‚Äî –ó–∞–ø–æ–º–Ω–∏—Ç–µ –∑–æ–ª–æ—Ç—ã–µ –ø—Ä–∞–≤–∏–ª–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ JWT! ‚Äî —Å–∫–∞–∑–∞–ª –§–∏–ª–∏–Ω —Å–µ—Ä—å—ë–∑–Ω–æ.
1.  **–•—Ä–∞–Ω–∏—Ç–µ —Å–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–ª—é—á –≤ —Ç–∞–π–Ω–µ!** –ï—Å–ª–∏ –µ–≥–æ —É–∑–Ω–∞—é—Ç, —Å–º–æ–≥—É—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å –ø–æ–¥–¥–µ–ª—å–Ω—ã–µ —Å–≤–∏—Ç–∫–∏.
2.  **–í—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ HTTPS!** JWT –ª–µ—Ç–∞–µ—Ç –ø–æ —Å–µ—Ç–∏ –æ—Ç–∫—Ä—ã—Ç–æ (payload –Ω–µ —à–∏—Ñ—Ä–æ–≤–∞–Ω). HTTPS —à–∏—Ñ—Ä—É–µ—Ç –≤–µ—Å—å —Ç—Ä–∞—Ñ–∏–∫.
3.  **–£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–π—Ç–µ –∫–æ—Ä–æ—Ç–∫–∏–µ —Å—Ä–æ–∫–∏ –∂–∏–∑–Ω–∏!** –ß–µ–º –∫–æ—Ä–æ—á–µ –∂–∏–≤—ë—Ç —Ç–æ–∫–µ–Ω, —Ç–µ–º –º–µ–Ω—å—à–µ —à–∞–Ω—Å–æ–≤, —á—Ç–æ –∏–º –≤–æ—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è, –µ—Å–ª–∏ –æ–Ω —É–∫—Ä–∞–¥–µ–Ω.
4.  **–ù–µ —Ö—Ä–∞–Ω–∏—Ç–µ —Å–µ–∫—Ä–µ—Ç—ã –≤ payload!** –ü–æ–º–Ω–∏—Ç–µ ‚Äî payload —á–∏—Ç–∞–µ–º –≤—Å–µ–º–∏!

**–ü—Ä–∏–º–µ—Ä JWT –Ω–∞ –ø—Ä–∞–∫—Ç–∏–∫–µ**

–§–∏–ª–∏–Ω –≤–∑—è–ª —á–∏—Å—Ç—ã–π —Å–≤–∏—Ç–æ–∫ –∏ –Ω–∞—á–∞–ª –ø–∏—Å–∞—Ç—å:

```python
# –ü—Ä–∏–º–µ—Ä —Å–æ–∑–¥–∞–Ω–∏—è JWT (–≤ –ø—Å–µ–≤–¥–æ–∫–æ–¥–µ)
header = {
    "alg": "HS256",
    "typ": "JWT"
}

payload = {
    "user_id": 123,
    "username": "winnie",
    "role": "honey_lover",
    "exp": 1672531200  # –°—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è: 1 —è–Ω–≤–∞—Ä—è 2023
}

# –°–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–ª—é—á (–∑–Ω–∞–µ—Ç —Ç–æ–ª—å–∫–æ —Å–µ—Ä–≤–µ—Ä!)
secret_key = "–°–£–ü–ï–†_–°–ï–ö–†–ï–¢–ù–´–ô_–ö–õ–Æ–ß_–ú–ï–î–í–ï–î–Ø"

# –°–æ–∑–¥–∞—ë–º –ø–æ–¥–ø–∏—Å—å
signature = HMACSHA256(
    base64encode(header) + "." + base64encode(payload),
    secret_key
)

# –°–æ–±–∏—Ä–∞–µ–º JWT
jwt_token = base64encode(header) + "." + base64encode(payload) + "." + base64encode(signature)
```

‚Äî –ò —ç—Ç–æ—Ç `jwt_token` –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –∫–ª–∏–µ–Ω—Ç—É –≤ –æ—Ç–≤–µ—Ç–µ, ‚Äî –∑–∞–∫–æ–Ω—á–∏–ª –§–∏–ª–∏–Ω. ‚Äî –ê –∫–ª–∏–µ–Ω—Ç –ø–æ—Ç–æ–º –ø—Ä–∏—Å—ã–ª–∞–µ—Ç –µ–≥–æ –≤ –∑–∞–≥–æ–ª–æ–≤–∫–µ:

`Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...`

‚Äî –ü–æ—á–µ–º—É Bearer, –∞ –Ω–µ Token? ‚Äî —Å–ø—Ä–æ—Å–∏–ª –ü—è—Ç–∞—á–æ–∫.

‚Äî `Bearer` ‚Äî —ç—Ç–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –¥–ª—è —Ç–æ–∫–µ–Ω–æ–≤ –¥–æ—Å—Ç—É–ø–∞ –≤ OAuth 2.0, ‚Äî 
–æ–±—ä—è—Å–Ω–∏–ª –§–∏–ª–∏–Ω. 

‚Äî –û! –ê —á—Ç–æ —Ç–∞–∫–æ–µ OAuth? ‚Äî —Å–ø—Ä–æ—Å–∏–ª –í–∏–Ω–Ω–∏-–ü—É—Ö. 

‚Äî OAuth 2.0 ‚Äî —ç—Ç–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è–º –ø–æ–ª—É—á–∞—Ç—å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫ –¥–∞–Ω–Ω—ã–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –±–µ–∑ –ø–µ—Ä–µ–¥–∞—á–∏ –ø–∞—Ä–æ–ª—è! ‚Äî —Å–∫–∞–∑–∞–ª –§–∏–ª–∏–Ω. ‚Äî –ù–∞–ø—Ä–∏–º–µ—Ä, –∫–æ–≥–¥–∞ –≤—ã –≤—Ö–æ–¥–∏—Ç–µ –Ω–∞ —Å–∞–π—Ç —á–µ—Ä–µ–∑ ¬´–í–æ–π—Ç–∏ —á–µ—Ä–µ–∑ Google¬ª ‚Äî —ç—Ç–æ OAuth. Google –≤—ã–¥–∞—ë—Ç —Å–∞–π—Ç—É —Ç–æ–∫–µ–Ω (—á–∞—Å—Ç–æ JWT), –∫–æ—Ç–æ—Ä—ã–π –≥–æ–≤–æ—Ä–∏—Ç: ¬´–î–∞, —ç—Ç–æ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å Google, –≤–æ—Ç –µ–≥–æ email, –Ω–æ –ø–∞—Ä–æ–ª—å –º—ã –Ω–µ –¥–∞—ë–º¬ª.

‚Äî –í OAuth —Ç–æ–∫–µ–Ω—ã –Ω–∞–∑—ã–≤–∞—é—Ç—Å—è Bearer tokens (¬´—Ç–æ–∫–µ–Ω—ã –ø—Ä–µ–¥—ä—è–≤–∏—Ç–µ–ª—è¬ª), ‚Äî –ø—Ä–æ–¥–æ–ª–∂–∏–ª –§–∏–ª–∏–Ω. ‚Äî –ü–æ—ç—Ç–æ–º—É –¥–ª—è JWT —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É—é—Ç –ø—Ä–µ—Ñ–∏–∫—Å `Bearer`. –ù–æ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∏ `Token` –∏–ª–∏ –¥–∞–∂–µ `JWT` ‚Äî –≥–ª–∞–≤–Ω–æ–µ, —á—Ç–æ–±—ã —Å–µ—Ä–≤–µ—Ä –ø–æ–Ω–∏–º–∞–ª.

**–ó–∞—á–µ–º –≤—Å—ë —ç—Ç–æ –Ω—É–∂–Ω–æ?**

‚Äî JWT ‚Äî —ç—Ç–æ —Å–ª–µ–¥—É—é—â–∏–π —à–∞–≥ –≤ —ç–≤–æ–ª—é—Ü–∏–∏ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏, ‚Äî —Å–∫–∞–∑–∞–ª –§–∏–ª–∏–Ω. ‚Äî –û–Ω–∏ –ø–æ–∑–≤–æ–ª—è—é—Ç:
*   –°–æ–∑–¥–∞–≤–∞—Ç—å —Å—Ç–∞—Ç—É—Å–Ω—ã–µ (`stateless`) API, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ —Ö—Ä–∞–Ω—è—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Å–µ—Å—Å–∏–π
*   –õ–µ–≥–∫–æ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –Ω–∞ –º–Ω–æ–∂–µ—Å—Ç–≤–æ —Å–µ—Ä–≤–µ—Ä–æ–≤
*   –ü–µ—Ä–µ–¥–∞–≤–∞—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –ø—Ä—è–º–æ –≤ —Ç–æ–∫–µ–Ω–µ (—Ä–æ–ª–∏, –ø—Ä–∞–≤–∞, –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ)
*   –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è —Å —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–º–∏ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥-—Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∞–º–∏ –∏ –º–æ–±–∏–ª—å–Ω—ã–º–∏ –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞–º–∏

‚Äî –ù–æ –ø–æ–º–Ω–∏—Ç–µ, ‚Äî –ø—Ä–µ–¥—É–ø—Ä–µ–¥–∏–ª –§–∏–ª–∏–Ω, ‚Äî JWT ‚Äî –Ω–µ —Å–µ—Ä–µ–±—Ä—è–Ω–∞—è –ø—É–ª—è. –£ –Ω–∏—Ö –µ—Å—Ç—å —Å–≤–æ–∏ –Ω–µ–¥–æ—Å—Ç–∞—Ç–∫–∏, –∏ –≤—ã–±–∏—Ä–∞—Ç—å –º–µ–∂–¥—É –æ–±—ã—á–Ω—ã–º–∏ —Ç–æ–∫–µ–Ω–∞–º–∏ –∏ JWT –Ω—É–∂–Ω–æ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –∑–∞–¥–∞—á–∏!

‚Äî –ó–∞–≤—Ç—Ä–∞, ‚Äî –ø–æ–æ–±–µ—â–∞–ª –§–∏–ª–∏–Ω, —Å–æ–±–∏—Ä–∞—è —Å–≤–∏—Ç–∫–∏, ‚Äî –º—ã —É—Å—Ç–∞–Ω–æ–≤–∏–º –∏ –Ω–∞—Å—Ç—Ä–æ–∏–º JWT –≤ –Ω–∞—à–µ–º –∑–∞–º–∫–µ! –í—ã –Ω–∞—É—á–∏—Ç–µ—Å—å —Å–æ–∑–¥–∞–≤–∞—Ç—å —ç—Ç–∏ –≤–æ–ª—à–µ–±–Ω—ã–µ —Å–≤–∏—Ç–∫–∏ –∏ –ø—Ä–æ–≤–µ—Ä—è—Ç—å –∏—Ö —Å –ø–æ–º–æ—â—å—é –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ `djangorestframework-simplejwt`.

–ñ–∏—Ç–µ–ª–∏ –õ–µ—Å–∞ —Ä–∞–∑–æ—à–ª–∏—Å—å, –æ–±—Å—É–∂–¥–∞—è —É–¥–∏–≤–∏—Ç–µ–ª—å–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –∑–∞–ø–µ—á–∞—Ç–∞–Ω–Ω—ã—Ö —Å–≤–∏—Ç–∫–æ–≤. –í–∏–Ω–Ω–∏-–ü—É—Ö –¥–∞–∂–µ –ø–æ–ø—Ä–æ–±–æ–≤–∞–ª –Ω–∞—Ä–∏—Å–æ–≤–∞—Ç—å —Å–≤–æ–π JWT –Ω–∞ –±–µ—Ä—ë—Å—Ç–µ, –Ω–æ –ø–æ—á–µ–º—É-—Ç–æ —Å—Ç—Ä–∞–∂–∞ –Ω–µ –ø—Ä–æ–ø—É—Å—Ç–∏–ª–∞ –µ–≥–æ –ø–æ —ç—Ç–æ–º—É —Ä–∏—Å—É–Ω–∫—É. –í–∏–¥–∏–º–æ, –±–µ–∑ —Ü–∏—Ñ—Ä–æ–≤–æ–π –ø–æ–¥–ø–∏—Å–∏ –Ω–µ –æ–±–æ–π—Ç–∏—Å—å... üå≥‚úèÔ∏è

---

# **–ì–ª–∞–≤–∞ 6 –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –í–æ–ª—à–µ–±–Ω–æ–π –ë–∏–±–ª–∏–æ—Ç–µ–∫–∏ JWT –≤ –ó–∞–º–∫–µ** üìöüè∞

–ù–∞ —Å–ª–µ–¥—É—é—â–∏–π –¥–µ–Ω—å –∂–∏—Ç–µ–ª–∏ –õ–µ—Å–∞ —Å–Ω–æ–≤–∞ —Å–æ–±—Ä–∞–ª–∏—Å—å, –ø–æ–ª–Ω—ã–µ –æ–∂–∏–¥–∞–Ω–∏—è. –í—á–µ—Ä–∞ –æ–Ω–∏ —É–∑–Ω–∞–ª–∏ –æ –≤–æ–ª—à–µ–±–Ω—ã—Ö –∑–∞–ø–µ—á–∞—Ç–∞–Ω–Ω—ã—Ö —Å–≤–∏—Ç–∫–∞—Ö JWT, –∞ —Å–µ–≥–æ–¥–Ω—è –§–∏–ª–∏–Ω DRF –æ–±–µ—â–∞–ª –Ω–∞—É—á–∏—Ç—å –∏—Ö —Å–æ–∑–¥–∞–≤–∞—Ç—å —ç—Ç–∏ —Å–≤–∏—Ç–∫–∏ –≤ –∏—Ö —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–º –∑–∞–º–∫–µ!

‚Äî –î—Ä—É–∑—å—è! ‚Äî –Ω–∞—á–∞–ª –§–∏–ª–∏–Ω. ‚Äî –°–µ–≥–æ–¥–Ω—è –º—ã –ø—Ä–µ–≤—Ä–∞—Ç–∏–º –Ω–∞—à –∑–∞–º–æ–∫ –≤ –Ω–∞—Å—Ç–æ—è—â—É—é —Ñ–∞–±—Ä–∏–∫—É –∑–∞–ø–µ—á–∞—Ç–∞–Ω–Ω—ã—Ö —Å–≤–∏—Ç–∫–æ–≤! –ú—ã —É—Å—Ç–∞–Ω–æ–≤–∏–º –∏ –Ω–∞—Å—Ç—Ä–æ–∏–º –±–∏–±–ª–∏–æ—Ç–µ–∫—É, –∫–æ—Ç–æ—Ä–∞—è —É–º–µ–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å –∏ –ø—Ä–æ–≤–µ—Ä—è—Ç—å JWT –±–µ–∑ –ª–∏—à–Ω–∏—Ö —Ö–ª–æ–ø–æ—Ç.

**–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ `djangorestframework-simplejwt`**

‚Äî –î–ª—è —Ä–∞–±–æ—Ç—ã —Å JWT –≤ Django REST Framework —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –æ—Ç–ª–∏—á–Ω–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ ‚Äî `djangorestframework-simplejwt`, ‚Äî –æ–±—ä—è–≤–∏–ª –§–∏–ª–∏–Ω, –ø–æ–∫–∞–∑—ã–≤–∞—è –≤–æ–ª—à–µ–±–Ω—ã–π —Å–≤–∏—Ç–æ–∫-–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é. ‚Äî –û–Ω–∞ —É–∂–µ —Å–æ–¥–µ—Ä–∂–∏—Ç –≤—Å—ë –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ–µ:
*   –°–æ–∑–¥–∞–Ω–∏–µ JWT –ø—Ä–∏ –≤—Ö–æ–¥–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
*   –ü—Ä–æ–≤–µ—Ä–∫—É JWT –≤ –∫–∞–∂–¥–æ–º –∑–∞–ø—Ä–æ—Å–µ
*   –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏—Å—Ç—ë–∫—à–∏—Ö —Ç–æ–∫–µ–Ω–æ–≤
*   –ù–∞—Å—Ç—Ä–æ–π–∫—É –≤—Ä–µ–º–µ–Ω–∏ –∂–∏–∑–Ω–∏ —Ç–æ–∫–µ–Ω–æ–≤

‚Äî –ó–≤—É—á–∏—Ç –≤–æ–ª—à–µ–±–Ω–æ! ‚ú® ‚Äî –≤–æ—Å–∫–ª–∏–∫–Ω—É–ª –í–∏–Ω–Ω–∏-–ü—É—Ö. ‚Äî –ö–∞–∫ –µ—ë —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å?

**–®–∞–≥ 1: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏**

‚Äî –û—á–µ–Ω—å –ø—Ä–æ—Å—Ç–æ! ‚Äî –æ—Ç–≤–µ—Ç–∏–ª –§–∏–ª–∏–Ω. ‚Äî –û—Ç–∫—Ä—ã–≤–∞–µ–º –≤–æ–ª—à–µ–±–Ω—É—é –∫–æ–Ω—Å–æ–ª—å (—Ç–µ—Ä–º–∏–Ω–∞–ª) –∏ –ø–∏—à–µ–º:

```bash
pip install djangorestframework-simplejwt
```

‚Äî –í—Å–µ–≥–æ –æ–¥–Ω–∞ –∫–æ–º–∞–Ω–¥–∞! ‚Äî —É–¥–∏–≤–∏–ª—Å—è –ü—è—Ç–∞—á–æ–∫.

‚Äî –î–∞! ‚Äî –ø–æ–¥—Ç–≤–µ—Ä–¥–∏–ª –§–∏–ª–∏–Ω. 

‚Äî –≠—Ç–∞ –∫–æ–º–∞–Ω–¥–∞ —Å–∫–∞—á–∏–≤–∞–µ—Ç –±–∏–±–ª–∏–æ—Ç–µ–∫—É —Å –≤–æ–ª—à–µ–±–Ω–æ–≥–æ —Å–∫–ª–∞–¥–∞ PyPI –∏ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –µ—ë –≤ –Ω–∞—à–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ.

**–®–∞–≥ 2: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –≤ –∑–∞–º–∫–µ**

‚Äî –¢–µ–ø–µ—Ä—å –Ω—É–∂–Ω–æ —Å–æ–æ–±—â–∏—Ç—å –Ω–∞—à–µ–º—É –∑–∞–º–∫—É, —á—Ç–æ –º—ã –±—É–¥–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å JWT –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –¥—Ä—É–∑–µ–π, ‚Äî —Å–∫–∞–∑–∞–ª –§–∏–ª–∏–Ω, –æ—Ç–∫—Ä—ã–≤–∞—è –≥–ª–∞–≤–Ω—É—é –∫–Ω–∏–≥—É –∑–∞–∫–æ–Ω–æ–≤ `settings.py`.

```python
# settings.py ‚Äî –ì–ª–∞–≤–Ω–∞—è –∫–Ω–∏–≥–∞ –∑–∞–∫–æ–Ω–æ–≤ –∑–∞–º–∫–∞
REST_FRAMEWORK = {
    'DEFAULT_AUTHENTICATION_CLASSES': (
        # –£–∫–∞–∑—ã–≤–∞–µ–º, —á—Ç–æ —Ç–µ–ø–µ—Ä—å –±—É–¥–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å JWT –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏
        'rest_framework_simplejwt.authentication.JWTAuthentication',
    ),
}
```

‚Äî –í–∏–¥–∏—Ç–µ —Ä–∞–∑–Ω–∏—Ü—É? ‚Äî —Å–ø—Ä–æ—Å–∏–ª –§–∏–ª–∏–Ω. ‚Äî –†–∞–Ω—å—à–µ —É –Ω–∞—Å –±—ã–ª–æ `TokenAuthentication`, –∞ —Ç–µ–ø–µ—Ä—å ‚Äî `JWTAuthentication`. –¢–µ–ø–µ—Ä—å —Å—Ç—Ä–∞–∂–∞ –±—É–¥–µ—Ç –ø—Ä–æ–≤–µ—Ä—è—Ç—å –Ω–µ –ø—Ä–æ—Å—Ç—ã–µ –∂–µ—Ç–æ–Ω—ã, –∞ –∑–∞–ø–µ—á–∞—Ç–∞–Ω–Ω—ã–µ —Å–≤–∏—Ç–∫–∏!

**–®–∞–≥ 3: –°–æ–∑–¥–∞–Ω–∏–µ –¥–≤–µ—Ä–µ–π –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Å–≤–∏—Ç–∫–æ–≤ (`urls.py`)**

‚Äî –¢–µ–ø–µ—Ä—å —Å–æ–∑–¥–∞–¥–∏–º —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ –¥–≤–µ—Ä–∏, –∫—É–¥–∞ –¥—Ä—É–∑—å—è –±—É–¥—É—Ç –ø—Ä–∏—Ö–æ–¥–∏—Ç—å –∑–∞ —Å–≤–∏—Ç–∫–∞–º–∏, ‚Äî –ø—Ä–æ–¥–æ–ª–∂–∏–ª –§–∏–ª–∏–Ω, –æ—Ç–∫—Ä—ã–≤–∞—è —Ñ–∞–π–ª `urls.py`.

```python
# urls.py ‚Äî –ö–∞—Ä—Ç–∞ –¥–≤–µ—Ä–µ–π –∑–∞–º–∫–∞
from django.urls import path
from rest_framework_simplejwt.views import (
    TokenObtainPairView,    # –î–≤–µ—Ä—å –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –ø–∞—Ä—ã —Ç–æ–∫–µ–Ω–æ–≤
    TokenRefreshView,       # –î–≤–µ—Ä—å –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Ç–æ–∫–µ–Ω–∞ –¥–æ—Å—Ç—É–ø–∞
)

urlpatterns = [
    # ... –¥—Ä—É–≥–∏–µ –¥–≤–µ—Ä–∏ –∑–∞–º–∫–∞ ...
    
    # –î–≤–µ—Ä—å –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Å–≤–∏—Ç–∫–æ–≤
    path('api/token/', TokenObtainPairView.as_view(), name='token_obtain_pair'),
    
    # –î–≤–µ—Ä—å –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å–≤–∏—Ç–∫–æ–≤
    path('api/token/refresh/', TokenRefreshView.as_view(), name='token_refresh'),
]
```

‚Äî –ß—Ç–æ —Ç–∞–∫–æ–µ `TokenObtainPairView`? ‚Äî —Å–ø—Ä–æ—Å–∏–ª –ö—Ä–æ–ª–∏–∫.

‚Äî –≠—Ç–æ –≥–æ—Ç–æ–≤–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ (view) –∏–∑ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ `simplejwt`, –∫–æ—Ç–æ—Ä–æ–µ:
1.  –ü—Ä–∏–Ω–∏–º–∞–µ—Ç POST-–∑–∞–ø—Ä–æ—Å —Å `username` –∏ `password`
2.  –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –∏—Ö
3.  –ï—Å–ª–∏ –≤—Å—ë –ø—Ä–∞–≤–∏–ª—å–Ω–æ ‚Äî —Å–æ–∑–¥–∞—ë—Ç –ø–∞—Ä—É —Ç–æ–∫–µ–Ω–æ–≤ (`access` –∏ `refresh`)
4.  –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∏—Ö –≤ JSON-–æ—Ç–≤–µ—Ç–µ

‚Äî DRF —Å–∞–º —Å–æ–∑–¥–∞—ë—Ç –æ–±—ä–µ–∫—Ç —ç—Ç–æ–≥–æ –∫–ª–∞—Å—Å–∞ –∫–æ–≥–¥–∞ –∫—Ç–æ-—Ç–æ –æ–±—Ä–∞—â–∞–µ—Ç—Å—è –ø–æ URL `/api/token/`, –∏ —Å–∞–º –≤—ã–∑—ã–≤–∞–µ—Ç –Ω—É–∂–Ω—ã–µ –º–µ—Ç–æ–¥—ã (–≤ –¥–∞–Ω–Ω–æ–º —Å–ª—É—á–∞–µ `post()`), ‚Äî –æ–±—ä—è—Å–Ω–∏–ª –§–∏–ª–∏–Ω.

‚Äî –ó–∞—á–µ–º –¥–≤–µ –¥–≤–µ—Ä–∏? ‚Äî —Å–ø—Ä–æ—Å–∏–ª –í–∏–Ω–Ω–∏-–ü—É—Ö.

‚Äî –û—Ç–ª–∏—á–Ω—ã–π –≤–æ–ø—Ä–æ—Å! ‚Äî –ø–æ—Ö–≤–∞–ª–∏–ª –§–∏–ª–∏–Ω. ‚Äî –í JWT –æ–±—ã—á–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–≤–∞ —Ç–∏–ø–∞ —Ç–æ–∫–µ–Ω–æ–≤:
1.  **Access Token (—Ç–æ–∫–µ–Ω –¥–æ—Å—Ç—É–ø–∞)** ‚Äî –∫–æ—Ä–æ—Ç–∫–æ–∂–∏–≤—É—â–∏–π (–Ω–∞–ø—Ä–∏–º–µ—Ä, 5-15 –º–∏–Ω—É—Ç), –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ –∑–∞—â–∏—â—ë–Ω–Ω—ã–º —Ä–µ—Å—É—Ä—Å–∞–º
2.  **Refresh Token (—Ç–æ–∫–µ–Ω –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è)** ‚Äî –¥–æ–ª–≥–æ–∂–∏–≤—É—â–∏–π (–Ω–∞–ø—Ä–∏–º–µ—Ä, 1-7 –¥–Ω–µ–π), –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –Ω–æ–≤—ã—Ö access —Ç–æ–∫–µ–Ω–æ–≤

‚Äî –≠—Ç–æ –∫–∞–∫ –≤ –±–∞–Ω–∫–µ! üè¶ ‚Äî –≤–æ—Å–∫–ª–∏–∫–Ω—É–ª –í–∏–Ω–Ω–∏-–ü—É—Ö. ‚Äî Access Token ‚Äî —ç—Ç–æ –Ω–∞–ª–∏—á–Ω—ã–µ, –∫–æ—Ç–æ—Ä—ã–µ —Ç—ã —Ç—Ä–∞—Ç–∏—à—å –≤ –º–∞–≥–∞–∑–∏–Ω–µ. Refresh Token ‚Äî —ç—Ç–æ –±–∞–Ω–∫–æ–≤—Å–∫–∞—è –∫–∞—Ä—Ç–∞, –∫–æ—Ç–æ—Ä–æ–π —Ç—ã –ø–æ–ª—É—á–∞–µ—à—å –Ω–æ–≤—ã–µ –Ω–∞–ª–∏—á–Ω—ã–µ, –∫–æ–≥–¥–∞ —Å—Ç–∞—Ä—ã–µ –∑–∞–∫–∞–Ω—á–∏–≤–∞—é—Ç—Å—è!

‚Äî –ò–º–µ–Ω–Ω–æ! ‚Äî —Å–æ–≥–ª–∞—Å–∏–ª—Å—è –§–∏–ª–∏–Ω. ‚Äî `TokenObtainPairView` –≤—ã–¥–∞—ë—Ç –æ–±–∞ —Ç–æ–∫–µ–Ω–∞, –∞ `TokenRefreshView` –ø–æ refresh —Ç–æ–∫–µ–Ω—É –≤—ã–¥–∞—ë—Ç –Ω–æ–≤—ã–π access —Ç–æ–∫–µ–Ω.

**–®–∞–≥ 4: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –≤—Ä–µ–º–µ–Ω–∏ –∂–∏–∑–Ω–∏ —Å–≤–∏—Ç–∫–æ–≤ ‚è≥**

‚Äî –ê –∫–∞–∫ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å, —á—Ç–æ–±—ã access —Ç–æ–∫–µ–Ω –∂–∏–ª –Ω–µ 15 –º–∏–Ω—É—Ç, –∞, –Ω–∞–ø—Ä–∏–º–µ—Ä, 1 —á–∞—Å? ‚Äî —Å–ø—Ä–æ—Å–∏–ª –ö—Ä–æ–ª–∏–∫.

‚Äî –û—á–µ–Ω—å –ø—Ä–æ—Å—Ç–æ! ‚Äî –æ—Ç–≤–µ—Ç–∏–ª –§–∏–ª–∏–Ω. ‚Äî –î–æ–±–∞–≤–∏–º –≤ `settings.py` —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:

```python
# settings.py
from datetime import timedelta

SIMPLE_JWT = {
    # Access —Ç–æ–∫–µ–Ω –∂–∏–≤—ë—Ç 5 –º–∏–Ω—É—Ç
    'ACCESS_TOKEN_LIFETIME': timedelta(minutes=5),
    
    # Refresh —Ç–æ–∫–µ–Ω –∂–∏–≤—ë—Ç 1 –¥–µ–Ω—å
    'REFRESH_TOKEN_LIFETIME': timedelta(days=1),
    
    # –ü—Ä–∏ –∫–∞–∂–¥–æ–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ –≤—ã–¥–∞–≤–∞—Ç—å –Ω–æ–≤—ã–π refresh —Ç–æ–∫–µ–Ω
    'ROTATE_REFRESH_TOKENS': True,
    
    # –°—Ç–∞—Ä—ã–µ refresh —Ç–æ–∫–µ–Ω—ã –¥–æ–±–∞–≤–ª—è—Ç—å –≤ —á—ë—Ä–Ω—ã–π —Å–ø–∏—Å–æ–∫
    'BLACKLIST_AFTER_ROTATION': True,
    
    # –ú–æ–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –∏ –¥—Ä—É–≥–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:
    'AUTH_HEADER_TYPES': ('Bearer',),  # –¢–∏–ø –∑–∞–≥–æ–ª–æ–≤–∫–∞
    
    # USER_ID_FIELD –∏ USER_ID_CLAIM ‚Äî —ç—Ç–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Ç–æ–≥–æ,
    # –∫–∞–∫ –±—É–¥–µ—Ç —Ö—Ä–∞–Ω–∏—Ç—å—Å—è ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ JWT
    'USER_ID_FIELD': 'id',              # –ü–æ–ª–µ –≤ –º–æ–¥–µ–ª–∏ User, –∫–æ—Ç–æ—Ä–æ–µ —Å–æ–¥–µ—Ä–∂–∏—Ç ID (–æ–±—ã—á–Ω–æ 'id')
    'USER_ID_CLAIM': 'user_id',         # –ù–∞–∑–≤–∞–Ω–∏–µ –ø–æ–ª—è –≤ payload JWT, –≥–¥–µ –±—É–¥–µ—Ç —Ö—Ä–∞–Ω–∏—Ç—å—Å—è —ç—Ç–æ—Ç ID
}
```
 ‚Äî –ß—Ç–æ —ç—Ç–æ –∑–Ω–∞—á–∏—Ç? ‚Äî —Å–ø—Ä–æ—Å–∏–ª –ü—è—Ç–∞—á–æ–∫.

 ‚Äî –≠—Ç–æ –∑–Ω–∞—á–∏—Ç, ‚Äî –æ–±—ä—è—Å–Ω–∏–ª –§–∏–ª–∏–Ω, ‚Äî —á—Ç–æ –≤ payload JWT –±—É–¥–µ—Ç –ø–æ–ª–µ 'user_id',
 –≤ –∫–æ—Ç–æ—Ä–æ–º –±—É–¥–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ user.id (–Ω–∞–ø—Ä–∏–º–µ—Ä, {"user_id": 123, ...})

**–®–∞–≥ 5: –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Å–≤–æ–∏—Ö –¥–∞–Ω–Ω—ã—Ö –≤ —Å–≤–∏—Ç–æ–∫**

‚Äî –ê –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –≤ —Å–≤–∏—Ç–æ–∫ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é? ‚Äî —Å–ø—Ä–æ—Å–∏–ª –í–∏–Ω–Ω–∏-–ü—É—Ö. ‚Äî –ù–∞–ø—Ä–∏–º–µ—Ä, –º–æ–π –ª—é–±–∏–º—ã–π —Å–æ—Ä—Ç –º—ë–¥–∞?

‚Äî –ö–æ–Ω–µ—á–Ω–æ! üçØ ‚Äî –æ—Ç–≤–µ—Ç–∏–ª –§–∏–ª–∏–Ω. ‚Äî –î–ª—è —ç—Ç–æ–≥–æ –Ω—É–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å —Å–≤–æ–π —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ç–æ—Ä.

‚Äî –ß—Ç–æ —Ç–∞–∫–æ–µ —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ç–æ—Ä? ‚Äî —Å–ø—Ä–æ—Å–∏–ª –ü—è—Ç–∞—á–æ–∫.

‚Äî –≠—Ç–æ –≤–æ–ª—à–µ–±–Ω–æ–µ –∑–∞–∫–ª–∏–Ω–∞–Ω–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç –¥–∞–Ω–Ω—ã–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ) –≤ —Ñ–æ—Ä–º–∞—Ç, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–Ω–æ –ø–æ–ª–æ–∂–∏—Ç—å –≤ —Å–≤–∏—Ç–æ–∫ JWT, ‚Äî –æ–±—ä—è—Å–Ω–∏–ª –§–∏–ª–∏–Ω. ‚Äî –ê `TokenObtainPairSerializer` ‚Äî —ç—Ç–æ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ç–æ—Ä –∏–∑ `simplejwt`, –∫–æ—Ç–æ—Ä—ã–π —É–º–µ–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å JWT —Ç–æ–∫–µ–Ω—ã.

```python
# serializers.py ‚Äî –í–æ–ª—à–µ–±–Ω—ã–µ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª–∏
from rest_framework_simplejwt.serializers import TokenObtainPairSerializer

class CustomTokenObtainPairSerializer(TokenObtainPairSerializer):
    """
    –ù–∞—à –∫–∞—Å—Ç–æ–º–Ω—ã–π —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ç–æ—Ä –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è JWT.
    –ù–∞—Å–ª–µ–¥—É–µ—Ç—Å—è –æ—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–≥–æ TokenObtainPairSerializer.
    """
    
    @classmethod
    def get_token(cls, user):
        """
        –≠—Ç–æ—Ç –º–µ—Ç–æ–¥ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ —Ç–æ–∫–µ–Ω–∞ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.
        """
        # super().get_token(user) –≤—ã–∑—ã–≤–∞–µ—Ç –º–µ—Ç–æ–¥ get_token —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–≥–æ –∫–ª–∞—Å—Å–∞
        # –†–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–π –º–µ—Ç–æ–¥ —Å–æ–∑–¥–∞—ë—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π JWT —Ç–æ–∫–µ–Ω —Å –±–∞–∑–æ–≤—ã–º–∏ –ø–æ–ª—è–º–∏
        # (user_id, exp, iat –∏ –¥—Ä—É–≥–∏–º–∏)
        token = super().get_token(user)
        
        # –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–æ–¥—Ä–æ–±–Ω–æ? ‚Äî —Å–ø—Ä–æ—Å–∏–ª –ö—Ä–æ–ª–∏–∫.
        # –ö–æ–≥–¥–∞ –º—ã –≤—ã–∑—ã–≤–∞–µ–º super().get_token(user), ‚Äî –æ–±—ä—è—Å–Ω–∏–ª –§–∏–ª–∏–Ω, ‚Äî
        # —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–π –∫–ª–∞—Å—Å (TokenObtainPairSerializer):
        # 1. –°–æ–∑–¥–∞—ë—Ç –æ–±—ä–µ–∫—Ç —Ç–æ–∫–µ–Ω–∞ (—ç–∫–∑–µ–º–ø–ª—è—Ä –∫–ª–∞—Å—Å–∞ AccessToken)
        # 2. –î–æ–±–∞–≤–ª—è–µ—Ç –≤ –Ω–µ–≥–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ claims: user_id, exp, iat, jti –∏ –¥—Ä—É–≥–∏–µ
        # 3. –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —ç—Ç–æ—Ç –æ–±—ä–µ–∫—Ç —Ç–æ–∫–µ–Ω–∞
        
        # –¢–µ–ø–µ—Ä—å –º—ã –º–æ–∂–µ–º –¥–æ–±–∞–≤–∏—Ç—å —Å–≤–æ–∏ –ø–æ–ª—è –≤ payload —Ç–æ–∫–µ–Ω–∞
        token['email'] = user.email
        token['is_superuser'] = user.is_superuser
        token['favorite_honey'] = '–ª–∏–ø–æ–≤—ã–π'  # –õ—é–±–∏–º—ã–π –º—ë–¥ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
        token['honey_quota'] = 10  # –î–Ω–µ–≤–Ω–∞—è –∫–≤–æ—Ç–∞ –º—ë–¥–∞
        
        return token
```

‚Äî –ê –∫–æ–≥–¥–∞, –≥–¥–µ –∏ –∫–∞–∫ —Å–æ–∑–¥–∞—ë—Ç—Å—è –æ–±—ä–µ–∫—Ç —ç—Ç–æ–≥–æ –∫–ª–∞—Å—Å–∞ –∏ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –µ–≥–æ –º–µ—Ç–æ–¥? ‚Äî —Å–ø—Ä–æ—Å–∏–ª –í–∏–Ω–Ω–∏-–ü—É—Ö.

‚Äî –û—Ç–ª–∏—á–Ω—ã–π –≤–æ–ø—Ä–æ—Å! ‚Äî —Å–∫–∞–∑–∞–ª –§–∏–ª–∏–Ω. ‚Äî DRF –¥–µ–ª–∞–µ—Ç —ç—Ç–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
1.  –ö–æ–≥–¥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç POST –Ω–∞ `/api/token/`
2.  `TokenObtainPairView` —Å–æ–∑–¥–∞—ë—Ç –æ–±—ä–µ–∫—Ç –Ω–∞—à–µ–≥–æ `CustomTokenObtainPairSerializer`
3.  –í—ã–∑—ã–≤–∞–µ—Ç —É –Ω–µ–≥–æ –º–µ—Ç–æ–¥ `validate()` (–∫–æ—Ç–æ—Ä—ã–π –Ω–∞—Å–ª–µ–¥—É–µ—Ç—Å—è –æ—Ç —Ä–æ–¥–∏—Ç–µ–ª—è)
4.  –í–Ω—É—Ç—Ä–∏ `validate()` –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –Ω–∞—à –º–µ—Ç–æ–¥ `get_token()`
5.  –°–æ–∑–¥–∞—ë—Ç—Å—è JWT —Å –Ω–∞—à–∏–º–∏ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–º–∏ –ø–æ–ª—è–º–∏

‚Äî –¢–µ–ø–µ—Ä—å –Ω—É–∂–Ω–æ —Å–∫–∞–∑–∞—Ç—å –Ω–∞—à–µ–º—É `TokenObtainPairView`, —á—Ç–æ–±—ã –æ–Ω –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª —ç—Ç–æ—Ç —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ç–æ—Ä, ‚Äî –ø—Ä–æ–¥–æ–ª–∂–∏–ª –§–∏–ª–∏–Ω. ‚Äî –î–ª—è —ç—Ç–æ–≥–æ —Å–æ–∑–¥–∞–¥–∏–º —Å–≤–æ—ë –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ:

```python
# views.py
from rest_framework_simplejwt.views import TokenObtainPairView
from .serializers import CustomTokenObtainPairSerializer

class CustomTokenObtainPairView(TokenObtainPairView):
    """
    –ö–∞—Å—Ç–æ–º–Ω–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Ç–æ–∫–µ–Ω–æ–≤
    —Å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏ –≤ payload.
    –ù–∞—Å–ª–µ–¥—É–µ—Ç—Å—è –æ—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–≥–æ TokenObtainPairView.
    """
    serializer_class = CustomTokenObtainPairSerializer
    # –ì–æ–≤–æ—Ä–∏–º: "–ò—Å–ø–æ–ª—å–∑—É–π –Ω–∞—à –∫–∞—Å—Ç–æ–º–Ω—ã–π —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ç–æ—Ä –≤–º–µ—Å—Ç–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–≥–æ!"
```

‚Äî –ò –æ–±–Ω–æ–≤–∏–º `urls.py`:

```python
# urls.py
from django.urls import path
from .views import CustomTokenObtainPairView
from rest_framework_simplejwt.views import TokenRefreshView

urlpatterns = [
    path('api/token/', CustomTokenObtainPairView.as_view(), name='token_obtain_pair'),
    path('api/token/refresh/', TokenRefreshView.as_view(), name='token_refresh'),
]
```

‚Äî –¢–µ–ø–µ—Ä—å, –∫–æ–≥–¥–∞ –í–∏–Ω–Ω–∏-–ü—É—Ö –ø–æ–ª—É—á–∏—Ç —Ç–æ–∫–µ–Ω, –≤ –Ω—ë–º –±—É–¥–µ—Ç –∑–∞–ø–∏—Å–∞–Ω–æ, —á—Ç–æ –µ–≥–æ –ª—é–±–∏–º—ã–π –º—ë–¥ ‚Äî –ª–∏–ø–æ–≤—ã–π! ‚Äî —Å–∫–∞–∑–∞–ª –§–∏–ª–∏–Ω.

**–®–∞–≥ 6: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–æ–ª—à–µ–±–Ω—ã—Ö –¥–≤–µ—Ä–µ–π üß™**

‚Äî –î–∞–≤–∞–π—Ç–µ –ø—Ä–æ–≤–µ—Ä–∏–º, –∫–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç! ‚Äî –ø—Ä–µ–¥–ª–æ–∂–∏–ª –§–∏–ª–∏–Ω.

**–ü–æ–ª—É—á–µ–Ω–∏–µ –ø–∞—Ä—ã —Ç–æ–∫–µ–Ω–æ–≤:**
```bash
# –í–∏–Ω–Ω–∏-–ü—É—Ö –ø—Ä–æ—Å–∏—Ç —Å–≤–∏—Ç–∫–∏
curl -X POST http://–∑–∞–º–æ–∫-–¥–∞–Ω–Ω—ã—Ö.–ª–µ—Å/api/token/ \
  -H "Content-Type: application/json" \
  -d '{"username": "winnie", "password": "honey123"}'
```

‚Äî –ß—Ç–æ –æ—Ç–≤–µ—Ç–∏—Ç –∑–∞–º–æ–∫? ‚Äî —Å–ø—Ä–æ—Å–∏–ª –ü—è—Ç–∞—á–æ–∫.

‚Äî –ï—Å–ª–∏ –ª–æ–≥–∏–Ω –∏ –ø–∞—Ä–æ–ª—å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ:
```json
{
    "refresh": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",  # –¢–æ–∫–µ–Ω –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
    "access": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."    # –¢–æ–∫–µ–Ω –¥–æ—Å—Ç—É–ø–∞
}
```

‚Äî –ê –µ—Å–ª–∏ —Ä–∞—Å—à–∏—Ñ—Ä–æ–≤–∞—Ç—å access —Ç–æ–∫–µ–Ω (–Ω–∞–ø—Ä–∏–º–µ—Ä, –Ω–∞ —Å–∞–π—Ç–µ jwt.io), –º—ã —É–≤–∏–¥–∏–º:
```json
{
  "user_id": 123,
  "exp": 1672531200,
  "email": "winnie@forest.com",
  "is_superuser": false,
  "favorite_honey": "–ª–∏–ø–æ–≤—ã–π",
  "honey_quota": 10
}
```

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ access —Ç–æ–∫–µ–Ω–∞:**

‚Äî –¢–µ–ø–µ—Ä—å, –∫–æ–≥–¥–∞ —É –í–∏–Ω–Ω–∏-–ü—É—Ö–∞ –µ—Å—Ç—å access —Ç–æ–∫–µ–Ω, –æ–Ω –º–æ–∂–µ—Ç –æ–±—Ä–∞—â–∞—Ç—å—Å—è –∫ –∑–∞—â–∏—â—ë–Ω–Ω—ã–º –∫–æ–º–Ω–∞—Ç–∞–º:

```bash
# –í–∏–Ω–Ω–∏-–ü—É—Ö –∏–¥—ë—Ç –∑–∞ –º—ë–¥–æ–º
curl -X GET http://–∑–∞–º–æ–∫-–¥–∞–Ω–Ω—ã—Ö.–ª–µ—Å/api/secret-honey/ \
  -H "Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
```

‚Äî –û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ! ‚Äî —É–∫–∞–∑–∞–ª –§–∏–ª–∏–Ω. ‚Äî –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `Bearer`, –∞ –Ω–µ `Token`, –∫–∞–∫ –±—ã–ª–æ —Å –æ–±—ã—á–Ω—ã–º–∏ —Ç–æ–∫–µ–Ω–∞–º–∏!

**–®–∞–≥ 7: –†–µ—à–µ–Ω–∏–µ —Ç–∏–ø–∏—á–Ω—ã—Ö –ø—Ä–æ–±–ª–µ–º üîß**

‚Äî –ê —á—Ç–æ –µ—Å–ª–∏ —á—Ç–æ-—Ç–æ –ø–æ–π–¥—ë—Ç –Ω–µ —Ç–∞–∫? ‚Äî —Å–ø—Ä–æ—Å–∏–ª –æ—Å—Ç–æ—Ä–æ–∂–Ω—ã–π –ü—è—Ç–∞—á–æ–∫.

–§–∏–ª–∏–Ω –¥–æ—Å—Ç–∞–ª —Å–≤–∏—Ç–æ–∫ ¬´–°–ø—Ä–∞–≤–æ—á–Ω–∏–∫ –≤–æ–ª—à–µ–±–Ω–∏–∫–∞ JWT¬ª:

*   **–ü—Ä–æ–±–ª–µ–º–∞ 1:** ¬´JWT token is invalid¬ª
    *   *–ü—Ä–∏—á–∏–Ω–∞:* –¢–æ–∫–µ–Ω –∏—Å—Ç—ë–∫ –∏–ª–∏ –±—ã–ª –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω.
    *   *–†–µ—à–µ–Ω–∏–µ:* –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ refresh —Ç–æ–∫–µ–Ω –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –Ω–æ–≤–æ–≥–æ access —Ç–æ–∫–µ–Ω–∞.
*   **–ü—Ä–æ–±–ª–µ–º–∞ 2:** ¬´Token signature is invalid¬ª
    *   *–ü—Ä–∏—á–∏–Ω–∞:* –ö—Ç–æ-—Ç–æ –∏–∑–º–µ–Ω–∏–ª —Ç–æ–∫–µ–Ω, –∏–ª–∏ –∏–∑–º–µ–Ω–∏–ª—Å—è `SECRET_KEY` –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö.
    *   *–†–µ—à–µ–Ω–∏–µ:* –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, –Ω–µ –º–µ–Ω—è–ª–∏ –ª–∏ –≤—ã `SECRET_KEY`. –ï—Å–ª–∏ –º–µ–Ω—è–ª–∏ ‚Äî –≤—Å–µ —Å—Ç–∞—Ä—ã–µ —Ç–æ–∫–µ–Ω—ã —Å—Ç–∞–ª–∏ –Ω–µ–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–º–∏.
*   **–ü—Ä–æ–±–ª–µ–º–∞ 3:** –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –∑–∞–≥–æ–ª–æ–≤–∫–∞
    *   *–ü—Ä–∏—á–∏–Ω–∞:* –û—Ç–ø—Ä–∞–≤–ª–µ–Ω `Authorization: Token ...` –≤–º–µ—Å—Ç–æ `Authorization: Bearer ...`
    *   *–†–µ—à–µ–Ω–∏–µ:* –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø—Ä–µ—Ñ–∏–∫—Å `Bearer`.

**–ò—Ç–æ–≥ –¥–Ω—è**
‚Äî –°–µ–≥–æ–¥–Ω—è –º—ã —Å–æ–≤–µ—Ä—à–∏–ª–∏ –Ω–∞—Å—Ç–æ—è—â—É—é —Ä–µ–≤–æ–ª—é—Ü–∏—é –≤ –Ω–∞—à–µ–º –∑–∞–º–∫–µ! ‚Äî –ø–æ–¥–≤—ë–ª –∏—Ç–æ–≥ –§–∏–ª–∏–Ω. ‚Äî –ú—ã:

1.  –£—Å—Ç–∞–Ω–æ–≤–∏–ª–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫—É `djangorestframework-simplejwt`
2.  –ù–∞—Å—Ç—Ä–æ–∏–ª–∏ JWT –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é –≤ `settings.py`
3.  –°–æ–∑–¥–∞–ª–∏ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Ç–æ–∫–µ–Ω–æ–≤
4.  –ù–∞—Å—Ç—Ä–æ–∏–ª–∏ –≤—Ä–µ–º—è –∂–∏–∑–Ω–∏ —Ç–æ–∫–µ–Ω–æ–≤ –∏ –æ–±—ä—è—Å–Ω–∏–ª–∏, —á—Ç–æ —Ç–∞–∫–æ–µ `USER_ID_CLAIM`
5.  –°–æ–∑–¥–∞–ª–∏ –∫–∞—Å—Ç–æ–º–Ω—ã–π —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ç–æ—Ä –∏ –æ–±—ä—è—Å–Ω–∏–ª–∏, –∫–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç `TokenObtainPairSerializer`
6.  –ù–∞—É—á–∏–ª–∏—Å—å –¥–æ–±–∞–≤–ª—è—Ç—å —Å–≤–æ–∏ –¥–∞–Ω–Ω—ã–µ –≤ JWT

‚Äî –¢–µ–ø–µ—Ä—å –Ω–∞—à –∑–∞–º–æ–∫ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å–∞–º—ã–µ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏! ‚Äî —Å –≥–æ—Ä–¥–æ—Å—Ç—å—é —Å–∫–∞–∑–∞–ª –í–∏–Ω–Ω–∏-–ü—É—Ö.

‚Äî –ù–æ –∏ —ç—Ç–æ –µ—â—ë –Ω–µ –≤—Å—ë! ‚Äî —É–ª—ã–±–Ω—É–ª—Å—è –§–∏–ª–∏–Ω. ‚Äî –ó–∞–≤—Ç—Ä–∞ –º—ã –Ω–∞—É—á–∏–º—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å JWT –¥–ª—è –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ–π –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, —Å–æ–∑–¥–∞–¥–∏–º —Å–∏—Å—Ç–µ–º—É –≤—Ö–æ–¥–∞ –∏ –≤—ã—Ö–æ–¥–∞, –∏ –¥–∞–∂–µ —Ä–µ–∞–ª–∏–∑—É–µ–º —á—ë—Ä–Ω—ã–π —Å–ø–∏—Å–æ–∫ —Ç–æ–∫–µ–Ω–æ–≤!

–ñ–∏—Ç–µ–ª–∏ –õ–µ—Å–∞ —Ä–∞–∑–æ—à–ª–∏—Å—å, –æ–±–¥—É–º—ã–≤–∞—è –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏, –∫–æ—Ç–æ—Ä—ã–µ –æ—Ç–∫—Ä—ã–≤–∞—é—Ç –ø–µ—Ä–µ–¥ –Ω–∏–º–∏ –∑–∞–ø–µ—á–∞—Ç–∞–Ω–Ω—ã–µ —Å–≤–∏—Ç–∫–∏ JWT. –ê –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Ñ–∞–±—Ä–∏–∫–∞ —Å–≤–∏—Ç–∫–æ–≤ —Ç–∏—Ö–æ —Ä–∞–±–æ—Ç–∞–ª–∞, –≥–æ—Ç–æ–≤–∞—è –≤—ã–¥–∞–≤–∞—Ç—å –≤–æ–ª—à–µ–±–Ω—ã–µ –ø—Ä–æ–ø—É—Å–∫–∞ –≤—Å–µ–º –¥—Ä—É–∑—å—è–º, –∫–æ—Ç–æ—Ä—ã–µ –∑–∞—Ö–æ—Ç—è—Ç –ø–æ—Å–µ—Ç–∏—Ç—å –∏—Ö —É—é—Ç–Ω—ã–π, –≤—ã—Å–æ–∫–æ—Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—á–Ω—ã–π –∑–∞–º–æ–∫. üè∞‚ú®üìú

---

# **–ì–ª–∞–≤–∞ 7 –ú–∞—Å—Ç–µ—Ä—Å–∫–∞—è –ó–∞–ø–µ—á–∞—Ç–∞–Ω–Ω—ã—Ö –°–≤–∏—Ç–∫–æ–≤ ‚Äî –ü–æ–ª–Ω–∞—è –°–∏—Å—Ç–µ–º–∞ JWT** üõ†Ô∏èüìú

–ß–µ—Ä–µ–∑ –¥–µ–Ω—å –∂–∏—Ç–µ–ª–∏ –õ–µ—Å–∞ —Å–Ω–æ–≤–∞ —Å–æ–±—Ä–∞–ª–∏—Å—å –≤ –∑–∞–º–∫–µ. –ù–∞ —ç—Ç–æ—Ç —Ä–∞–∑ –§–∏–ª–∏–Ω DRF –ø—Ä–∏–≥–æ—Ç–æ–≤–∏–ª –¥–ª—è –Ω–∏—Ö –Ω–∞—Å—Ç–æ—è—â—É—é –º–∞—Å—Ç–µ—Ä—Å–∫—É—é –ø–æ —Ä–∞–±–æ—Ç–µ —Å JWT.

‚Äî –î—Ä—É–∑—å—è! ‚Äî –Ω–∞—á–∞–ª –§–∏–ª–∏–Ω. ‚Äî –ú—ã —É–∂–µ —É—Å—Ç–∞–Ω–æ–≤–∏–ª–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫—É –∏ —Å–æ–∑–¥–∞–ª–∏ –±–∞–∑–æ–≤—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã –¥–ª—è JWT. –ù–æ —Å–µ–≥–æ–¥–Ω—è –º—ã –ø–æ—Å—Ç—Ä–æ–∏–º –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—É—é —Å–∏—Å—Ç–µ–º—É –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ —Å –∑–∞–ø–µ—á–∞—Ç–∞–Ω–Ω—ã–º–∏ —Å–≤–∏—Ç–∫–∞–º–∏! –ú—ã –Ω–∞—É—á–∏–º—Å—è –Ω–µ —Ç–æ–ª—å–∫–æ –≤—ã–¥–∞–≤–∞—Ç—å –∏—Ö, –Ω–æ –∏ –ø—Ä–æ–≤–µ—Ä—è—Ç—å, –æ–±–Ω–æ–≤–ª—è—Ç—å –∏ –¥–∞–∂–µ –æ—Ç–∑—ã–≤–∞—Ç—å!

**–®–∞–≥ 1: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å JWT**

‚Äî –°–Ω–∞—á–∞–ª–∞ —É–±–µ–¥–∏–º—Å—è, —á—Ç–æ —É –Ω–∞—Å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞ –±–∏–±–ª–∏–æ—Ç–µ–∫–∞, ‚Äî —Å–∫–∞–∑–∞–ª –§–∏–ª–∏–Ω.

```bash
# –ï—Å–ª–∏ –µ—â—ë –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ
pip install djangorestframework-simplejwt
```

‚Äî –¢–µ–ø–µ—Ä—å –Ω–∞—Å—Ç—Ä–æ–∏–º –Ω–∞—à –∑–∞–º–æ–∫ –≤ `settings.py`:

```python
# settings.py
from datetime import timedelta

REST_FRAMEWORK = {
    'DEFAULT_AUTHENTICATION_CLASSES': (
        'rest_framework_simplejwt.authentication.JWTAuthentication',
    ),
}

SIMPLE_JWT = {
    'ACCESS_TOKEN_LIFETIME': timedelta(minutes=30),  # Access —Ç–æ–∫–µ–Ω –∂–∏–≤—ë—Ç 30 –º–∏–Ω—É—Ç
    'REFRESH_TOKEN_LIFETIME': timedelta(days=1),     # Refresh —Ç–æ–∫–µ–Ω –∂–∏–≤—ë—Ç 1 –¥–µ–Ω—å
    'ROTATE_REFRESH_TOKENS': True,                   # –í—ã–¥–∞–≤–∞—Ç—å –Ω–æ–≤—ã–π refresh —Ç–æ–∫–µ–Ω –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏
    'BLACKLIST_AFTER_ROTATION': True,                # –î–æ–±–∞–≤–ª—è—Ç—å —Å—Ç–∞—Ä—ã–µ refresh —Ç–æ–∫–µ–Ω—ã –≤ —á—ë—Ä–Ω—ã–π —Å–ø–∏—Å–æ–∫
    'SIGNING_KEY': '–í–ê–®_–°–ï–ö–†–ï–¢–ù–´–ô_–ö–õ–Æ–ß',             # –°–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–ª—é—á –¥–ª—è –ø–æ–¥–ø–∏—Å–∏
}
```

‚Äî –ü–æ–¥–æ–∂–¥–∏! ‚Äî –æ—Å—Ç–∞–Ω–æ–≤–∏–ª –ö—Ä–æ–ª–∏–∫. ‚Äî –ß—Ç–æ –∑–∞ `SIGNING_KEY`? –ú—ã —Å–∞–º–∏ –¥–æ–ª–∂–Ω—ã –µ–≥–æ –ø—Ä–∏–¥—É–º–∞—Ç—å? –ò —Ä–∞–Ω—å—à–µ –º—ã –æ–±—Ö–æ–¥–∏–ª–∏—Å—å –±–µ–∑ —Ç–∞–∫–æ–≥–æ –∫–ª—é—á–∞ –≤—Ä–æ–¥–µ –∫–∞–∫?

‚Äî –û—Ç–ª–∏—á–Ω—ã–π –≤–æ–ø—Ä–æ—Å! ‚Äî —Å–∫–∞–∑–∞–ª –§–∏–ª–∏–Ω. ‚Äî `SIGNING_KEY` ‚Äî —ç—Ç–æ —Å–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–ª—é—á –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –≤–æ–ª—à–µ–±–Ω–æ–π –ø–µ—á–∞—Ç–∏ (—Ü–∏—Ñ—Ä–æ–≤–æ–π –ø–æ–¥–ø–∏—Å–∏) –Ω–∞ —Å–≤–∏—Ç–∫–µ JWT.

‚Äî –†–∞–Ω—å—à–µ, —Å –æ–±—ã—á–Ω—ã–º–∏ —Ç–æ–∫–µ–Ω–∞–º–∏, –º—ã —Ö—Ä–∞–Ω–∏–ª–∏ –∏—Ö –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö, ‚Äî –ø—Ä–æ–¥–æ–ª–∂–∏–ª –æ–Ω. ‚Äî –ö–æ–≥–¥–∞ –ø—Ä–∏—Ö–æ–¥–∏–ª —Ç–æ–∫–µ–Ω, –º—ã –∏—Å–∫–∞–ª–∏ –µ–≥–æ –≤ –±–∞–∑–µ –∏ –ø—Ä–æ–≤–µ—Ä—è–ª–∏: ¬´–ï—Å—Ç—å –ª–∏ —Ç–∞–∫–æ–π —Ç–æ–∫–µ–Ω? –ù–µ –∏—Å—Ç—ë–∫ –ª–∏?¬ª –ê —Å JWT –º—ã –Ω–µ —Ö—Ä–∞–Ω–∏–º —Ç–æ–∫–µ–Ω—ã –≤ –±–∞–∑–µ ‚Äî –º—ã –ø—Ä–æ–≤–µ—Ä—è–µ–º –ø–µ—á–∞—Ç—å (–ø–æ–¥–ø–∏—Å—å).

‚Äî –ï—Å–ª–∏ –∫—Ç–æ-—Ç–æ –ø–æ–ø—ã—Ç–∞–µ—Ç—Å—è –ø–æ–¥–¥–µ–ª–∞—Ç—å —Å–≤–∏—Ç–æ–∫ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –∏–∑–º–µ–Ω–∏—Ç—å `user_id` –≤ payload), –ø–µ—á–∞—Ç—å –Ω–µ —Å–æ–≤–ø–∞–¥—ë—Ç, –∏ –º—ã –ø–æ–π–º—ë–º, —á—Ç–æ —Å–≤–∏—Ç–æ–∫ –ø–æ–¥–¥–µ–ª—å–Ω—ã–π. –ê –ø–µ—á–∞—Ç—å —Å–æ–∑–¥–∞—ë—Ç—Å—è —Å –ø–æ–º–æ—â—å—é —ç—Ç–æ–≥–æ —Å–∞–º–æ–≥–æ `SIGNING_KEY`!

‚Äî –î–∞, –º—ã —Å–∞–º–∏ –ø—Ä–∏–¥—É–º—ã–≤–∞–µ–º —ç—Ç–æ—Ç –∫–ª—é—á (–¥–ª–∏–Ω–Ω—É—é —Å–ª–æ–∂–Ω—É—é —Å—Ç—Ä–æ–∫—É), –∏ –Ω–∏–∫–æ–º—É –µ–≥–æ –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º! ‚Äî –ø–æ–¥—á–µ—Ä–∫–Ω—É–ª –§–∏–ª–∏–Ω. ‚Äî –ï—Å–ª–∏ –∫–ª—é—á —É–∑–Ω–∞—é—Ç, —Å–º–æ–≥—É—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å –ø–æ–¥–¥–µ–ª—å–Ω—ã–µ —Å–≤–∏—Ç–∫–∏!

‚Äî –ê —É –º–µ–Ω—è –≤ `settings.py` —É–∂–µ –µ—Å—Ç—å —Å–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–ª—é—á Django! –í–æ—Ç —ç—Ç–æ—Ç:
```python
# –°–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–ª—é—á Django (–î–û–õ–ñ–ï–ù —Ö—Ä–∞–Ω–∏—Ç—å—Å—è –≤ .env, –ù–ï –≤ –∫–æ–¥–µ!)
SECRET_KEY = os.environ.get('SECRET_KEY')
if not SECRET_KEY:
    raise ValueError("SECRET_KEY –Ω–µ –Ω–∞–π–¥–µ–Ω –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è")
```
‚Äî –†–µ—á—å –∏–¥—ë—Ç –æ –Ω—ë–º? ‚Äî —Å–ø—Ä–æ—Å–∏–ª –ö—Ä–æ–ª–∏–∫.

‚Äî –î–∞! ‚Äî –æ—Ç–≤–µ—Ç–∏–ª –§–∏–ª–∏–Ω. ‚Äî –≠—Ç–æ —Ç–æ—Ç —Å–∞–º—ã–π —Å–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–ª—é—á! –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ `djangorestframework-simplejwt` –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `SECRET_KEY` –∏–∑ –Ω–∞—Å—Ç—Ä–æ–µ–∫ Django –¥–ª—è –ø–æ–¥–ø–∏—Å–∏ JWT. –¢–∞–∫ —á—Ç–æ –µ—Å–ª–∏ —É —Ç–µ–±—è —É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω —Å–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–ª—é—á —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è ‚Äî –æ—Ç–ª–∏—á–Ω–æ! JWT –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –µ–≥–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏, –¥–∞–∂–µ –µ—Å–ª–∏ —Ç—ã –Ω–µ —É–∫–∞–∂–µ—à—å `SIGNING_KEY`.

‚Äî –ù–æ –º–æ–∂–Ω–æ –∏ —É–∫–∞–∑–∞—Ç—å —Å–≤–æ–π —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π –∫–ª—é—á –¥–ª—è JWT, ‚Äî –¥–æ–±–∞–≤–∏–ª –§–∏–ª–∏–Ω. ‚Äî –ù–∞–ø—Ä–∏–º–µ—Ä, –µ—Å–ª–∏ —Ö–æ—á–µ—à—å, —á—Ç–æ–±—ã –∫–ª—é—á –¥–ª—è –ø–æ–¥–ø–∏—Å–∏ JWT –æ—Ç–ª–∏—á–∞–ª—Å—è –æ—Ç –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –∫–ª—é—á–∞ Django. –ù–æ –≤ –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–µ —Å–ª—É—á–∞–µ–≤ –∏—Å–ø–æ–ª—å–∑—É—é—Ç –æ–¥–∏–Ω –∏ —Ç–æ—Ç –∂–µ.

‚Äî –ö–∞–∫ —É–∫–∞–∑–∞—Ç—å —Å–≤–æ–π –∫–ª—é—á? ‚Äî —Å–ø—Ä–æ—Å–∏–ª –í–∏–Ω–Ω–∏-–ü—É—Ö.
‚Äî –û—á–µ–Ω—å –ø—Ä–æ—Å—Ç–æ! ‚Äî –æ—Ç–≤–µ—Ç–∏–ª –§–∏–ª–∏–Ω. ‚Äî –í –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö `SIMPLE_JWT` —Ç—ã —É–∫–∞–∑—ã–≤–∞–µ—à—å —Å–≤–æ–π –∫–ª—é—á:
```python
SIMPLE_JWT = {
    # ... –¥—Ä—É–≥–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ ...
    'SIGNING_KEY': '–û–¢–î–ï–õ–¨–ù–´–ô_–°–ï–ö–†–ï–¢–ù–´–ô_–ö–õ–Æ–ß_–¢–û–õ–¨–ö–û_–î–õ–Ø_JWT',
}
```

‚Äî –ù–æ —Ö—Ä–∞–Ω–∏—Ç—å –∫–ª—é—á –ø—Ä—è–º–æ –≤ –∫–æ–¥–µ ‚Äî –ø–ª–æ—Ö–∞—è –ø—Ä–∞–∫—Ç–∏–∫–∞! –õ—É—á—à–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è. –î–∞–≤–∞–π—Ç–µ –∏—Å–ø—Ä–∞–≤–∏–º —Å –ø–æ–º–æ—â—å—é –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ `python-decouple`:

```bash
pip install python-decouple
```

‚Äî –ò –≤ `settings.py`:

```python
from decouple import config

SIMPLE_JWT = {
    # ... –¥—Ä—É–≥–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ ...
    'SIGNING_KEY': config('JWT_SECRET_KEY', default=config('SECRET_KEY')),
    # –ï—Å–ª–∏ –µ—Å—Ç—å JWT_SECRET_KEY ‚Äî –∏—Å–ø–æ–ª—å–∑—É–µ–º –µ–≥–æ, –∏–Ω–∞—á–µ ‚Äî –æ–±—ã—á–Ω—ã–π SECRET_KEY
}
```

‚Äî –ê –≤ —Ñ–∞–π–ª–µ `.env` (–∫–æ—Ç–æ—Ä—ã–π –ù–ï –ø–æ–ø–∞–¥–∞–µ—Ç –≤ Git):
```bash
SECRET_KEY=–≤–∞—à_—Å—É–ø–µ—Ä_—Å–µ–∫—Ä–µ—Ç–Ω—ã–π_–∫–ª—é—á_–Ω–∏–∫–æ–º—É_–Ω–µ_–ø–æ–∫–∞–∑—ã–≤–∞—Ç—å
JWT_SECRET_KEY=–æ—Ç–¥–µ–ª—å–Ω—ã–π_–∫–ª—é—á_—Ç–æ–ª—å–∫–æ_–¥–ª—è_jwt_–µ—Å–ª–∏_–Ω—É–∂–Ω–æ  # –ù–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ
```

**–®–∞–≥ 2: –≠–Ω–¥–ø–æ–∏–Ω—Ç—ã –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Ç–æ–∫–µ–Ω–æ–≤**

‚Äî –¢–µ–ø–µ—Ä—å —Å–æ–∑–¥–∞–¥–∏–º –¥–≤–µ—Ä–∏, —á–µ—Ä–µ–∑ –∫–æ—Ç–æ—Ä—ã–µ –¥—Ä—É–∑—å—è –±—É–¥—É—Ç –ø–æ–ª—É—á–∞—Ç—å —Å–≤–∏—Ç–∫–∏, ‚Äî —Å–∫–∞–∑–∞–ª –§–∏–ª–∏–Ω, –æ—Ç–∫—Ä—ã–≤–∞—è `urls.py`.

```python
# urls.py ‚Äî –ö–∞—Ä—Ç–∞ –¥–≤–µ—Ä–µ–π –∑–∞–º–∫–∞
from django.urls import path
from rest_framework_simplejwt.views import (
    TokenObtainPairView,   # –î–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Ç–æ–∫–µ–Ω–æ–≤
    TokenRefreshView,      # –î–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è access —Ç–æ–∫–µ–Ω–∞
)

urlpatterns = [
    # –î–≤–µ—Ä—å –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Å–≤–∏—Ç–∫–æ–≤ (–ª–æ–≥–∏–Ω)
    path('api/token/', TokenObtainPairView.as_view(), name='token_obtain_pair'),
    
    # –î–≤–µ—Ä—å –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å–≤–∏—Ç–∫–æ–≤
    path('api/token/refresh/', TokenRefreshView.as_view(), name='token_refresh'),
]
```

‚Äî –î–∞–≤–∞–π—Ç–µ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–µ–º! ‚Äî –ø—Ä–µ–¥–ª–æ–∂–∏–ª –í–∏–Ω–Ω–∏-–ü—É—Ö.

**–¢–µ—Å—Ç 1: –ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤ (–ª–æ–≥–∏–Ω)**
```bash
# –í–∏–Ω–Ω–∏-–ü—É—Ö –ª–æ–≥–∏–Ω–∏—Ç—Å—è
curl -X POST http://–∑–∞–º–æ–∫-–¥–∞–Ω–Ω—ã—Ö.–ª–µ—Å/api/token/ \
  -H "Content-Type: application/json" \
  -d '{"username": "winnie", "password": "honey123"}'
```
*–û—Ç–≤–µ—Ç:*
```json
{
    "access": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
    "refresh": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
}
```

**–¢–µ—Å—Ç 2: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ access —Ç–æ–∫–µ–Ω–∞**
‚Äî –ß–µ—Ä–µ–∑ 30 –º–∏–Ω—É—Ç access —Ç–æ–∫–µ–Ω –∏—Å—Ç–µ—á—ë—Ç. –¢–æ–≥–¥–∞:

```bash
# –í–∏–Ω–Ω–∏-–ü—É—Ö –æ–±–Ω–æ–≤–ª—è–µ—Ç access —Ç–æ–∫–µ–Ω
curl -X POST http://–∑–∞–º–æ–∫-–¥–∞–Ω–Ω—ã—Ö.–ª–µ—Å/api/token/refresh/ \
  -H "Content-Type: application/json" \
  -d '{"refresh": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."}'
```
*–û—Ç–≤–µ—Ç:*
```json
{
    "access": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."  # –ù–æ–≤—ã–π access —Ç–æ–∫–µ–Ω
}
```

‚Äî –ü–æ–¥–æ–∂–¥–∏! ‚Äî –æ—Å—Ç–∞–Ω–æ–≤–∏–ª –ü—è—Ç–∞—á–æ–∫. ‚Äî –í –æ—Ç–≤–µ—Ç–µ —Ç–æ–ª—å–∫–æ –Ω–æ–≤—ã–π access —Ç–æ–∫–µ–Ω. –ê –µ—Å–ª–∏ refresh —Ç–æ–∫–µ–Ω —Ç–æ–∂–µ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è (—É –Ω–∞—Å –∂–µ —Å—Ç–æ–∏—Ç `ROTATE_REFRESH_TOKENS': True`), —Ç–æ –∫–∞–∫ –º—ã –µ–≥–æ —É–∑–Ω–∞–µ–º?

‚Äî –ï—â—ë –æ–¥–∏–Ω –æ—Ç–ª–∏—á–Ω—ã–π –≤–æ–ø—Ä–æ—Å! ‚Äî —Å–∫–∞–∑–∞–ª –§–∏–ª–∏–Ω. ‚Äî –ö–æ–≥–¥–∞ —Å—Ç–æ–∏—Ç `ROTATE_REFRESH_TOKENS': True`, –ø—Ä–∏ –∫–∞–∂–¥–æ–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ access —Ç–æ–∫–µ–Ω–∞ –≤—ã–¥–∞—ë—Ç—Å—è –∏ –Ω–æ–≤—ã–π refresh —Ç–æ–∫–µ–Ω —Ç–æ–∂–µ! –ù–æ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é `TokenRefreshView` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ç–æ–ª—å–∫–æ access —Ç–æ–∫–µ–Ω.

‚Äî –ß—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å –∏ –Ω–æ–≤—ã–π refresh —Ç–æ–∫–µ–Ω, –Ω—É–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –ø–æ-–¥—Ä—É–≥–æ–º—É. –ù–æ –≤ –Ω–∞—à–µ–º —Å–ª—É—á–∞–µ, ‚Äî –ø—Ä–æ–¥–æ–ª–∂–∏–ª –§–∏–ª–∏–Ω, ‚Äî –º—ã –ø—Ä–æ—Å—Ç–æ –±—É–¥–µ–º –∑–Ω–∞—Ç—å: —Å—Ç–∞—Ä—ã–π refresh —Ç–æ–∫–µ–Ω —Ç–µ–ø–µ—Ä—å –Ω–µ–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª–µ–Ω (–ø–æ–ø–∞–¥—ë—Ç –≤ —á—ë—Ä–Ω—ã–π —Å–ø–∏—Å–æ–∫), –∞ –Ω–æ–≤—ã–π refresh —Ç–æ–∫–µ–Ω... –º—ã –µ–≥–æ –Ω–µ –ø–æ–ª—É—á–∏–º, –ø–æ–∫–∞ –Ω–µ –∑–∞–ª–æ–≥–∏–Ω–∏–º—Å—è –∑–∞–Ω–æ–≤–æ. –ù–∞ –ø—Ä–∞–∫—Ç–∏–∫–µ —á–∞—Å—Ç–æ –¥–µ–ª–∞—é—Ç –æ—Ç–¥–µ–ª—å–Ω—ã–π —ç–Ω–¥–ø–æ–∏–Ω—Ç, –∫–æ—Ç–æ—Ä—ã–π –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∏ access, –∏ refresh.

**–®–∞–≥ 3: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —á—ë—Ä–Ω–æ–≥–æ —Å–ø–∏—Å–∫–∞ —Ç–æ–∫–µ–Ω–æ–≤**

‚Äî –î–ª—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –≤—ã—Ö–æ–¥–∞ (`logout`) –Ω–∞–º –ø–æ–Ω–∞–¥–æ–±–∏—Ç—Å—è —á—ë—Ä–Ω—ã–π —Å–ø–∏—Å–æ–∫, ‚Äî —Å–∫–∞–∑–∞–ª –§–∏–ª–∏–Ω. ‚Äî –î–ª—è —ç—Ç–æ–≥–æ —É—Å—Ç–∞–Ω–æ–≤–∏–º –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é –±–∏–±–ª–∏–æ—Ç–µ–∫–∏:

```bash
pip install djangorestframework-simplejwt[blacklist]
```

‚Äî –î–æ–±–∞–≤–ª—è–µ–º –≤ `settings.py`:

```python
# settings.py
INSTALLED_APPS = [
    # ... –¥—Ä—É–≥–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è ...
    'rest_framework_simplejwt.token_blacklist',  # –î–ª—è —á—ë—Ä–Ω–æ–≥–æ —Å–ø–∏—Å–∫–∞ —Ç–æ–∫–µ–Ω–æ–≤
]
```

‚Äî –ò –≤—ã–ø–æ–ª–Ω—è–µ–º –º–∏–≥—Ä–∞—Ü–∏–∏:

```bash
python manage.py migrate
```

‚Äî –ê –ø–æ—Å–ª–µ `python manage.py migrate` –Ω–µ –Ω–∞–¥–æ –µ—â—ë —Ä–∞–∑ –ø—Ä–∏–º–µ–Ω—è—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏? ‚Äî —Å–ø—Ä–æ—Å–∏–ª –í–∏–Ω–Ω–∏-–ü—É—Ö.

‚Äî –ù–µ—Ç! ‚Äî –æ—Ç–≤–µ—Ç–∏–ª –§–∏–ª–∏–Ω. ‚Äî –ö–æ–º–∞–Ω–¥–∞ `python manage.py migrate` —Å–∞–º–∞ –ø—Ä–∏–º–µ–Ω—è–µ—Ç –≤—Å–µ –Ω–µ–ø—Ä–∏–º–µ–Ω—ë–Ω–Ω—ã–µ –º–∏–≥—Ä–∞—Ü–∏–∏. –û–Ω–∞ —Å–º–æ—Ç—Ä–∏—Ç: ¬´–ö–∞–∫–∏–µ –º–∏–≥—Ä–∞—Ü–∏–∏ —É–∂–µ –ø—Ä–∏–º–µ–Ω–µ–Ω—ã, –∞ –∫–∞–∫–∏–µ –Ω–µ—Ç?¬ª –ò –ø—Ä–∏–º–µ–Ω—è–µ—Ç –Ω–µ–¥–æ—Å—Ç–∞—é—â–∏–µ. –ü–æ—Å–ª–µ —ç—Ç–æ–π –∫–æ–º–∞–Ω–¥—ã –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –≥–æ—Ç–æ–≤–∞ –∫ —Ä–∞–±–æ—Ç–µ!

**–®–∞–≥ 4: –í—ã—Ö–æ–¥ –∏–∑ —Å–∏—Å—Ç–µ–º—ã (`Logout`)**
‚Äî –¢–µ–ø–µ—Ä—å —Å–æ–∑–¥–∞–¥–∏–º –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –¥–ª—è –≤—ã—Ö–æ–¥–∞:

```python
# views.py ‚Äî –î–æ–±–∞–≤–ª—è–µ–º –Ω–æ–≤—É—é –∫–æ–º–Ω–∞—Ç—É
from rest_framework_simplejwt.tokens import OutstandingToken, BlacklistedToken
from rest_framework.response import Response
from rest_framework.views import APIView
from rest_framework.permissions import IsAuthenticated

class LogoutView(APIView):
    """
    –ö–æ–º–Ω–∞—Ç–∞ –¥–ª—è –≤—ã—Ö–æ–¥–∞ –∏–∑ —Å–∏—Å—Ç–µ–º—ã.
    –î–æ–±–∞–≤–ª—è–µ—Ç –≤—Å–µ —Ç–æ–∫–µ–Ω—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ —á—ë—Ä–Ω—ã–π —Å–ø–∏—Å–æ–∫.
    """
    permission_classes = [IsAuthenticated]  # –¢–æ–ª—å–∫–æ –¥–ª—è –≤–æ—à–µ–¥—à–∏—Ö!
    
    def post(self, request):
        try:
            # –ò—â–µ–º –≤—Å–µ –∞–∫—Ç–∏–≤–Ω—ã–µ —Ç–æ–∫–µ–Ω—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
            for token in OutstandingToken.objects.filter(user=request.user):
                # –î–æ–±–∞–≤–ª—è–µ–º –∫–∞–∂–¥—ã–π —Ç–æ–∫–µ–Ω –≤ —á—ë—Ä–Ω—ã–π —Å–ø–∏—Å–æ–∫
                BlacklistedToken.objects.create(token=token)
            
            return Response({
                "message": "–í—ã —É—Å–ø–µ—à–Ω–æ –≤—ã—à–ª–∏ –∏–∑ —Å–∏—Å—Ç–µ–º—ã. –í—Å–µ –≤–∞—à–∏ —Ç–æ–∫–µ–Ω—ã –∞–Ω–Ω—É–ª–∏—Ä–æ–≤–∞–Ω—ã!"
            }, status=200)
            
        except Exception as e:
            return Response({"error": str(e)}, status=400)
```

‚Äî –î–æ–±–∞–≤–ª—è–µ–º –¥–≤–µ—Ä—å:

```python
# urls.py
from django.urls import path
from .views import LogoutView

urlpatterns = [
    # ... –¥—Ä—É–≥–∏–µ –ø—É—Ç–∏ ...
    path('api/logout/', LogoutView.as_view(), name='logout'),
]
```

‚Äî –¢–µ–ø–µ—Ä—å, –∫–æ–≥–¥–∞ –í–∏–Ω–Ω–∏-–ü—É—Ö –∑–∞—Ö–æ—á–µ—Ç –≤—ã–π—Ç–∏:

```bash
curl -X POST http://–∑–∞–º–æ–∫-–¥–∞–Ω–Ω—ã—Ö.–ª–µ—Å/api/logout/ \
  -H "Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
```
*–û—Ç–≤–µ—Ç:*
```json
{
    "message": "–í—ã —É—Å–ø–µ—à–Ω–æ –≤—ã—à–ª–∏ –∏–∑ —Å–∏—Å—Ç–µ–º—ã. –í—Å–µ –≤–∞—à–∏ —Ç–æ–∫–µ–Ω—ã –∞–Ω–Ω—É–ª–∏—Ä–æ–≤–∞–Ω—ã!"
}
```

‚Äî –ò —Ç–µ–ø–µ—Ä—å —ç—Ç–æ—Ç access —Ç–æ–∫–µ–Ω –∏ —Å–≤—è–∑–∞–Ω–Ω—ã–π —Å –Ω–∏–º refresh —Ç–æ–∫–µ–Ω –Ω–µ –±—É–¥—É—Ç —Ä–∞–±–æ—Ç–∞—Ç—å! ‚Äî —Å–∫–∞–∑–∞–ª –§–∏–ª–∏–Ω. ‚Äî –û–Ω–∏ –≤ —á—ë—Ä–Ω–æ–º —Å–ø–∏—Å–∫–µ! üö´

**–®–∞–≥ 5: –ó–∞—â–∏—Ç–∞ —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤ —Å –ø–æ–º–æ—â—å—é JWT**

‚Äî –¢–µ–ø–µ—Ä—å —Å–æ–∑–¥–∞–¥–∏–º –∑–∞—â–∏—â—ë–Ω–Ω—É—é –∫–æ–º–Ω–∞—Ç—É, –∫—É–¥–∞ –º–æ–∂–Ω–æ –ø–æ–ø–∞—Å—Ç—å —Ç–æ–ª—å–∫–æ —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º JWT, ‚Äî —Å–∫–∞–∑–∞–ª –§–∏–ª–∏–Ω.

```python
# views.py ‚Äî –ß–µ—Ä—Ç–µ–∂–∏ –∫–æ–º–Ω–∞—Ç
from rest_framework.views import APIView
from rest_framework.permissions import IsAuthenticated
from rest_framework.response import Response

class ProtectedHoneyVaultView(APIView):
    """
    –°–µ–∫—Ä–µ—Ç–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –º—ë–¥–∞.
    –î–æ—Å—Ç—É–ø–Ω–æ —Ç–æ–ª—å–∫–æ —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º JWT!
    """
    permission_classes = [IsAuthenticated]  # –¢–æ–ª—å–∫–æ –¥–ª—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö!
    
    def get(self, request):
        # request.user —É–∂–µ —Å–æ–¥–µ—Ä–∂–∏—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏–∑ JWT!
        return Response({
            "message": f"–ü—Ä–∏–≤–µ—Ç, {request.user.username}!",
            "secret_info": "–ó–¥–µ—Å—å —Ö—Ä–∞–Ω–∏—Ç—Å—è 1000 –±–∞–Ω–æ–∫ –ª–∏–ø–æ–≤–æ–≥–æ –º—ë–¥–∞!",
            "your_user_id": request.user.id
        })
```

‚Äî –î–æ–±–∞–≤–ª—è–µ–º –¥–≤–µ—Ä—å:

```python
# urls.py
from django.urls import path
from .views import ProtectedHoneyVaultView

urlpatterns = [
    # ... –¥—Ä—É–≥–∏–µ –ø—É—Ç–∏ ...
    path('api/protected-honey/', ProtectedHoneyVaultView.as_view(), 
         name='protected_honey'),
]
```

**–®–∞–≥ 6: –ö–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è —Ç–æ–∫–µ–Ω–æ–≤**

‚Äî –ê –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –≤ —Ç–æ–∫–µ–Ω –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é? ‚Äî —Å–ø—Ä–æ—Å–∏–ª –í–∏–Ω–Ω–∏-–ü—É—Ö. ‚Äî –ù–∞–ø—Ä–∏–º–µ—Ä, –º–æ—é –¥–Ω–µ–≤–Ω—É—é –∫–≤–æ—Ç—É –º—ë–¥–∞?

‚Äî –ö–æ–Ω–µ—á–Ω–æ! ‚Äî –æ—Ç–≤–µ—Ç–∏–ª –§–∏–ª–∏–Ω. ‚Äî –î–ª—è —ç—Ç–æ–≥–æ —Å–æ–∑–¥–∞–¥–∏–º –∫–∞—Å—Ç–æ–º–Ω—ã–π —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ç–æ—Ä:

```python
# serializers.py ‚Äî –í–æ–ª—à–µ–±–Ω—ã–µ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª–∏
from rest_framework_simplejwt.serializers import TokenObtainPairSerializer

class CustomTokenObtainPairSerializer(TokenObtainPairSerializer):
    """
    –ö–∞—Å—Ç–æ–º–Ω—ã–π —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ç–æ—Ä –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –≤ JWT.
    """
    
    @classmethod
    def get_token(cls, user):
        # –ü–æ–ª—É—á–∞–µ–º —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π —Ç–æ–∫–µ–Ω –æ—Ç —Ä–æ–¥–∏—Ç–µ–ª—è
        token = super().get_token(user)
        
        # –î–æ–±–∞–≤–ª—è–µ–º —Å–≤–æ–∏ –ø–æ–ª—è
        token['email'] = user.email
        token['is_staff'] = user.is_staff  # –Ø–≤–ª—è–µ—Ç—Å—è –ª–∏ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–º –∑–∞–º–∫–∞
        token['daily_honey_quota'] = 10    # –î–Ω–µ–≤–Ω–∞—è –∫–≤–æ—Ç–∞ –º—ë–¥–∞
        token['favorite_honey_type'] = '–ª–∏–ø–æ–≤—ã–π'  # –õ—é–±–∏–º—ã–π —Å–æ—Ä—Ç
        
        return token
```

‚Äî –ò –∫–∞—Å—Ç–æ–º–Ω–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ:

```python
# views.py
from rest_framework_simplejwt.views import TokenObtainPairView
from .serializers import CustomTokenObtainPairSerializer

class CustomTokenObtainPairView(TokenObtainPairView):
    """
    –ö–∞—Å—Ç–æ–º–Ω–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Ç–æ–∫–µ–Ω–æ–≤
    —Å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏.
    """
    serializer_class = CustomTokenObtainPairSerializer
```

‚Äî –û–±–Ω–æ–≤–ª—è–µ–º `urls.py`:

```python
# urls.py
from django.urls import path
from .views import CustomTokenObtainPairView, TokenRefreshView

urlpatterns = [
    path('api/token/', CustomTokenObtainPairView.as_view(), 
         name='custom_token_obtain_pair'),
    path('api/token/refresh/', TokenRefreshView.as_view(), 
         name='token_refresh'),
]
```

**–®–∞–≥ 7: –ü–æ–ª–Ω—ã–π —Ü–∏–∫–ª —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è**

–î–∞–≤–∞–π—Ç–µ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–µ–º –ø–æ–ª–Ω—ã–π —Ü–∏–∫–ª:

1.  **–õ–æ–≥–∏–Ω:**
    ```bash
    curl -X POST http://–∑–∞–º–æ–∫-–¥–∞–Ω–Ω—ã—Ö.–ª–µ—Å/api/token/ \
      -H "Content-Type: application/json" \
      -d '{"username": "winnie", "password": "honey123"}'
    ```
    ‚Üí –ü–æ–ª—É—á–∞–µ–º access –∏ refresh —Ç–æ–∫–µ–Ω—ã.

2.  **–î–æ—Å—Ç—É–ø –∫ –∑–∞—â–∏—â—ë–Ω–Ω–æ–º—É —Ä–µ—Å—É—Ä—Å—É:**
    ```bash
    curl -X GET http://–∑–∞–º–æ–∫-–¥–∞–Ω–Ω—ã—Ö.–ª–µ—Å/api/protected-honey/ \
      -H "Authorization: Bearer –≤–∞—à_access_—Ç–æ–∫–µ–Ω"
    ```
    ‚Üí –ü–æ–ª—É—á–∞–µ–º —Å–µ–∫—Ä–µ—Ç–Ω—ã–π –º—ë–¥.

3.  **–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞ (—á–µ—Ä–µ–∑ 30 –º–∏–Ω—É—Ç):**
    ```bash
    curl -X POST http://–∑–∞–º–æ–∫-–¥–∞–Ω–Ω—ã—Ö.–ª–µ—Å/api/token/refresh/ \
      -H "Content-Type: application/json" \
      -d '{"refresh": "–≤–∞—à_refresh_—Ç–æ–∫–µ–Ω"}'
    ```
    ‚Üí –ü–æ–ª—É—á–∞–µ–º –Ω–æ–≤—ã–π access —Ç–æ–∫–µ–Ω.

4.  **–í—ã—Ö–æ–¥:**
    ```bash
    curl -X POST http://–∑–∞–º–æ–∫-–¥–∞–Ω–Ω—ã—Ö.–ª–µ—Å/api/logout/ \
      -H "Authorization: Bearer –≤–∞—à_access_—Ç–æ–∫–µ–Ω"
    ```
    ‚Üí –¢–æ–∫–µ–Ω—ã –ø–æ–ø–∞–¥–∞—é—Ç –≤ —á—ë—Ä–Ω—ã–π —Å–ø–∏—Å–æ–∫.

5.  **–ü–æ–ø—ã—Ç–∫–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∞–Ω–Ω—É–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ç–æ–∫–µ–Ω:**
    ```bash
    curl -X GET http://–∑–∞–º–æ–∫-–¥–∞–Ω–Ω—ã—Ö.–ª–µ—Å/api/protected-honey/ \
      -H "Authorization: Bearer –≤–∞—à_—Å—Ç–∞—Ä—ã–π_access_—Ç–æ–∫–µ–Ω"
    ```
    ‚Üí –û—à–∏–±–∫–∞: `"detail": "–¢–æ–∫–µ–Ω –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ —á—ë—Ä–Ω–æ–º —Å–ø–∏—Å–∫–µ"`

**–®–∞–≥ 8: –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ –ª—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏ üõ°Ô∏è**

‚Äî –ó–∞–ø–æ–º–Ω–∏—Ç–µ –≤–∞–∂–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏! ‚Äî —Å–∫–∞–∑–∞–ª –§–∏–ª–∏–Ω —Å–µ—Ä—å—ë–∑–Ω–æ.
1.  **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ HTTPS –≤—Å–µ–≥–¥–∞!** JWT –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è –æ—Ç–∫—Ä—ã—Ç–æ –≤ –∑–∞–≥–æ–ª–æ–≤–∫–∞—Ö.
2.  **–•—Ä–∞–Ω–∏—Ç–µ `SECRET_KEY` –≤ —Å–µ–∫—Ä–µ—Ç–µ!** –ù–∏–∫–æ–≥–¥–∞ –Ω–µ –∫–æ–º–º–∏—Ç—å—Ç–µ –µ–≥–æ –≤ Git.
3.  **–£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–π—Ç–µ —Ä–∞–∑—É–º–Ω—ã–µ —Å—Ä–æ–∫–∏ –∂–∏–∑–Ω–∏:**
    *   Access token: 5-30 –º–∏–Ω—É—Ç
    *   Refresh token: 1-7 –¥–Ω–µ–π
4.  **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —á—ë—Ä–Ω—ã–π —Å–ø–∏—Å–æ–∫ –¥–ª—è –º–≥–Ω–æ–≤–µ–Ω–Ω–æ–≥–æ –æ—Ç–∑—ã–≤–∞ —Ç–æ–∫–µ–Ω–æ–≤.**
5.  **–ù–µ —Ö—Ä–∞–Ω–∏—Ç–µ —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –≤ payload JWT.**

**–ò—Ç–æ–≥ –¥–Ω—è**
‚Äî –°–µ–≥–æ–¥–Ω—è –º—ã –ø–æ—Å—Ç—Ä–æ–∏–ª–∏ –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—É—é —Å–∏—Å—Ç–µ–º—É –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –Ω–∞ JWT! ‚Äî –ø–æ–¥–≤—ë–ª –∏—Ç–æ–≥ –§–∏–ª–∏–Ω. ‚Äî –ú—ã:

1.  –£–∑–Ω–∞–ª–∏, —á—Ç–æ —Ç–∞–∫–æ–µ `SIGNING_KEY` –∏ –∫–∞–∫ –µ–≥–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å (–æ—Ç–¥–µ–ª—å–Ω–æ –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `SECRET_KEY` Django)
2.  –ù–∞—Å—Ç—Ä–æ–∏–ª–∏ JWT —Å –±–µ–∑–æ–ø–∞—Å–Ω—ã–º —Ö—Ä–∞–Ω–µ–Ω–∏–µ–º –∫–ª—é—á–µ–π
3.  –°–æ–∑–¥–∞–ª–∏ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã –¥–ª—è –≤—Ö–æ–¥–∞, –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∏ –≤—ã—Ö–æ–¥–∞
4.  –ó–∞—â–∏—Ç–∏–ª–∏ API-—ç–Ω–¥–ø–æ–∏–Ω—Ç—ã —Å –ø–æ–º–æ—â—å—é JWT
5.  –†–µ–∞–ª–∏–∑–æ–≤–∞–ª–∏ —Å–∏—Å—Ç–µ–º—É —á—ë—Ä–Ω–æ–≥–æ —Å–ø–∏—Å–∫–∞ –¥–ª—è –æ—Ç–∑—ã–≤–∞ —Ç–æ–∫–µ–Ω–æ–≤
6.  –ù–∞—É—á–∏–ª–∏—Å—å –¥–æ–±–∞–≤–ª—è—Ç—å –∫–∞—Å—Ç–æ–º–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –≤ JWT
7.  –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–ª–∏ –ø–æ–ª–Ω—ã–π —Ü–∏–∫–ª —Ä–∞–±–æ—Ç—ã

‚Äî –¢–µ–ø–µ—Ä—å –Ω–∞—à –∑–∞–º–æ–∫ –∑–∞—â–∏—â—ë–Ω —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–π —Å–∏—Å—Ç–µ–º–æ–π –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏! ‚Äî —Å –≥–æ—Ä–¥–æ—Å—Ç—å—é —Å–∫–∞–∑–∞–ª –í–∏–Ω–Ω–∏-–ü—É—Ö.

‚Äî –ù–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å ‚Äî —ç—Ç–æ –Ω–µ —Ç–æ–ª—å–∫–æ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è, ‚Äî —Å–∫–∞–∑–∞–ª –§–∏–ª–∏–Ω. ‚Äî –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ –≤–æ–ø—Ä–æ—Å ¬´–ö—Ç–æ —Ç—ã?¬ª, –∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è ‚Äî ¬´–ß—Ç–æ —Ç–µ–±–µ –º–æ–∂–Ω–æ?¬ª. –ó–∞–≤—Ç—Ä–∞ –º—ã —É–∑–Ω–∞–µ–º –æ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è—Ö (`permissions`) –≤ DRF ‚Äî —ç—Ç–æ —Å–∏—Å—Ç–µ–º–∞, –∫–æ—Ç–æ—Ä–∞—è –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç, –∫–∞–∫–∏–µ –∫–æ–º–Ω–∞—Ç—ã –∑–∞–º–∫–∞ –¥–æ—Å—Ç—É–ø–Ω—ã –∫–∞–∂–¥–æ–º—É –¥—Ä—É–≥—É!

–ñ–∏—Ç–µ–ª–∏ –õ–µ—Å–∞ —Ä–∞–∑–æ—à–ª–∏—Å—å, –¥–æ–≤–æ–ª—å–Ω—ã–µ –Ω–æ–≤–æ–π –º–æ—â–Ω–æ–π —Å–∏—Å—Ç–µ–º–æ–π –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏. –¢–µ–ø–µ—Ä—å –∏—Ö –∑–∞–º–æ–∫ –±—ã–ª –∑–∞—â–∏—â—ë–Ω –Ω–µ –ø—Ä–æ—Å—Ç–æ –∫–ª—é—á–∞–º–∏, –∞ —É–º–Ω—ã–º–∏ –∑–∞–ø–µ—á–∞—Ç–∞–Ω–Ω—ã–º–∏ —Å–≤–∏—Ç–∫–∞–º–∏, –∫–æ—Ç–æ—Ä—ã–µ —Å–∞–º–∏ —Ä–∞—Å—Å–∫–∞–∑—ã–≤–∞–ª–∏, –∫—Ç–æ –∏—Ö –≤–ª–∞–¥–µ–ª–µ—Ü –∏ –∫–æ–≥–¥–∞ –æ–Ω–∏ –∏—Å—Ç–µ–∫—É—Ç. üè∞üîêüìú

---

–û—Ç–ª–∏—á–Ω–æ! –î–∞–≤–∞–π—Ç–µ –ø—Ä–æ—Å—Ç–æ –ø–µ—Ä–µ–ø–∏—à–µ–º —Ç–µ–∫—Å—Ç, —Å–æ—Ö—Ä–∞–Ω—è—è –≤—Å—ë —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –∏ –¥–æ–±–∞–≤–ª—è—è —ç–º–æ–¥–∑–∏ –¥–ª—è –Ω–∞–≥–ª—è–¥–Ω–æ—Å—Ç–∏, –≥–¥–µ —ç—Ç–æ —É–º–µ—Å—Ç–Ω–æ. –ù–∞—á–Ω–µ–º —Å —Å–∞–º–æ–≥–æ –Ω–∞—á–∞–ª–∞:

# **–ì–ª–∞–≤–∞ 8: –í–æ–ª—à–µ–±–Ω—ã–µ –ü—Ä–∞–≤–∏–ª–∞ –î–æ—Å—Ç—É–ø–∞ ‚Äî –†–∞–∑—Ä–µ—à–µ–Ω–∏—è –≤ DRF üîê**

–°–æ–∑–¥–∞–Ω–∏–µ —Å–≤–æ–∏—Ö –ø—Ä–∞–≤–∏–ª (–∫–∞—Å—Ç–æ–º–Ω—ã–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è) üõ†Ô∏è

‚Äî –ê —á—Ç–æ –µ—Å–ª–∏ –≥–æ—Ç–æ–≤—ã—Ö –ø—Ä–∞–≤–∏–ª –Ω–µ —Ö–≤–∞—Ç–∞–µ—Ç? ‚Äî —Å–ø—Ä–æ—Å–∏–ª –í–∏–Ω–Ω–∏-–ü—É—Ö üêª. ‚Äî –ù–∞–ø—Ä–∏–º–µ—Ä: ¬´–¢–æ–ª—å–∫–æ –≤–ª–∞–¥–µ–ª–µ—Ü —Å–≤–æ–µ–π –∑–∞–ø–∏—Å–∏ –º–æ–∂–µ—Ç –µ—ë —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å¬ª?

‚Äî –¢–æ–≥–¥–∞ —Å–æ–∑–¥–∞—ë–º —Å–≤–æ–∏ –ø—Ä–∞–≤–∏–ª–∞! ‚Äî –æ—Ç–≤–µ—Ç–∏–ª –§–∏–ª–∏–Ω ü¶â.

‚Äî –ö–∞—Å—Ç–æ–º–Ω–æ–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ ‚Äî —ç—Ç–æ –∫–ª–∞—Å—Å, –∫–æ—Ç–æ—Ä—ã–π –Ω–∞—Å–ª–µ–¥—É–µ—Ç—Å—è –æ—Ç **`BasePermission`** –∏ —Ä–µ–∞–ª–∏–∑—É–µ—Ç –æ–¥–∏–Ω –∏–ª–∏ –¥–≤–∞ –º–µ—Ç–æ–¥–∞:

*   **`has_permission(self, request, view)`** ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ —É—Ä–æ–≤–Ω–µ –≤—Å–µ–≥–æ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è üåê
*   **`has_object_permission(self, request, view, obj)`** ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ —É—Ä–æ–≤–Ω–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞ üéØ

‚Äî –ü–æ–¥–æ–∂–¥–∏! ‚Äî –æ—Å—Ç–∞–Ω–æ–≤–∏–ª –ö—Ä–æ–ª–∏–∫ üêá. ‚Äî –ß—Ç–æ –ø—Ä–∏–Ω–∏–º–∞—é—Ç —ç—Ç–∏ –¥–≤–∞ –º–µ—Ç–æ–¥–∞ –∏ –∫–∞–∫ –æ–Ω–∏ –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è? –ò –∫–∞–∫ —ç—Ç–∏ –º–µ—Ç–æ–¥—ã –≤—ã–∑—ã–≤–∞—é—Ç—Å—è?

‚Äî –û—Ç–ª–∏—á–Ω—ã–π –≤–æ–ø—Ä–æ—Å! ‚Äî —Å–∫–∞–∑–∞–ª –§–∏–ª–∏–Ω ü¶â. ‚Äî –î–∞–≤–∞–π—Ç–µ —Ä–∞–∑–±–µ—Ä—ë–º:

**`has_permission(self, request, view):`**
*   **–ß—Ç–æ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç:**
    *   `request` ‚Äî –æ–±—ä–µ–∫—Ç –∑–∞–ø—Ä–æ—Å–∞ (—Å–æ–¥–µ—Ä–∂–∏—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –¥–∞–Ω–Ω—ã–µ, –º–µ—Ç–æ–¥ –∑–∞–ø—Ä–æ—Å–∞ –∏ —Ç.–¥.) üì®
    *   `view` ‚Äî —Å–∞–º–æ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ (`APIView` –∏–ª–∏ `ViewSet`), –∫ –∫–æ—Ç–æ—Ä–æ–º—É –æ–±—Ä–∞—â–∞—é—Ç—Å—è ü™ü
*   **–ö–æ–≥–¥–∞ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è:** –í—ã–∑—ã–≤–∞–µ—Ç—Å—è DRF –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–ª—è **–ö–ê–ñ–î–û–ì–û** –∑–∞–ø—Ä–æ—Å–∞ –∫ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—é ‚öôÔ∏è
*   **–ß—Ç–æ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç:** –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –¥–æ—Å—Ç—É–ø –∫ **–≤—Å–µ–º—É –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—é** —Ü–µ–ª–∏–∫–æ–º
*   **–ü—Ä–∏–º–µ—Ä:** ¬´–ú–æ–∂–µ—Ç –ª–∏ —ç—Ç–æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–æ–æ–±—â–µ –æ–±—Ä–∞—â–∞—Ç—å—Å—è –∫ —ç—Ç–æ–º—É —ç–Ω–¥–ø–æ–∏–Ω—Ç—É?¬ª üö™

**`has_object_permission(self, request, view, obj):`**
*   **–ß—Ç–æ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç:**
    *   `request` ‚Äî –æ–±—ä–µ–∫—Ç –∑–∞–ø—Ä–æ—Å–∞ üì®
    *   `view` ‚Äî –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ ü™ü
    *   `obj` ‚Äî –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –æ–±—ä–µ–∫—Ç –∏–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö (–ø–æ—Å—Ç, –∫–Ω–∏–≥–∞, –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π) üìùüìöüí¨
*   **–ö–æ–≥–¥–∞ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è:** –í—ã–∑—ã–≤–∞–µ—Ç—Å—è DRF –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ç–æ–ª—å–∫–æ –∫–æ–≥–¥–∞ –Ω—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ **–ö–û–ù–ö–†–ï–¢–ù–û–ú–£** –æ–±—ä–µ–∫—Ç—É ‚öôÔ∏è
*   **–ß—Ç–æ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç:** –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –¥–æ—Å—Ç—É–ø –∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º—É –æ–±—ä–µ–∫—Ç—É
*   **–ü—Ä–∏–º–µ—Ä:** ¬´–ú–æ–∂–µ—Ç –ª–∏ —ç—Ç–æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å **–≠–¢–û–¢** –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –ø–æ—Å—Ç?¬ª ‚úèÔ∏è

‚Äî DRF —Å–∞–º —Ä–µ—à–∞–µ—Ç, –∫–∞–∫–æ–π –º–µ—Ç–æ–¥ –≤—ã–∑—ã–≤–∞—Ç—å, ‚Äî –ø—Ä–æ–¥–æ–ª–∂–∏–ª –§–∏–ª–∏–Ω ü¶â. ‚Äî –ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Ä–∞–±–æ—Ç–∞–µ—Ç —Å–æ —Å–ø–∏—Å–∫–æ–º (–Ω–∞–ø—Ä–∏–º–µ—Ä, `GET /posts/`) ‚Äî –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ `has_permission`. –ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–º –æ–±—ä–µ–∫—Ç–æ–º (–Ω–∞–ø—Ä–∏–º–µ—Ä, `DELETE /posts/5/`) ‚Äî –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è —Å–Ω–∞—á–∞–ª–∞ `has_permission`, –∞ –ø–æ—Ç–æ–º `has_object_permission` –¥–ª—è –æ–±—ä–µ–∫—Ç–∞ —Å `ID=5`.

**–ü—Ä–∏–º–µ—Ä 1: –ü—Ä–æ—Å—Ç–æ–µ –∫–∞—Å—Ç–æ–º–Ω–æ–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ ‚úÖ**

‚Äî –î–æ–ø—É—Å—Ç–∏–º, –º—ã —Ö–æ—Ç–∏–º —Ä–∞–∑—Ä–µ—à–∏—Ç—å –¥–æ—Å—Ç—É–ø —Ç–æ–ª—å–∫–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º —Å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥—ë–Ω–Ω–æ–π –ø–æ—á—Ç–æ–π:

```python
from rest_framework.permissions import BasePermission

class IsEmailVerified(BasePermission):
    """
    –†–∞–∑—Ä–µ—à–µ–Ω–∏–µ –ø–æ–∑–≤–æ–ª—è–µ—Ç –¥–æ—Å—Ç—É–ø —Ç–æ–ª—å–∫–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º
    —Å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥—ë–Ω–Ω—ã–º email. ‚úâÔ∏è‚úÖ
    """
    
    def has_permission(self, request, view):
        # –ü—Ä–æ–≤–µ—Ä—è–µ–º: –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω –ò email –ø–æ–¥—Ç–≤–µ—Ä–∂–¥—ë–Ω
        return bool(
            request.user and 
            request.user.is_authenticated and 
            request.user.is_email_verified  # –ù–∞—à–µ –ø–æ–ª–µ –≤ –º–æ–¥–µ–ª–∏ User
        )
```

**–ü—Ä–∏–º–µ—Ä 2: –†–∞–∑—Ä–µ—à–µ–Ω–∏–µ –¥–ª—è –≤–ª–∞–¥–µ–ª—å—Ü–µ–≤ –æ–±—ä–µ–∫—Ç–æ–≤ üëë**

‚Äî –¢–µ–ø–µ—Ä—å —Å–æ–∑–¥–∞–¥–∏–º –ø—Ä–∞–≤–∏–ª–æ: ¬´–¢–æ–ª—å–∫–æ –≤–ª–∞–¥–µ–ª–µ—Ü –º–æ–∂–µ—Ç —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Å–≤–æ–π –ø–æ—Å—Ç¬ª:

```python
from rest_framework.permissions import BasePermission

class IsOwner(BasePermission):
    """
    –î–æ—Å—Ç—É–ø —Ä–∞–∑—Ä–µ—à—ë–Ω —Ç–æ–ª—å–∫–æ –≤–ª–∞–¥–µ–ª—å—Ü–∞–º –æ–±—ä–µ–∫—Ç–∞. üëë
    """
    
    def has_object_permission(self, request, view, obj):
        # –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ –æ–±—ä–µ–∫—Ç –∏–º–µ–µ—Ç –ø–æ–ª–µ 'user' –∏–ª–∏ 'owner'
        # –∏ –æ–Ω–æ —Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å request.user
        return obj.user == request.user
```

‚Äî –ü–æ–¥–æ–∂–¥–∏! ‚Äî –æ—Å—Ç–∞–Ω–æ–≤–∏–ª –ö—Ä–æ–ª–∏–∫ üêá. ‚Äî –ß—Ç–æ —ç—Ç–æ –∑–∞ –æ–±—ä–µ–∫—Ç `obj`, –æ—Ç–∫—É–¥–∞ –æ–Ω –≤–∑—è–ª—Å—è, –∫—Ç–æ –µ–≥–æ –ø–µ—Ä–µ–¥–∞—ë—Ç?

‚Äî –û—Ç–ª–∏—á–Ω—ã–π –≤–æ–ø—Ä–æ—Å! ‚Äî —Å–∫–∞–∑–∞–ª –§–∏–ª–∏–Ω ü¶â. ‚Äî `obj` ‚Äî —ç—Ç–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –æ–±—ä–µ–∫—Ç –∏–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö, —Å –∫–æ—Ç–æ—Ä—ã–º —Ö–æ—á–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å. –ù–∞–ø—Ä–∏–º–µ—Ä, –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –ø–æ—Å—Ç, –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∞—è –∫–Ω–∏–≥–∞, –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π.

‚Äî –ö—Ç–æ –ø–µ—Ä–µ–¥–∞—ë—Ç —ç—Ç–æ—Ç `obj`? ‚Äî –ø—Ä–æ–¥–æ–ª–∂–∏–ª –æ–Ω. ‚Äî **DRF (Django REST Framework) —Å–∞–º –ø–µ—Ä–µ–¥–∞—ë—Ç –µ–≥–æ**, –∫–æ–≥–¥–∞ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –Ω–∞ —É—Ä–æ–≤–Ω–µ –æ–±—ä–µ–∫—Ç–∞. –ö–æ–≥–¥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Ö–æ—á–µ—Ç, –Ω–∞–ø—Ä–∏–º–µ—Ä, —É–¥–∞–ª–∏—Ç—å –ø–æ—Å—Ç —Å `ID=5`, DRF:
1.  –ù–∞—Ö–æ–¥–∏—Ç –ø–æ—Å—Ç —Å `ID=5` –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö üîç
2.  –°–æ–∑–¥–∞—ë—Ç –æ–±—ä–µ–∫—Ç —ç—Ç–æ–≥–æ –ø–æ—Å—Ç–∞
3.  –ü–µ—Ä–µ–¥–∞—ë—Ç –µ–≥–æ –≤ –º–µ—Ç–æ–¥ `has_object_permission` –≤—Å–µ—Ö —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–π
4.  –ü—Ä–æ–≤–µ—Ä—è–µ—Ç, —á—Ç–æ –≤—Å–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç `True`

‚Äî –ò—Å–ø–æ–ª—å–∑—É–µ–º —ç—Ç–æ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ:

```python
from rest_framework.views import APIView
from rest_framework.permissions import IsAuthenticated
from .permissions import IsOwner

class PostDetailView(APIView):
    """
    –î–µ—Ç–∞–ª–∏ –ø–æ—Å—Ç–∞. –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –º–æ–∂–µ—Ç —Ç–æ–ª—å–∫–æ –≤–ª–∞–¥–µ–ª–µ—Ü. ‚úèÔ∏èüëë
    """
    permission_classes = [IsAuthenticated, IsOwner]
    
    def get_object(self):
        # –ü–æ–ª—É—á–∞–µ–º –æ–±—ä–µ–∫—Ç –ø–æ—Å—Ç–∞
        return Post.objects.get(pk=self.kwargs['pk'])
    
    def put(self, request, pk):
        post = self.get_object()
        # –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –¥–ª—è —ç—Ç–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞
        self.check_object_permissions(request, post)
        # –ï—Å–ª–∏ IsOwner –≤–µ—Ä–Ω—É–ª False ‚Äî –±—É–¥–µ—Ç –æ—à–∏–±–∫–∞ 403 Forbidden! üö´
        
        # –†–µ–¥–∞–∫—Ç–∏—Ä—É–µ–º –ø–æ—Å—Ç...
        return Response({"message": "–ü–æ—Å—Ç –æ–±–Ω–æ–≤–ª—ë–Ω!"})
```

‚Äî –ü–æ–¥–æ–∂–¥–∏ –µ—â—ë! ‚Äî —Å–∫–∞–∑–∞–ª –í–∏–Ω–Ω–∏-–ü—É—Ö üêª. ‚Äî –ß—Ç–æ –¥–µ–ª–∞–µ—Ç `Post.objects.get(pk=self.kwargs['pk'])?` –ò —á—Ç–æ —Ç–∞–∫–æ–µ `self.get_object()` –∏ `self.check_object_permissions(request, post)`?

‚Äî –î–∞–≤–∞–π—Ç–µ —Ä–∞–∑–±–µ—Ä—ë–º –ø–æ –ø–æ—Ä—è–¥–∫—É! ‚Äî —Å–∫–∞–∑–∞–ª –§–∏–ª–∏–Ω ü¶â.

1.  **`Post.objects.get(pk=self.kwargs['pk']):`**
    *   `Post.objects` ‚Äî —ç—Ç–æ –¥–æ—Å—Ç—É–ø –∫–æ –≤—Å–µ–º –ø–æ—Å—Ç–∞–º –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö üóÉÔ∏è
    *   `.get(pk=...)` ‚Äî –Ω–∞–π—Ç–∏ **–û–î–ò–ù** –ø–æ—Å—Ç –ø–æ –ø–µ—Ä–≤–∏—á–Ω–æ–º—É –∫–ª—é—á—É (ID) üîë
    *   `self.kwargs['pk']` ‚Äî —ç—Ç–æ –ø–∞—Ä–∞–º–µ—Ç—Ä –∏–∑ URL. –ï—Å–ª–∏ URL –±—ã–ª `/posts/5/`, —Ç–æ `pk=5`
    *   **–ò—Ç–æ–≥:** ¬´–ù–∞–π–¥–∏ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö –ø–æ—Å—Ç —Å ID, –∫–æ—Ç–æ—Ä—ã–π —É–∫–∞–∑–∞–Ω –≤ URL¬ª üîç

2.  **`post = self.get_object():`**
    *   –≠—Ç–æ –≤—ã–∑–æ–≤ –º–µ—Ç–æ–¥–∞ `get_object()`, –∫–æ—Ç–æ—Ä—ã–π –º—ã –æ–ø—Ä–µ–¥–µ–ª–∏–ª–∏ –≤—ã—à–µ
    *   –û–Ω –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –Ω–∞–π–¥–µ–Ω–Ω—ã–π –æ–±—ä–µ–∫—Ç –ø–æ—Å—Ç–∞
    *   **–ò—Ç–æ–≥:** ¬´–ü–æ–ª—É—á–∏ –æ–±—ä–µ–∫—Ç –ø–æ—Å—Ç–∞ –∏–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö¬ª üì•

3.  **`self.check_object_permissions(request, post):`**
    *   –≠—Ç–æ –≤–∞–∂–Ω–µ–π—à–∏–π –º–µ—Ç–æ–¥ DRF! ‚öôÔ∏è
    *   –û–Ω –±–µ—Ä—ë—Ç –≤—Å–µ –Ω–∞—à–∏ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è (–≤ –Ω–∞—à–µ–º —Å–ª—É—á–∞–µ `[IsAuthenticated, IsOwner]`)
    *   –î–ª—è –∫–∞–∂–¥–æ–≥–æ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –≤—ã–∑—ã–≤–∞–µ—Ç `has_object_permission(request, self, post)`
    *   –ï—Å–ª–∏ —Ö–æ—Ç—å –æ–¥–Ω–æ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ –≤–µ—Ä–Ω—ë—Ç `False` ‚Äî –≤—ã–±—Ä–∞—Å—ã–≤–∞–µ—Ç –∏—Å–∫–ª—é—á–µ–Ω–∏–µ `PermissionDenied` (403 Forbidden) üö´
    *   **–ò—Ç–æ–≥:** ¬´–ü—Ä–æ–≤–µ—Ä—å, –∏–º–µ–µ—Ç –ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø—Ä–∞–≤–∞ –Ω–∞ —Ä–∞–±–æ—Ç—É —Å —ç—Ç–∏–º –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–º –ø–æ—Å—Ç–æ–º¬ª üîê

**–ü—Ä–∏–º–µ—Ä 3: –°–ª–æ–∂–Ω–æ–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ —É—Å–ª–æ–≤–∏—è–º–∏ ü§î**

‚Äî –ê —á—Ç–æ –µ—Å–ª–∏: ¬´–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä –ò–õ–ò –≤–ª–∞–¥–µ–ª–µ—Ü¬ª? ‚Äî —Å–ø—Ä–æ—Å–∏–ª –ü—è—Ç–∞—á–æ–∫ üê∑.

‚Äî –õ–µ–≥–∫–æ! ‚Äî –æ—Ç–≤–µ—Ç–∏–ª –§–∏–ª–∏–Ω ü¶â.

```python
from rest_framework.permissions import BasePermission

class IsAdminOrOwner(BasePermission):
    """
    –î–æ—Å—Ç—É–ø —Ç–æ–ª—å–∫–æ –¥–ª—è –∞–¥–º–∏–Ω–æ–≤ –∏–ª–∏ –≤–ª–∞–¥–µ–ª—å—Ü–µ–≤ –æ–±—ä–µ–∫—Ç–∞. üëëüë®‚Äçüíº
    """
    
    def has_object_permission(self, request, view, obj):
        # –ê–¥–º–∏–Ω –ò–õ–ò –≤–ª–∞–¥–µ–ª–µ—Ü
        return request.user.is_staff or obj.user == request.user
```

**–ö–∞–∫ –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è? üõ†Ô∏è**

‚Äî –†–∞–∑—Ä–µ—à–µ–Ω–∏—è –º–æ–∂–Ω–æ –∑–∞–¥–∞–≤–∞—Ç—å –¥–≤—É–º—è —Å–ø–æ—Å–æ–±–∞–º–∏, ‚Äî –æ–±—ä—è—Å–Ω–∏–ª –§–∏–ª–∏–Ω ü¶â.

**–°–ø–æ—Å–æ–± 1: –í –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è—Ö (`APIView`)**

‚Äî –ú—ã —Ç–æ–ª—å–∫–æ —á—Ç–æ –≤–∏–¥–µ–ª–∏ ‚Äî —á–µ—Ä–µ–∑ –∞—Ç—Ä–∏–±—É—Ç `permission_classes`.

**–°–ø–æ—Å–æ–± 2: –í `ViewSet` (–¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –º–æ–¥–µ–ª—è–º–∏)**

‚Äî –≠—Ç–æ –∫–æ–≥–¥–∞ —É –Ω–∞—Å –µ—Å—Ç—å —Ü–µ–ª—ã–π –Ω–∞–±–æ—Ä –æ–ø–µ—Ä–∞—Ü–∏–π (—Å–ø–∏—Å–æ–∫, –¥–µ—Ç–∞–ª–∏, —Å–æ–∑–¥–∞–Ω–∏–µ, –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ, —É–¥–∞–ª–µ–Ω–∏–µ).

```python
from rest_framework.viewsets import ModelViewSet
from rest_framework.permissions import IsAdminUser
from .models import Book
from .serializers import BookSerializer

class BookViewSet(ModelViewSet):
    """
    –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–Ω–∏–≥–∞–º–∏ –≤ –±–∏–±–ª–∏–æ—Ç–µ–∫–µ.
    –¢–æ–ª—å–∫–æ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—ã –º–æ–≥—É—Ç –¥–æ–±–∞–≤–ª—è—Ç—å/–∏–∑–º–µ–Ω—è—Ç—å/—É–¥–∞–ª—è—Ç—å –∫–Ω–∏–≥–∏! üìöüë®‚Äçüíº
    """
    queryset = Book.objects.all()  # –í—Å–µ –∫–Ω–∏–≥–∏
    serializer_class = BookSerializer  # –ö–∞–∫ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤—ã–≤–∞—Ç—å –∫–Ω–∏–≥–∏
    permission_classes = [IsAdminUser]  # –¢–æ–ª—å–∫–æ –∞–¥–º–∏–Ω—ã!
    
    # –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ: —ç—Ç–∏ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –∫–æ –í–°–ï–ú –¥–µ–π—Å—Ç–≤–∏—è–º ViewSet!
    # list (—Å–ø–∏—Å–æ–∫), retrieve (–¥–µ—Ç–∞–ª–∏), create, update, destroy
```

‚Äî –ê –∫–∞–∫–∞—è —Ä–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É `APIView` –∏ `ViewSet`? ‚Äî —Å–ø—Ä–æ—Å–∏–ª –í–∏–Ω–Ω–∏-–ü—É—Ö üêª.

‚Äî –•–æ—Ä–æ—à–∏–π –≤–æ–ø—Ä–æ—Å! ‚Äî —Å–∫–∞–∑–∞–ª –§–∏–ª–∏–Ω ü¶â. ‚Äî –î–∞–≤–∞–π—Ç–µ —Å—Ä–∞–≤–Ω–∏–º:

*   **`APIView` (–ü—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ-–∫–æ–º–Ω–∞—Ç–∞):** üö™
    *   –≠—Ç–æ –æ—Ç–¥–µ–ª—å–Ω–∞—è –∫–æ–º–Ω–∞—Ç–∞ —Å –æ–¥–Ω–æ–π –∏–ª–∏ –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ –¥–≤–µ—Ä—è–º–∏
    *   –ö–∞–∂–¥–∞—è –¥–≤–µ—Ä—å ‚Äî –æ—Ç–¥–µ–ª—å–Ω—ã–π –º–µ—Ç–æ–¥ (`get()`, `post()`, `put()`, `delete()`)
    *   **–ü—Ä–∏–º–µ—Ä:** –ö–æ–º–Ω–∞—Ç–∞ ¬´–ì–æ—Å—Ç–µ–≤–æ–π –∂—É—Ä–Ω–∞–ª¬ª —Å –¥–≤–µ—Ä—è–º–∏ ¬´–ü—Ä–æ—á–∏—Ç–∞—Ç—å¬ª (GET) –∏ ¬´–ù–∞–ø–∏—Å–∞—Ç—å¬ª (POST) üìí
    *   **–ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è:** –ü—Ä–æ—Å—Ç—ã—Ö —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤, –Ω–µ —Å–≤—è–∑–∞–Ω–Ω—ã—Ö —Å –º–æ–¥–µ–ª—è–º–∏, –∏–ª–∏ –∫–∞—Å—Ç–æ–º–Ω–æ–π –ª–æ–≥–∏–∫–∏

*   **`ViewSet` (–ù–∞–±–æ—Ä –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–π-–∫–æ–º–Ω–∞—Ç):** üèòÔ∏è
    *   –≠—Ç–æ —Ü–µ–ª—ã–π –Ω–∞–±–æ—Ä —Å–≤—è–∑–∞–Ω–Ω—ã—Ö –∫–æ–º–Ω–∞—Ç –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å **–æ–¥–Ω–æ–π –º–æ–¥–µ–ª—å—é**
    *   –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞—ë—Ç –≤—Å–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏: —Å–ø–∏—Å–æ–∫, –¥–µ—Ç–∞–ª–∏, —Å–æ–∑–¥–∞–Ω–∏–µ, –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ, —É–¥–∞–ª–µ–Ω–∏–µ
    *   **–ü—Ä–∏–º–µ—Ä:** –ù–∞–±–æ—Ä –∫–æ–º–Ω–∞—Ç –¥–ª—è –∫–Ω–∏–≥: ¬´–°–ø–∏—Å–æ–∫ –∫–Ω–∏–≥¬ª, ¬´–î–µ—Ç–∞–ª–∏ –∫–Ω–∏–≥–∏¬ª, ¬´–î–æ–±–∞–≤–∏—Ç—å –∫–Ω–∏–≥—É¬ª, ¬´–ò–∑–º–µ–Ω–∏—Ç—å –∫–Ω–∏–≥—É¬ª, ¬´–£–¥–∞–ª–∏—Ç—å –∫–Ω–∏–≥—É¬ª üìö
    *   **–ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è:** CRUD –æ–ø–µ—Ä–∞—Ü–∏–π (Create, Read, Update, Delete) —Å –º–æ–¥–µ–ª—è–º–∏

‚Äî –ï—Å–ª–∏ –ø—Ä–æ—Å—Ç–æ: `APIView` ‚Äî —ç—Ç–æ –∫–∞–∫ –æ—Ç–¥–µ–ª—å–Ω–∞—è –∫–æ–º–Ω–∞—Ç–∞ —Å —Ä—É—á–Ω—ã–º —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º, –∞ `ViewSet` ‚Äî –∫–∞–∫ –≥–æ—Ç–æ–≤—ã–π –Ω–∞–±–æ—Ä –∫–æ–º–Ω–∞—Ç –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –∫–æ–ª–ª–µ–∫—Ü–∏–µ–π –ø—Ä–µ–¥–º–µ—Ç–æ–≤, ‚Äî –æ–±—ä—è—Å–Ω–∏–ª –§–∏–ª–∏–Ω ü¶â.

**–ü–æ–ª–µ–∑–Ω—ã–µ —Ç—Ä—é–∫–∏ —Å –∫–∞—Å—Ç–æ–º–Ω—ã–º–∏ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è–º–∏ üé©**

‚Äî –ï—Å—Ç—å —Å–ø–µ—Ü–∏–∞–ª—å–Ω–∞—è –∫–æ–Ω—Å—Ç–∞–Ω—Ç–∞ **`SAFE_METHODS`**, ‚Äî —Å–∫–∞–∑–∞–ª –§–∏–ª–∏–Ω ü¶â.

‚Äî –ß—Ç–æ —ç—Ç–æ? ‚Äî —Å–ø—Ä–æ—Å–∏–ª –ü—è—Ç–∞—á–æ–∫ üê∑.

‚Äî **`SAFE_METHODS`** ‚Äî —ç—Ç–æ –Ω–∞–±–æ—Ä HTTP-–º–µ—Ç–æ–¥–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ **–Ω–µ –∏–∑–º–µ–Ω—è—é—Ç –¥–∞–Ω–Ω—ã–µ** –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ, ‚Äî –æ–±—ä—è—Å–Ω–∏–ª –§–∏–ª–∏–Ω ü¶â. ‚Äî –ö –Ω–∏–º –æ—Ç–Ω–æ—Å—è—Ç—Å—è: `GET`, `HEAD`, `OPTIONS`. –≠—Ç–∏ –º–µ—Ç–æ–¥—ã —Ç–æ–ª—å–∫–æ —á–∏—Ç–∞—é—Ç –¥–∞–Ω–Ω—ã–µ, –Ω–æ –Ω–µ —Å–æ–∑–¥–∞—é—Ç, –Ω–µ –∏–∑–º–µ–Ω—è—é—Ç –∏ –Ω–µ —É–¥–∞–ª—è—é—Ç –∏—Ö.

‚Äî –ú–µ—Ç–æ–¥—ã, –∫–æ—Ç–æ—Ä—ã–µ **–∏–∑–º–µ–Ω—è—é—Ç –¥–∞–Ω–Ω—ã–µ:** `POST` (—Å–æ–∑–¥–∞–Ω–∏–µ), `PUT` –∏ `PATCH` (–∏–∑–º–µ–Ω–µ–Ω–∏–µ), `DELETE` (—É–¥–∞–ª–µ–Ω–∏–µ). ‚úèÔ∏èüóëÔ∏è

‚Äî –ù–∞–ø—Ä–∏–º–µ—Ä, –ø—Ä–∞–≤–∏–ª–æ: ¬´–ß–∏—Ç–∞—Ç—å –º–æ–≥—É—Ç –≤—Å–µ, –∞ –∏–∑–º–µ–Ω—è—Ç—å ‚Äî —Ç–æ–ª—å–∫–æ –∞–¥–º–∏–Ω—ã¬ª:

```python
from rest_framework.permissions import BasePermission, SAFE_METHODS

class ReadOnlyOrAdmin(BasePermission):
    """
    –î–æ—Å—Ç—É–ø –Ω–∞ —á—Ç–µ–Ω–∏–µ –¥–ª—è –≤—Å–µ—Ö, –Ω–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è –º–æ–≥—É—Ç –¥–µ–ª–∞—Ç—å —Ç–æ–ª—å–∫–æ –∞–¥–º–∏–Ω—ã. üëÄüë®‚Äçüíº
    """
    
    def has_permission(self, request, view):
        # –ë–µ–∑–æ–ø–∞—Å–Ω—ã–µ –º–µ—Ç–æ–¥—ã —Ä–∞–∑—Ä–µ—à–µ–Ω—ã –≤—Å–µ–º
        # –û–ø–∞—Å–Ω—ã–µ –º–µ—Ç–æ–¥—ã ‚Äî —Ç–æ–ª—å–∫–æ –∞–¥–º–∏–Ω–∞–º
        return bool(
            request.method in SAFE_METHODS or
            request.user and request.user.is_staff
        )
```

‚Äî –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç? ‚Äî —Å–ø—Ä–æ—Å–∏–ª –í–∏–Ω–Ω–∏-–ü—É—Ö üêª.

‚Äî –ï—Å–ª–∏ –º–µ—Ç–æ–¥ ¬´–±–µ–∑–æ–ø–∞—Å–Ω—ã–π¬ª (GET, HEAD, OPTIONS) ‚Äî –¥–æ—Å—Ç—É–ø —Ä–∞–∑—Ä–µ—à—ë–Ω **–í–°–ï–ú**, ‚Äî –æ–±—ä—è—Å–Ω–∏–ª –§–∏–ª–∏–Ω ü¶â. ‚Äî –ï—Å–ª–∏ –º–µ—Ç–æ–¥ ¬´–æ–ø–∞—Å–Ω—ã–π¬ª (POST, PUT, PATCH, DELETE) ‚Äî –¥–æ—Å—Ç—É–ø —Ç–æ–ª—å–∫–æ **–ê–î–ú–ò–ù–ê–ú**! üë®‚Äçüíº

**–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–π üß™**

‚Äî –ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –Ω–∞—à–∏ –ø—Ä–∞–≤–∏–ª–∞ —Ä–∞–±–æ—Ç–∞—é—Ç? ‚Äî —Å–ø—Ä–æ—Å–∏–ª –ö—Ä–æ–ª–∏–∫ üêá. ‚Äî **–ù—É–∂–Ω–æ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å!** ‚Äî –æ—Ç–≤–µ—Ç–∏–ª –§–∏–ª–∏–Ω ü¶â.

```python
# tests.py
from django.test import TestCase
from rest_framework.test import APIClient
from django.contrib.auth.models import User

class PermissionTests(TestCase):
    
    def setUp(self):
        self.client = APIClient()
        # –°–æ–∑–¥–∞—ë–º –æ–±—ã—á–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
        self.user = User.objects.create_user(
            username="testuser", 
            password="password",
            email="test@example.com"
        )
        # –°–æ–∑–¥–∞—ë–º –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
        self.admin = User.objects.create_superuser(
            username="admin",
            password="adminpass",
            email="admin@example.com"
        )
    
    def test_owner_permission_success(self):
        """–í–ª–∞–¥–µ–ª–µ—Ü –º–æ–∂–µ—Ç —É–¥–∞–ª–∏—Ç—å —Å–≤–æ–π –ø–æ—Å—Ç"""
        self.client.force_authenticate(user=self.user)
        response = self.client.delete(f"/posts/{self.post.id}/")
        self.assertEqual(response.status_code, 204)  # –£—Å–ø–µ—à–Ω–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ ‚úÖ
    
    def test_no_permission(self):
        """–ß—É–∂–æ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –º–æ–∂–µ—Ç —É–¥–∞–ª–∏—Ç—å –ø–æ—Å—Ç"""
        another_user = User.objects.create_user(
            username="another", 
            password="password"
        )
        self.client.force_authenticate(user=another_user)
        response = self.client.delete(f"/posts/{self.post.id}/")
        self.assertEqual(response.status_code, 403)  # Forbidden! üö´
```

‚Äî –û–±—ä—è—Å–Ω–∏, —á—Ç–æ –∑–¥–µ—Å—å –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç! ‚Äî –ø–æ–ø—Ä–æ—Å–∏–ª –í–∏–Ω–Ω–∏-–ü—É—Ö üêª.

‚Äî –ö–æ–Ω–µ—á–Ω–æ! ‚Äî —Å–∫–∞–∑–∞–ª –§–∏–ª–∏–Ω ü¶â. ‚Äî –î–∞–≤–∞–π—Ç–µ —Ä–∞–∑–±–µ—Ä—ë–º —Ç–µ—Å—Ç –ø–æ —á–∞—Å—Ç—è–º:

1.  **`self.client = APIClient():`** üì°
    *   `APIClient` ‚Äî —ç—Ç–æ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π –∫–ª–∏–µ–Ω—Ç –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è API –æ—Ç DRF
    *   –û–Ω —É–º–µ–µ—Ç –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å HTTP-–∑–∞–ø—Ä–æ—Å—ã (GET, POST, PUT, DELETE) –∏ –ø—Ä–æ–≤–µ—Ä—è—Ç—å –æ—Ç–≤–µ—Ç—ã
    *   **–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç:** –°–æ–∑–¥–∞—ë—Ç –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –∫–ª–∏–µ–Ω—Ç–∞, –∫–æ—Ç–æ—Ä—ã–π –≤–µ–¥—ë—Ç —Å–µ–±—è –∫–∞–∫ –±—Ä–∞—É–∑–µ—Ä –∏–ª–∏ Postman üåê

2.  **`self.client.force_authenticate(user=self.user):`** üé≠
    *   –≠—Ç–æ—Ç –º–µ—Ç–æ–¥ –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä—É–µ—Ç –∫–ª–∏–µ–Ω—Ç–∞ –∫–∞–∫ —É–∫–∞–∑–∞–Ω–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
    *   –û–Ω –Ω–µ —Ç—Ä–µ–±—É–µ—Ç –Ω–∞—Å—Ç–æ—è—â–µ–≥–æ —Ç–æ–∫–µ–Ω–∞ –∏–ª–∏ –ø–∞—Ä–æ–ª—è ‚Äî –ø—Ä–æ—Å—Ç–æ –≥–æ–≤–æ—Ä–∏—Ç: ¬´–°—á–∏—Ç–∞–π, —á—Ç–æ —ç—Ç–æ—Ç –∫–ª–∏–µ–Ω—Ç ‚Äî —ç—Ç–æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å¬ª
    *   **–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç:** –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç `request.user = self.user` –¥–ª—è –≤—Å–µ—Ö –ø–æ—Å–ª–µ–¥—É—é—â–∏—Ö –∑–∞–ø—Ä–æ—Å–æ–≤

3.  **`response = self.client.delete(f"/posts/{self.post.id}/"):`** üóëÔ∏è
    *   –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç DELETE-–∑–∞–ø—Ä–æ—Å –Ω–∞ —É–∫–∞–∑–∞–Ω–Ω—ã–π URL
    *   `f"/posts/{self.post.id}/"` ‚Äî —Å–æ–∑–¥–∞—ë—Ç —Å—Ç—Ä–æ–∫—É —Ç–∏–ø–∞ `/posts/5/`, –≥–¥–µ `5` ‚Äî ID –ø–æ—Å—Ç–∞
    *   **–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç:** –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç HTTP DELETE –∑–∞–ø—Ä–æ—Å –∫ –Ω–∞—à–µ–º—É API

4.  **`self.assertEqual(response.status_code, 204):`** ‚úÖ
    *   –ü—Ä–æ–≤–µ—Ä—è–µ—Ç, —á—Ç–æ —Å—Ç–∞—Ç—É—Å –∫–æ–¥ –æ—Ç–≤–µ—Ç–∞ —Ä–∞–≤–µ–Ω 204
    *   204 ‚Äî ¬´No Content¬ª (—É—Å–ø–µ—à–Ω–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ, –Ω–µ—Ç —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ –≤ –æ—Ç–≤–µ—Ç–µ)
    *   **–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç:** –°—Ä–∞–≤–Ω–∏–≤–∞–µ—Ç —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏–π —Å—Ç–∞—Ç—É—Å –∫–æ–¥ —Å –æ–∂–∏–¥–∞–µ–º—ã–º. –ï—Å–ª–∏ –Ω–µ —Å–æ–≤–ø–∞–¥–∞–µ—Ç ‚Äî —Ç–µ—Å—Ç –ø–∞–¥–∞–µ—Ç.

‚Äî –ê —á—Ç–æ —Ç–∞–∫–æ–µ `response.status_code`? ‚Äî —Å–ø—Ä–æ—Å–∏–ª –ü—è—Ç–∞—á–æ–∫ üê∑. 

‚Äî **–≠—Ç–æ —á–∏—Å–ª–æ–≤–æ–π –∫–æ–¥ —Å—Ç–∞—Ç—É—Å–∞ HTTP-–æ—Ç–≤–µ—Ç–∞**, ‚Äî –æ–±—ä—è—Å–Ω–∏–ª –§–∏–ª–∏–Ω ü¶â. ‚Äî –ù–∞–ø—Ä–∏–º–µ—Ä:
    *   `200` ‚Äî OK (—É—Å–ø–µ—Ö) ‚úÖ
    *   `201` ‚Äî Created (—É—Å–ø–µ—à–Ω–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ) üÜï
    *   `204` ‚Äî No Content (—É—Å–ø–µ—à–Ω–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ) üóëÔ∏è‚úÖ
    *   `400` ‚Äî Bad Request (–æ—à–∏–±–∫–∞ –≤ –∑–∞–ø—Ä–æ—Å–µ) ‚ùå
    *   `401` ‚Äî Unauthorized (–Ω–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω) üîì
    *   `403` ‚Äî Forbidden (–Ω–µ—Ç –ø—Ä–∞–≤) üö´
    *   `404` ‚Äî Not Found (–Ω–µ –Ω–∞–π–¥–µ–Ω–æ) üîç‚ùå

**–¢–∏–ø–∏—á–Ω—ã–µ –æ—à–∏–±–∫–∏ –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è–º–∏ ‚ö†Ô∏è**

–§–∏–ª–∏–Ω –¥–æ—Å—Ç–∞–ª —Å–≤–∏—Ç–æ–∫ ¬´–û—à–∏–±–∫–∏ –Ω–æ–≤–∏—á–∫–æ–≤¬ª üìú:

1.  **–ó–∞–±—ã–ª–∏ –ø—Ä–æ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é**
    *   –ü–æ—Å—Ç–∞–≤–∏–ª–∏ `IsOwner`, –Ω–æ –Ω–µ –ø–æ—Å—Ç–∞–≤–∏–ª–∏ `IsAuthenticated`
    *   **–†–µ—à–µ–Ω–∏–µ:** –í—Å–µ–≥–¥–∞ –∫–æ–º–±–∏–Ω–∏—Ä—É–π—Ç–µ —Å `IsAuthenticated`, –µ—Å–ª–∏ –Ω—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä—è—Ç—å –≤–ª–∞–¥–µ–ª—å—Ü–∞

2.  **–ù–µ –≤—ã–∑—ã–≤–∞–µ—Ç–µ `check_object_permissions`**
    *   –ù–∞–ø–∏—Å–∞–ª–∏ `has_object_permission`, –Ω–æ –∑–∞–±—ã–ª–∏ –≤—ã–∑–≤–∞—Ç—å `self.check_object_permissions(request, obj)`
    *   **–†–µ—à–µ–Ω–∏–µ:** –í—Å–µ–≥–¥–∞ –≤—ã–∑—ã–≤–∞–π—Ç–µ —ç—Ç—É –ø—Ä–æ–≤–µ—Ä–∫—É –¥–ª—è –æ–±—ä–µ–∫—Ç–æ–≤ ‚öôÔ∏è

3.  **–†–∞–∑—Ä–µ—à–µ–Ω–∏—è —É—Ä–æ–≤–Ω—è –æ–±—ä–µ–∫—Ç–∞ –¥–ª—è —Å–ø–∏—Å–∫–æ–≤**
    *   `has_object_permission` –Ω–µ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –¥–ª—è —Å–ø–∏—Å–∫–æ–≤ (list action)
    *   **–†–µ—à–µ–Ω–∏–µ:** –î–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ —Å–ø–∏—Å–∫–æ–≤ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `get_queryset()`

**–ò—Ç–æ–≥ –¥–Ω—è üéâ**
‚Äî –°–µ–≥–æ–¥–Ω—è –º—ã —É–∑–Ω–∞–ª–∏ –æ **—Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è—Ö (permissions)** ‚Äî –º–æ—â–Ω–æ–º –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–æ—Å—Ç—É–ø–æ–º –≤ DRF! ‚Äî –ø–æ–¥–≤—ë–ª –∏—Ç–æ–≥ –§–∏–ª–∏–Ω ü¶â. ‚Äî –ú—ã:

1.  –ü–æ–∑–Ω–∞–∫–æ–º–∏–ª–∏—Å—å —Å –≥–æ—Ç–æ–≤—ã–º–∏ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è–º–∏ DRF
2.  –ù–∞—É—á–∏–ª–∏—Å—å —Å–æ–∑–¥–∞–≤–∞—Ç—å —Å–≤–æ–∏ **–∫–∞—Å—Ç–æ–º–Ω—ã–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è** üõ†Ô∏è
3.  –£–∑–Ω–∞–ª–∏ —Ä–∞–∑–Ω–∏—Ü—É –º–µ–∂–¥—É `has_permission` –∏ `has_object_permission` üåêüéØ
4.  –£–∑–Ω–∞–ª–∏ —Ä–∞–∑–Ω–∏—Ü—É –º–µ–∂–¥—É `APIView` –∏ `ViewSet` üö™üèòÔ∏è
5.  –ù–∞—É—á–∏–ª–∏—Å—å –∫–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞—Ç—å —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è
6.  –£–∑–Ω–∞–ª–∏ –ø—Ä–æ `SAFE_METHODS` –∏ –∫–∞–∫ –∏—Ö –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å
7.  –ù–∞—É—á–∏–ª–∏—Å—å —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è —Å –ø–æ–º–æ—â—å—é `APIClient` üß™
8.  –†–∞–∑–æ–±—Ä–∞–ª–∏ —Ç–∏–ø–∏—á–Ω—ã–µ –æ—à–∏–±–∫–∏ ‚ö†Ô∏è

‚Äî –¢–µ–ø–µ—Ä—å –º—ã –º–æ–∂–µ–º —Å–æ–∑–¥–∞–≤–∞—Ç—å —Å–ª–æ–∂–Ω—ã–µ —Å–∏—Å—Ç–µ–º—ã –¥–æ—Å—Ç—É–ø–∞! ‚Äî –≤–æ—Å–∫–ª–∏–∫–Ω—É–ª –ö—Ä–æ–ª–∏–∫ üêá. ‚Äî –ù–∞–ø—Ä–∏–º–µ—Ä: ¬´–¢–æ–ª—å–∫–æ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—ã –º–æ–≥—É—Ç –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ —Å–æ—Ä—Ç–∞ –º—ë–¥–∞, –Ω–æ –∫–∞–∂–¥—ã–π –º–æ–∂–µ—Ç –ø—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å –∫–∞—Ç–∞–ª–æ–≥!¬ª üçØüë®‚Äçüíº

‚Äî –ò–º–µ–Ω–Ω–æ! ‚Äî —É–ª—ã–±–Ω—É–ª—Å—è –§–∏–ª–∏–Ω ü¶â. ‚Äî –ê –∑–∞–≤—Ç—Ä–∞ –º—ã –Ω–∞—É—á–∏–º—Å—è –∫–∞—Å—Ç–æ–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –¥–ª—è –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–π ‚Äî —Å–æ–∑–¥–∞–≤–∞—Ç—å –≥–∏–±–∫–∏–µ –ø—Ä–∞–≤–∏–ª–∞, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–∂–Ω–æ –º–µ–Ω—è—Ç—å –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Å–∏—Ç—É–∞—Ü–∏–∏!

–ñ–∏—Ç–µ–ª–∏ –õ–µ—Å–∞ —Ä–∞–∑–æ—à–ª–∏—Å—å, –æ–±–¥—É–º—ã–≤–∞—è, –∫–∞–∫–∏–µ –ø—Ä–∞–≤–∏–ª–∞ –¥–æ—Å—Ç—É–ø–∞ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤ –∏—Ö –∑–∞–º–∫–µ. –¢–µ–ø–µ—Ä—å –æ–Ω–∏ –ø–æ–Ω–∏–º–∞–ª–∏: –º–∞–ª–æ –∑–Ω–∞—Ç—å, –∫—Ç–æ –ø—Ä–∏—à—ë–ª –≤ –≥–æ—Å—Ç–∏ ‚Äî –≤–∞–∂–Ω–æ –µ—â—ë –∏ —Ä–µ—à–∏—Ç—å, —á—Ç–æ —ç—Ç–æ–º—É –≥–æ—Å—Ç—é –º–æ–∂–Ω–æ –¥–µ–ª–∞—Ç—å –≤ –∫–∞–∂–¥–æ–π –∫–æ–º–Ω–∞—Ç–µ –∏—Ö —É—é—Ç–Ω–æ–≥–æ, –Ω–æ —Ö–æ—Ä–æ—à–æ –∑–∞—â–∏—â—ë–Ω–Ω–æ–≥–æ –¥–æ–º–∞. üè∞üîê

---

# **–ì–ª–∞–≤–∞ 9: –ì–∏–±–∫–∏–µ –ü—Ä–∞–≤–∏–ª–∞ ‚Äî –ö–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è –†–∞–∑—Ä–µ—à–µ–Ω–∏–π –¥–ª—è –ö–æ–º–Ω–∞—Ç üé≠**

–ù–∞ —Å–ª–µ–¥—É—é—â–∏–π –¥–µ–Ω—å –∂–∏—Ç–µ–ª–∏ –õ–µ—Å–∞ —Å–æ–±—Ä–∞–ª–∏—Å—å —Å –Ω–æ–≤—ã–º–∏ –∏–¥–µ—è–º–∏. –í—á–µ—Ä–∞ –æ–Ω–∏ –Ω–∞—É—á–∏–ª–∏—Å—å —Å–æ–∑–¥–∞–≤–∞—Ç—å –ø—Ä–∞–≤–∏–ª–∞ –¥–æ—Å—Ç—É–ø–∞, –Ω–æ —Å–µ–≥–æ–¥–Ω—è –§–∏–ª–∏–Ω DRF –æ–±–µ—â–∞–ª –ø–æ–∫–∞–∑–∞—Ç—å –∏–º, –∫–∞–∫ —Å–¥–µ–ª–∞—Ç—å —ç—Ç–∏ –ø—Ä–∞–≤–∏–ª–∞ –ø–æ-–Ω–∞—Å—Ç–æ—è—â–µ–º—É –≥–∏–±–∫–∏–º–∏.

‚Äî –î—Ä—É–∑—å—è! ‚Äî –Ω–∞—á–∞–ª –§–∏–ª–∏–Ω ü¶â. ‚Äî –í—á–µ—Ä–∞ –º—ã —Å–æ–∑–¥–∞–≤–∞–ª–∏ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–µ —Ä–∞–±–æ—Ç–∞—é—Ç –≤—Å–µ–≥–¥–∞ –æ–¥–∏–Ω–∞–∫–æ–≤–æ. –ù–æ –ø—Ä–µ–¥—Å—Ç–∞–≤—å—Ç–µ: –≤ –æ–¥–Ω–æ–π –∫–æ–º–Ω–∞—Ç–µ –º—ã —Ö–æ—Ç–∏–º –ø—É—Å–∫–∞—Ç—å —Ç–æ–ª—å–∫–æ –¥—Ä—É–∑–µ–π —Å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥—ë–Ω–Ω–æ–π –ø–æ—á—Ç–æ–π, –≤ –¥—Ä—É–≥–æ–π ‚Äî —Ç–æ–ª—å–∫–æ —Ç–µ—Ö, –∫—Ç–æ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–ª—Å—è –±–æ–ª—å—à–µ –º–µ—Å—è—Ü–∞ –Ω–∞–∑–∞–¥, –≤ —Ç—Ä–µ—Ç—å–µ–π ‚Äî —Ç–æ–ª—å–∫–æ —Ç–µ—Ö, —É –∫–æ–≥–æ –≤ –∏–º–µ–Ω–∏ –Ω–µ—Ç —Å–ª–æ–≤–∞ ¬´—Å–ø–∞–º¬ª! –°–µ–≥–æ–¥–Ω—è –º—ã –Ω–∞—É—á–∏–º—Å—è —Å–æ–∑–¥–∞–≤–∞—Ç—å –∫–∞—Å—Ç–æ–º–Ω—ã–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–∂–Ω–æ —Ç–æ–Ω–∫–æ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å –ø–æ–¥ –∫–∞–∂–¥—É—é –∫–æ–º–Ω–∞—Ç—É!

**–†–∞–∑—Ä–µ—à–µ–Ω–∏—è –≤ DRF: –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏–µ –Ω–∞ –ø–∞–ª—å—Ü–∞—Ö ‚úã**

‚Äî –î–∞–≤–∞–π—Ç–µ –±—ã—Å—Ç—Ä–æ –≤—Å–ø–æ–º–Ω–∏–º, ‚Äî —Å–∫–∞–∑–∞–ª –§–∏–ª–∏–Ω ü¶â. ‚Äî DRF —É–∂–µ –¥–∞—ë—Ç –Ω–∞–º —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞:

*   **`AllowAny`**: –≤–æ–æ–±—â–µ –±–µ–∑ —Ñ–µ–π—Å–∫–æ–Ω—Ç—Ä–æ–ª—è, –ø—É—Å–∫–∞–µ–º –≤—Å–µ—Ö üëê
*   **`IsAuthenticated`**: –ø—É—Å–∫–∞–µ–º —Ç–æ–ª—å–∫–æ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π ‚úÖ
*   **`IsAdminUser`**: –≤–Ω—É—Ç—Ä—å –ø—Ä–æ—Ö–æ–¥—è—Ç —Ç–æ–ª—å–∫–æ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—ã üë®‚Äçüíº
*   **`IsAuthenticatedOrReadOnly`**: –∑–∞–ø–∏—Å—ã–≤–∞—Ç—å—Å—è –º–æ–≥—É—Ç —Ç–æ–ª—å–∫–æ —Å–≤–æ–∏, —á–∏—Ç–∞—Ç—å ‚Äî –∫—Ç–æ —É–≥–æ–¥–Ω–æ üëÄ

‚Äî –ù–æ –∏–Ω–æ–≥–¥–∞ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–≥–æ —Ñ–µ–π—Å–∫–æ–Ω—Ç—Ä–æ–ª—è –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ, ‚Äî –ø—Ä–æ–¥–æ–ª–∂–∏–ª –§–∏–ª–∏–Ω ü¶â. ‚Äî –ù–∞–ø—Ä–∏–º–µ—Ä, –∫–∞–∫ –æ–≥—Ä–∞–Ω–∏—á–∏—Ç—å –¥–æ—Å—Ç—É–ø —Ç–æ–ª—å–∫–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º —Å –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–º —Å—Ç–∞—Ç—É—Å–æ–º? –ó–¥–µ—Å—å –≤—Å—Ç—É–ø–∞–µ—Ç –≤ –¥–µ–ª–æ –∫–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è! üõ†Ô∏è

**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞—é—Ç –∫–∞—Å—Ç–æ–º–Ω—ã–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è? ‚öôÔ∏è**

‚Äî –ö–∞—Å—Ç–æ–º–Ω—ã–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –≤ DRF ‚Äî —ç—Ç–æ –ø—Ä–æ—Å—Ç–æ Python-–∫–ª–∞—Å—Å, –∫–æ—Ç–æ—Ä—ã–π –Ω–∞—Å–ª–µ–¥—É–µ—Ç—Å—è –æ—Ç –±–∞–∑–æ–≤–æ–≥–æ –∫–ª–∞—Å—Å–∞ **`BasePermission`**, ‚Äî –æ–±—ä—è—Å–Ω–∏–ª –§–∏–ª–∏–Ω ü¶â. ‚Äî –≠—Ç–æ—Ç –∫–ª–∞—Å—Å –æ–±—è–∑–∞–Ω —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –º–µ—Ç–æ–¥ `has_permission()` –∏–ª–∏ `has_object_permission()`.

‚Äî –ü–æ–¥–æ–∂–¥–∏, ‚Äî –æ—Å—Ç–∞–Ω–æ–≤–∏–ª –ö—Ä–æ–ª–∏–∫ üêá. ‚Äî –¢—ã —Å–∫–∞–∑–∞–ª "–æ–±—è–∑–∞–Ω —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å". –ê —Å–∞–º –∫–ª–∞—Å—Å `BasePermission` –∏–º–µ–µ—Ç –µ—â—ë –∫–∞–∫–∏–µ-—Ç–æ –º–µ—Ç–æ–¥—ã? –ò–ª–∏ –æ–Ω —Å–æ–≤–µ—Ä—à–µ–Ω–Ω–æ –ø—É—Å—Ç–æ–π?

‚Äî –û—Ç–ª–∏—á–Ω—ã–π –≤–æ–ø—Ä–æ—Å, –ö—Ä–æ–ª–∏–∫! ‚Äî –ø–æ—Ö–≤–∞–ª–∏–ª –§–∏–ª–∏–Ω ü¶â. ‚Äî –î–∞–≤–∞–π—Ç–µ –∑–∞–≥–ª—è–Ω–µ–º "–ø–æ–¥ –∫–∞–ø–æ—Ç"! –ö–ª–∞—Å—Å `BasePermission` –Ω–∞ —Å–∞–º–æ–º –¥–µ–ª–µ –æ—á–µ–Ω—å –ø—Ä–æ—Å—Ç–æ–π. –í–æ—Ç –∫–∞–∫ –æ–Ω –≤—ã–≥–ª—è–¥–∏—Ç –≤ –∏—Å—Ö–æ–¥–Ω–æ–º –∫–æ–¥–µ DRF:

```python
class BasePermission(metaclass=BasePermissionMetaclass):
    """
    –ë–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å, –æ—Ç –∫–æ—Ç–æ—Ä–æ–≥–æ –¥–æ–ª–∂–Ω—ã –Ω–∞—Å–ª–µ–¥–æ–≤–∞—Ç—å—Å—è –≤—Å–µ –∫–ª–∞—Å—Å—ã —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–π.
    """

    def has_permission(self, request, view):
        """
        –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç True, –µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø —Ä–∞–∑—Ä–µ—à–µ–Ω, False –≤ –ø—Ä–æ—Ç–∏–≤–Ω–æ–º —Å–ª—É—á–∞–µ.
        """
        return True

    def has_object_permission(self, request, view, obj):
        """
        –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç True, –µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø –∫ –æ–±—ä–µ–∫—Ç—É —Ä–∞–∑—Ä–µ—à–µ–Ω, False –≤ –ø—Ä–æ—Ç–∏–≤–Ω–æ–º —Å–ª—É—á–∞–µ.
        """
        return True
```

‚Äî –í–∏–¥–∏—à—å? ‚Äî –ø—Ä–æ–¥–æ–ª–∂–∏–ª –§–∏–ª–∏–Ω ü¶â. ‚Äî –í –∫–ª–∞—Å—Å–µ `BasePermission` —É–∂–µ –µ—Å—Ç—å –æ–±–∞ –º–µ—Ç–æ–¥–∞, –Ω–æ –æ–Ω–∏ –ø—Ä–æ—Å—Ç–æ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç `True`! –¢–æ –µ—Å—Ç—å –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ **–í–°–ï–ì–î–ê** —Ä–∞–∑—Ä–µ—à–∞–µ—Ç –¥–æ—Å—Ç—É–ø.

‚Äî –ü–æ–¥–æ–∂–¥–∏-–ø–æ–¥–æ–∂–¥–∏! ‚Äî –æ—Å—Ç–∞–Ω–æ–≤–∏–ª –ö—Ä–æ–ª–∏–∫ üêá, –ø—Ä–∏—â—É—Ä–∏–≤—à–∏—Å—å. ‚Äî –Ø –≤–∏–∂—É —Å—Ç—Ä–∞–Ω–Ω—É—é —à—Ç—É–∫—É –≤ –ø–µ—Ä–≤–æ–π —Å—Ç—Ä–æ–∫–µ: `class BasePermission(metaclass=BasePermissionMetaclass)`. –ß—Ç–æ —Ç–∞–∫–æ–µ `metaclass`? –ò —á—Ç–æ –∑–∞ `BasePermissionMetaclass`? –≠—Ç–æ –∂–µ –Ω–µ –æ–±—ã—á–Ω–æ–µ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ!

‚Äî –û-–æ-–æ! ‚Äî –≤–æ—Å—Ö–∏—â—ë–Ω–Ω–æ –≤–æ—Å–∫–ª–∏–∫–Ω—É–ª –§–∏–ª–∏–Ω ü¶â. ‚Äî –ö—Ä–æ–ª–∏–∫, —Ç—ã –∑–∞–¥–∞–ª –≤–æ–ø—Ä–æ—Å –ø—Ä–æ–¥–≤–∏–Ω—É—Ç–æ–≥–æ —É—Ä–æ–≤–Ω—è! –≠—Ç–æ –∫–∞—Å–∞–µ—Ç—Å—è –º–∞–≥–∏–∏ –º–µ—Ç–∞–∫–ª–∞—Å—Å–æ–≤ –≤ Python! üé©

‚Äî **–ú–µ—Ç–∞–∫–ª–∞—Å—Å** ‚Äî —ç—Ç–æ "–∫–ª–∞—Å—Å –∫–ª–∞—Å—Å–æ–≤". –ï—Å–ª–∏ –æ–±—ã—á–Ω—ã–π –∫–ª–∞—Å—Å —Å–æ–∑–¥–∞—ë—Ç –æ–±—ä–µ–∫—Ç—ã, —Ç–æ –º–µ—Ç–∞–∫–ª–∞—Å—Å —Å–æ–∑–¥–∞—ë—Ç **–∫–ª–∞—Å—Å—ã**! ‚Äî –Ω–∞—á–∞–ª –æ–±—ä—è—Å–Ω—è—Ç—å –§–∏–ª–∏–Ω, –≤–∏–¥—è, —á—Ç–æ –≤—Å–µ —Å–º–æ—Ç—Ä—è—Ç –Ω–∞ –Ω–µ–≥–æ —Å –Ω–µ–¥–æ—É–º–µ–Ω–∏–µ–º.

‚Äî –î–∞–≤–∞–π—Ç–µ –ø—Ä–æ—â–µ: –ø—Ä–µ–¥—Å—Ç–∞–≤—å—Ç–µ, —á—Ç–æ —É –Ω–∞—Å –µ—Å—Ç—å —Ñ–∞–±—Ä–∏–∫–∞ –ø–æ –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤—É —Å—Ç—É–ª—å–µ–≤. ü™ëüè≠

*   **–û–±—ä–µ–∫—Ç** ‚Äî —ç—Ç–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —Å—Ç—É–ª ü™ë
*   **–ö–ª–∞—Å—Å** ‚Äî —ç—Ç–æ —á–µ—Ä—Ç—ë–∂ —Å—Ç—É–ª–∞ üìê
*   **–ú–µ—Ç–∞–∫–ª–∞—Å—Å** ‚Äî —ç—Ç–æ —Ñ–∞–±—Ä–∏–∫–∞, –∫–æ—Ç–æ—Ä–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç —á–µ—Ä—Ç–µ–∂–∏ —Å—Ç—É–ª—å–µ–≤! üè≠üìê

‚Äî –í –Ω–∞—à–µ–º —Å–ª—É—á–∞–µ:

*   `BasePermissionMetaclass` ‚Äî —ç—Ç–æ —Ñ–∞–±—Ä–∏–∫–∞ üè≠
*   `BasePermission` ‚Äî —ç—Ç–æ —á–µ—Ä—Ç—ë–∂, —Å–æ–∑–¥–∞–Ω–Ω—ã–π —ç—Ç–æ–π —Ñ–∞–±—Ä–∏–∫–æ–π üìê
*   `IsEmailVerified` (–Ω–∞—à –∫–ª–∞—Å—Å) ‚Äî —ç—Ç–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —Å—Ç—É–ª, —Å–¥–µ–ª–∞–Ω–Ω—ã–π –ø–æ —á–µ—Ä—Ç–µ–∂—É ü™ë

‚Äî –ó–∞—á–µ–º —ç—Ç–æ –Ω—É–∂–Ω–æ? ‚Äî —Å–ø—Ä–æ—Å–∏–ª –ü—è—Ç–∞—á–æ–∫ üê∑.

‚Äî –ú–µ—Ç–∞–∫–ª–∞—Å—Å—ã –ø–æ–∑–≤–æ–ª—è—é—Ç –¥–µ–ª–∞—Ç—å –≤–æ–ª—à–µ–±–Ω—ã–µ –≤–µ—â–∏ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∫–ª–∞—Å—Å–æ–≤! ‚Äî –æ—Ç–≤–µ—Ç–∏–ª –§–∏–ª–∏–Ω ü¶â. ‚Äî –ù–∞–ø—Ä–∏–º–µ—Ä, `BasePermissionMetaclass` —Å–ª–µ–¥–∏—Ç –∑–∞ —Ç–µ–º, —á—Ç–æ–±—ã –≤—Å–µ –∫–ª–∞—Å—Å—ã —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–π –ø—Ä–∞–≤–∏–ª—å–Ω–æ —Ä–∞–±–æ—Ç–∞–ª–∏ —Å DRF. –≠—Ç–æ –∫–∞–∫ –∏–Ω—Å–ø–µ–∫—Ç–æ—Ä, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –≤—Å–µ —á–µ—Ä—Ç–µ–∂–∏ —Å—Ç—É–ª—å–µ–≤ –Ω–∞ —Ñ–∞–±—Ä–∏–∫–µ! üë∑

‚Äî –ù–æ –Ω–∞–º, –æ–±—ã—á–Ω—ã–º —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞–º, –Ω–µ –Ω—É–∂–Ω–æ –æ–± —ç—Ç–æ–º –¥—É–º–∞—Ç—å! ‚Äî –¥–æ–±–∞–≤–∏–ª –§–∏–ª–∏–Ω ü¶â. ‚Äî –ú—ã –ø—Ä–æ—Å—Ç–æ –Ω–∞—Å–ª–µ–¥—É–µ–º—Å—è –æ—Ç `BasePermission` –∏ DRF –¥–µ–ª–∞–µ—Ç –≤—Å—é –º–∞–≥–∏—é –∑–∞ –Ω–∞—Å! ‚ú®

‚Äî –ö–æ–≥–¥–∞ –º—ã —Å–æ–∑–¥–∞—ë–º —Å–≤–æ–π –∫–ª–∞—Å—Å –∏ –Ω–∞—Å–ª–µ–¥—É–µ–º—Å—è –æ—Ç `BasePermission`, –º—ã –¥–æ–ª–∂–Ω—ã **–ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å (override)** –æ–¥–∏–Ω –∏–ª–∏ –æ–±–∞ —ç—Ç–∏—Ö –º–µ—Ç–æ–¥–∞, —á—Ç–æ–±—ã –¥–æ–±–∞–≤–∏—Ç—å —Å–≤–æ—é –ª–æ–≥–∏–∫—É –ø—Ä–æ–≤–µ—Ä–∫–∏. –ï—Å–ª–∏ –º—ã –Ω–µ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–∏–º –º–µ—Ç–æ–¥—ã ‚Äî –Ω–∞—à–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ –±—É–¥–µ—Ç –≤—Å–µ–≥–¥–∞ —Ä–∞–∑—Ä–µ—à–∞—Ç—å –¥–æ—Å—Ç—É–ø, —á—Ç–æ –Ω–∞–º –Ω–µ –Ω—É–∂–Ω–æ!

‚Äî –ê –∑–∞—á–µ–º —Ç–æ–≥–¥–∞ –≤–æ–æ–±—â–µ —ç—Ç–æ—Ç –±–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å? ‚Äî —Å–ø—Ä–æ—Å–∏–ª –ü—è—Ç–∞—á–æ–∫ üê∑.

‚Äî –•–æ—Ä–æ—à–∏–π –≤–æ–ø—Ä–æ—Å! ‚Äî —Å–∫–∞–∑–∞–ª –§–∏–ª–∏–Ω ü¶â. ‚Äî –ë–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å –¥–∞—ë—Ç –Ω–∞–º:

1.  **–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å** ‚Äî –≤—Å–µ –∑–Ω–∞—é—Ç, —á—Ç–æ —É —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –º–µ—Ç–æ–¥—ã `has_permission()` –∏ `has_object_permission()`
2.  **–£–¥–æ–±—Å—Ç–≤–æ** ‚Äî –Ω–∞–º –Ω–µ –Ω—É–∂–Ω–æ –∫–∞–∂–¥—ã–π —Ä–∞–∑ –ø–∏—Å–∞—Ç—å —Å –Ω—É–ª—è –≤–µ—Å—å –∫–ª–∞—Å—Å
3.  **–°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å** ‚Äî DRF –∑–Ω–∞–µ—Ç, –∫–∞–∫ —Ä–∞–±–æ—Ç–∞—Ç—å —Å –ª—é–±—ã–º –∫–ª–∞—Å—Å–æ–º, –∫–æ—Ç–æ—Ä—ã–π –Ω–∞—Å–ª–µ–¥—É–µ—Ç—Å—è –æ—Ç `BasePermission`

‚Äî –≠—Ç–æ –∫–∞–∫ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è —Ñ–æ—Ä–º–∞ –¥–ª—è –≤—Å–µ—Ö —Å—Ç—Ä–∞–∂–Ω–∏–∫–æ–≤! ‚Äî —Å–∫–∞–∑–∞–ª –í–∏–Ω–Ω–∏-–ü—É—Ö üêª. ‚Äî –£ –∫–∞–∂–¥–æ–≥–æ –º–æ–∂–µ—Ç –±—ã—Ç—å —Å–≤–æ—è —É–Ω–∏—Ñ–æ—Ä–º–∞, –Ω–æ –≤—Å–µ –Ω–æ—Å—è—Ç –∑–Ω–∞–∫ –∫–æ—Ä–æ–ª–µ–≤—Å–∫–æ–π –æ—Ö—Ä–∞–Ω—ã! üëÆ

‚Äî –¢–æ—á–Ω–æ! ‚Äî —É–ª—ã–±–Ω—É–ª—Å—è –§–∏–ª–∏–Ω ü¶â. ‚Äî –ò —ç—Ç–æ—Ç "–∑–Ω–∞–∫" ‚Äî –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ –æ—Ç `BasePermission`!

**–°–æ–∑–¥–∞—ë–º –ø–µ—Ä–≤–æ–µ –∫–∞—Å—Ç–æ–º–Ω–æ–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ üõ†Ô∏è**

‚Äî –ù–∞—á–Ω—ë–º —Å –ø—Ä–æ—Å—Ç–æ–≥–æ, ‚Äî –ø—Ä–µ–¥–ª–æ–∂–∏–ª –§–∏–ª–∏–Ω ü¶â. ‚Äî –°–æ–∑–¥–∞–¥–∏–º –∫–∞—Å—Ç–æ–º–Ω–æ–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ –±—É–¥–µ—Ç –¥–æ–ø—É—Å–∫–∞—Ç—å –∫ —ç–Ω–¥–ø–æ–∏–Ω—Ç—É —Ç–æ–ª—å–∫–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥—ë–Ω–Ω–æ–π —ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω–æ–π –ø–æ—á—Ç–æ–π.

```python
# permissions.py ‚Äî —Ñ–∞–π–ª —Å –Ω–∞—à–∏–º–∏ –ø—Ä–∞–≤–∏–ª–∞–º–∏
from rest_framework.permissions import BasePermission

class IsEmailVerified(BasePermission):
    """
    –†–∞–∑—Ä–µ—à–µ–Ω–∏–µ –ø–æ–∑–≤–æ–ª—è–µ—Ç –¥–æ—Å—Ç—É–ø —Ç–æ–ª—å–∫–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º —Å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥—ë–Ω–Ω—ã–º email. ‚úâÔ∏è‚úÖ
    """
    
    def has_permission(self, request, view):
        # –ë–µ—Ä–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏–∑ –∑–∞–ø—Ä–æ—Å–∞ –∏ –ø—Ä–æ–≤–µ—Ä—è–µ–º, –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω –ª–∏ –µ–≥–æ email
        return bool(
            request.user and 
            request.user.is_authenticated and 
            request.user.is_email_verified  # –ù–∞—à–µ –≤–æ–æ–±—Ä–∞–∂–∞–µ–º–æ–µ –ø–æ–ª–µ
        )
```

‚Äî –ü–æ–¥–æ–∂–¥–∏—Ç–µ! ‚Äî –ø–µ—Ä–µ–±–∏–ª –ö—Ä–æ–ª–∏–∫ üêá. ‚Äî –Ø –≤–∏–∂—É –∑–¥–µ—Å—å `is_authenticated` –∏ –∫–∞–∫–æ–µ-—Ç–æ —Å—Ç—Ä–∞–Ω–Ω–æ–µ –ø–æ–ª–µ `is_email_verified`. –†–∞–∑–≤–µ —ç—Ç–∏ –ø–æ–ª—è –µ—Å—Ç—å –≤ –æ–±—ã—á–Ω–æ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ? –ù–∞–º –∏—Ö –Ω—É–∂–Ω–æ —Å–æ–∑–¥–∞–≤–∞—Ç—å –≤ –º–æ–¥–µ–ª–∏?

‚Äî –û—Ç–ª–∏—á–Ω—ã–π –≤–æ–ø—Ä–æ—Å, –ö—Ä–æ–ª–∏–∫! ‚Äî –ø–æ—Ö–≤–∞–ª–∏–ª –§–∏–ª–∏–Ω ü¶â. ‚Äî –¢—ã –ø—Ä–∞–≤, –∑–¥–µ—Å—å –µ—Å—Ç—å –≤–∞–∂–Ω—ã–π –Ω—é–∞–Ω—Å!

‚Äî **`is_authenticated`** ‚Äî —ç—Ç–æ **–Ω–µ –ø–æ–ª–µ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö**! –≠—Ç–æ —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ–µ **—Å–≤–æ–π—Å—Ç–≤–æ (property)**, –∫–æ—Ç–æ—Ä–æ–µ Django –¥–æ–±–∞–≤–ª—è–µ—Ç –∫ –∫–∞–∂–¥–æ–º—É –æ–±—ä–µ–∫—Ç—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è. –û–Ω–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è `True`, –µ—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–æ—à—ë–ª –≤ —Å–∏—Å—Ç–µ–º—É (–∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω), –∏ `False`, –µ—Å–ª–∏ —ç—Ç–æ –∞–Ω–æ–Ω–∏–º–Ω—ã–π –≥–æ—Å—Ç—å. –¢–∞–∫ —á—Ç–æ –µ–≥–æ —Å–æ–∑–¥–∞–≤–∞—Ç—å –Ω–µ –Ω—É–∂–Ω–æ ‚Äî –æ–Ω–æ —É–∂–µ –µ—Å—Ç—å! ‚úÖ

‚Äî –ê –≤–æ—Ç **`is_email_verified`**... ‚Äî –§–∏–ª–∏–Ω –∑–∞–¥—É–º–∞–ª—Å—è. ‚Äî –î–∞, —ç—Ç–æ —É–∂–µ –Ω–∞—à–µ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–µ, –≤–æ–æ–±—Ä–∞–∂–∞–µ–º–æ–µ –ø–æ–ª–µ. –í —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–π –º–æ–¥–µ–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –æ—Ç Django —Ç–∞–∫–æ–≥–æ –ø–æ–ª—è –Ω–µ—Ç. –ï—Å–ª–∏ –º—ã —Ö–æ—Ç–∏–º –ø—Ä–æ–≤–µ—Ä—è—Ç—å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ email, –Ω–∞–º –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –Ω—É–∂–Ω–æ:
    
1.  –°–æ–∑–¥–∞—Ç—å —Å–≤–æ—é –º–æ–¥–µ–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –∫–æ—Ç–æ—Ä–∞—è –Ω–∞—Å–ª–µ–¥—É–µ—Ç—Å—è –æ—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–π.
2.  –î–æ–±–∞–≤–∏—Ç—å –≤ –Ω–µ—ë –ø–æ–ª–µ `is_email_verified = models.BooleanField(default=False)`.
3.  –ù–∞–ø–∏—Å–∞—Ç—å –ª–æ–≥–∏–∫—É, –∫–æ—Ç–æ—Ä–∞—è –±—É–¥–µ—Ç —Å—Ç–∞–≤–∏—Ç—å `True` –ø–æ—Å–ª–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –ø–æ —Å—Å—ã–ª–∫–µ –∏–∑ –ø–∏—Å—å–º–∞.

‚Äî –ù–æ –¥–ª—è –Ω–∞—à–µ–≥–æ —É—á–µ–±–Ω–æ–≥–æ –ø—Ä–∏–º–µ—Ä–∞, ‚Äî –¥–æ–±–∞–≤–∏–ª –§–∏–ª–∏–Ω ü¶â, ‚Äî –º—ã –ø—Ä–æ—Å—Ç–æ –ø—Ä–µ–¥—Å—Ç–∞–≤–∏–º, —á—Ç–æ —Ç–∞–∫–æ–µ –ø–æ–ª–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç. –í —Ä–µ–∞–ª—å–Ω–æ–º –ø—Ä–æ–µ–∫—Ç–µ —Ç—ã –±—ã –µ–≥–æ –¥–æ–±–∞–≤–∏–ª —Å–∞–º!

**–ü–æ–¥–∫–ª—é—á–∞–µ–º —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ –≤ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–∏ üîå**

‚Äî –¢–µ–ø–µ—Ä—å –ø–æ–¥–∫–ª—é—á–∏–º –Ω–∞—à–µ –Ω–æ–≤–æ–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ –∫ –∫–∞–∫–æ–π-–Ω–∏–±—É–¥—å API-–∫–æ–º–Ω–∞—Ç–µ. –ù–æ —Å–Ω–∞—á–∞–ª–∞ –¥–∞–≤–∞–π—Ç–µ —Ä–∞–∑–±–µ—Ä–µ–º—Å—è, —á—Ç–æ —Ç–∞–∫–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –≤–æ–æ–±—â–µ, ‚Äî —Å–∫–∞–∑–∞–ª –§–∏–ª–∏–Ω ü¶â.

```python
# views.py ‚Äî —á–µ—Ä—Ç–µ–∂–∏ –∫–æ–º–Ω–∞—Ç
from rest_framework.views import APIView
from rest_framework.response import Response
from .permissions import IsEmailVerified

class VerifiedUserView(APIView):
    """
    –ö–æ–º–Ω–∞—Ç–∞ —Ç–æ–ª—å–∫–æ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥—ë–Ω–Ω—ã–º email. ‚úâÔ∏è‚úÖ
    """
    permission_classes = [IsEmailVerified]  # –ò—Å–ø–æ–ª—å–∑—É–µ–º –Ω–∞—à–µ –∫–∞—Å—Ç–æ–º–Ω–æ–µ –ø—Ä–∞–≤–∏–ª–æ!
    
    def get(self, request):
        return Response({"message": "–í—ã –ø—Ä–æ—à–ª–∏ –≤ —Å—É–ø–µ—Ä—Å–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–ª—É–±!"})
```

‚Äî –°—Ç–æ–ø! ‚Äî –æ—Å—Ç–∞–Ω–æ–≤–∏–ª –í–∏–Ω–Ω–∏-–ü—É—Ö üêª. ‚Äî –¢—ã —É–ø–æ–º—è–Ω—É–ª `APIView`. –ß—Ç–æ —ç—Ç–æ —Ç–∞–∫–æ–µ? –ò –ø–æ—á–µ–º—É –≤ –∫–æ–Ω—Ü–µ –∫–ª–∞—Å—Å–∞ –µ—Å—Ç—å –º–µ—Ç–æ–¥ `get`? –≠—Ç–æ –∫–∞–∫-—Ç–æ —Å–≤—è–∑–∞–Ω–æ —Å HTTP?

‚Äî –û—Ç–ª–∏—á–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã, –í–∏–Ω–Ω–∏-–ü—É—Ö! ‚Äî –æ–±—Ä–∞–¥–æ–≤–∞–ª—Å—è –§–∏–ª–∏–Ω ü¶â. ‚Äî –î–∞–≤–∞–π—Ç–µ —Ä–∞–∑–±–µ—Ä–µ–º—Å—è —Å –æ—Å–Ω–æ–≤–∞–º–∏, –ø–æ—Ç–æ–º—É —á—Ç–æ —ç—Ç–æ —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç –≤—Å–µ–≥–æ API!

‚Äî **`APIView`** ‚Äî —ç—Ç–æ —Å–∞–º—ã–π –ø—Ä–æ—Å—Ç–æ–π –∏ –±–∞–∑–æ–≤—ã–π —Ç–∏–ø "–∫–æ–º–Ω–∞—Ç—ã" (–ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è) –≤ DRF. –ü—Ä–µ–¥—Å—Ç–∞–≤—å –µ–≥–æ –∫–∞–∫ –≥–æ–ª—É—é –∫–æ–º–Ω–∞—Ç—É —Å —á–µ—Ç—ã—Ä—å–º—è —Å—Ç–µ–Ω–∞–º–∏, –ø–æ–ª–æ–º –∏ –ø–æ—Ç–æ–ª–∫–æ–º, –Ω–æ –±–µ–∑ –º–µ–±–µ–ª–∏. üö™

‚Äî –ö–æ–≥–¥–∞ —Ç—ã —Å–æ–∑–¥–∞—ë—à—å –∫–ª–∞—Å—Å –∏ –Ω–∞—Å–ª–µ–¥—É–µ—à—å—Å—è –æ—Ç `APIView`, —Ç—ã –≥–æ–≤–æ—Ä–∏—à—å Django: "–Ø —Ö–æ—á—É —Å–æ–∑–¥–∞—Ç—å —ç–Ω–¥–ø–æ–∏–Ω—Ç (—Ç–æ—á–∫—É –≤—Ö–æ–¥–∞) –≤ –º–æ—ë API". –ù–æ! –¢–µ–±–µ –Ω—É–∂–Ω–æ **–°–ê–ú–û–ú–£ –æ–ø–∏—Å–∞—Ç—å**, —á—Ç–æ –±—É–¥–µ—Ç –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç—å –ø—Ä–∏ –∫–∞–∂–¥–æ–º —Ç–∏–ø–µ –∑–∞–ø—Ä–æ—Å–∞.

‚Äî –°–º–æ—Ç—Ä–∏, ‚Äî –ø—Ä–æ–¥–æ–ª–∂–∏–ª –§–∏–ª–∏–Ω ü¶â, ‚Äî –∫–æ–≥–¥–∞ –∫ —Ç–≤–æ–µ–º—É API –ø—Ä–∏—Ö–æ–¥–∏—Ç HTTP-–∑–∞–ø—Ä–æ—Å, Django —Å–º–æ—Ç—Ä–∏—Ç:
    
*   –ï—Å–ª–∏ –∑–∞–ø—Ä–æ—Å `GET` ‚Üí –∏—â–µ—Ç –º–µ—Ç–æ–¥ `def get()` –≤ —Ç–≤–æ—ë–º –∫–ª–∞—Å—Å–µ
*   –ï—Å–ª–∏ –∑–∞–ø—Ä–æ—Å `POST` ‚Üí –∏—â–µ—Ç –º–µ—Ç–æ–¥ `def post()`
*   –ï—Å–ª–∏ –∑–∞–ø—Ä–æ—Å `PUT` ‚Üí –∏—â–µ—Ç –º–µ—Ç–æ–¥ `def put()`
*   –ï—Å–ª–∏ –∑–∞–ø—Ä–æ—Å `DELETE` ‚Üí –∏—â–µ—Ç –º–µ—Ç–æ–¥ `def delete()`

‚Äî –í –Ω–∞—à–µ–º –ø—Ä–∏–º–µ—Ä–µ `VerifiedUserView`:
    
1.  –ú—ã –Ω–∞—Å–ª–µ–¥—É–µ–º—Å—è –æ—Ç `APIView` ‚Äî —ç—Ç–æ –Ω–∞—à–∞ "–≥–æ–ª–∞—è –∫–æ–º–Ω–∞—Ç–∞" üö™
2.  –ú—ã –¥–æ–±–∞–≤–ª—è–µ–º `permission_classes = [IsEmailVerified]` ‚Äî —ç—Ç–æ –Ω–∞—à "—Ñ–µ–π—Å–∫–æ–Ω—Ç—Ä–æ–ª—å" üîê
3.  –ú—ã –ø–∏—à–µ–º `def get(self, request)` ‚Äî —ç—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç: "–ö–æ–≥–¥–∞ –ø—Ä–∏—Ö–æ–¥–∏—Ç GET-–∑–∞–ø—Ä–æ—Å, —Å–¥–µ–ª–∞–π –≤–æ—Ç —ç—Ç–æ" üì•

‚Äî –ò —á—Ç–æ –∂–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç? ‚Äî —Å–ø—Ä–æ—Å–∏–ª –ü—è—Ç–∞—á–æ–∫ üê∑.

‚Äî –ö–æ–≥–¥–∞ –∫—Ç–æ-—Ç–æ –¥–µ–ª–∞–µ—Ç GET-–∑–∞–ø—Ä–æ—Å –∫ –Ω–∞—à–µ–π –∫–æ–º–Ω–∞—Ç–µ, ‚Äî –æ–±—ä—è—Å–Ω–∏–ª –§–∏–ª–∏–Ω ü¶â, ‚Äî —Å–Ω–∞—á–∞–ª–∞ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ `IsEmailVerified`. –ï—Å–ª–∏ email –Ω–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥—ë–Ω ‚Äî —Å—Ä–∞–∑—É –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –æ—à–∏–±–∫–∞ 403 Forbidden. –ï—Å–ª–∏ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥—ë–Ω ‚Äî –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –º–µ—Ç–æ–¥ `get()`, –∫–æ—Ç–æ—Ä—ã–π –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ä–∞–¥–æ—Å—Ç–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ! üéâ

‚Äî –ê –µ—Å–ª–∏ –º—ã —Ö–æ—Ç–∏–º –ø—Ä–∏–Ω–∏–º–∞—Ç—å –µ—â—ë –∏ POST-–∑–∞–ø—Ä–æ—Å—ã? ‚Äî —Å–ø—Ä–æ—Å–∏–ª –ö—Ä–æ–ª–∏–∫ üêá.

‚Äî –¢–æ–≥–¥–∞ –Ω–∞–º –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –≤ –∫–ª–∞—Å—Å –º–µ—Ç–æ–¥ `def post(self, request)`! ‚Äî –æ—Ç–≤–µ—Ç–∏–ª –§–∏–ª–∏–Ω ü¶â. ‚Äî –ò —Ç–∞–∫ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ç–∏–ø–∞ –∑–∞–ø—Ä–æ—Å–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –º—ã —Ö–æ—Ç–∏–º –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å.

‚Äî –ù–æ —ç—Ç–æ –∂–µ –Ω–µ—É–¥–æ–±–Ω–æ! ‚Äî –≤–æ—Å–∫–ª–∏–∫–Ω—É–ª –í–∏–Ω–Ω–∏-–ü—É—Ö üêª. ‚Äî –ï—Å–ª–∏ —É –º–µ–Ω—è –º–Ω–æ–≥–æ —Ä–∞–∑–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π, –º–Ω–µ –ø—Ä–∏–¥—ë—Ç—Å—è –ø–∏—Å–∞—Ç—å –º–Ω–æ–≥–æ –º–µ—Ç–æ–¥–æ–≤!

‚Äî –ò–º–µ–Ω–Ω–æ –ø–æ—ç—Ç–æ–º—É —Å—É—â–µ—Å—Ç–≤—É–µ—Ç **`ModelViewSet`**! ‚Äî —É–ª—ã–±–Ω—É–ª—Å—è –§–∏–ª–∏–Ω ü¶â. ‚Äî –ù–æ –¥–∞–≤–∞–π—Ç–µ —Å–Ω–∞—á–∞–ª–∞ –∑–∞–∫–æ–Ω—á–∏–º —Å –æ—Å–Ω–æ–≤–∞–º–∏. `APIView` ‚Äî —ç—Ç–æ —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç. –ö–æ–≥–¥–∞ —Ç–µ–±–µ –Ω—É–∂–Ω–∞ –∫–∞–∫–∞—è-—Ç–æ –Ω–µ—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è –ª–æ–≥–∏–∫–∞, —Ç—ã –∏—Å–ø–æ–ª—å–∑—É–µ—à—å –∏–º–µ–Ω–Ω–æ –µ–≥–æ.

‚Äî –ê —Ç–µ–ø–µ—Ä—å –ø—Ä–µ–¥—Å—Ç–∞–≤—å—Ç–µ –±–æ–ª–µ–µ —Å–ª–æ–∂–Ω—ã–π –ø—Ä–∏–º–µ—Ä, ‚Äî –ø—Ä–æ–¥–æ–ª–∂–∏–ª –§–∏–ª–∏–Ω ü¶â.

**–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–π –Ω–∞ —É—Ä–æ–≤–Ω–µ –æ–±—ä–µ–∫—Ç–æ–≤ üéØ**

‚Äî –ò–Ω–æ–≥–¥–∞ –Ω—É–∂–Ω–æ –æ–≥—Ä–∞–Ω–∏—á–∏—Ç—å –¥–æ—Å—Ç—É–ø –Ω–µ —Ç–æ–ª—å–∫–æ –≤ —Ü–µ–ª–æ–º, –Ω–æ –∏ –∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–º –∑–∞–ø–∏—Å—è–º, ‚Äî —Å–∫–∞–∑–∞–ª –§–∏–ª–∏–Ω ü¶â. ‚Äî –ù–∞–ø—Ä–∏–º–µ—Ä, —Ä–∞–∑—Ä–µ—à–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ —Å–≤–æ–∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏.

‚Äî –î–ª—è —ç—Ç–æ–≥–æ —Å–æ–∑–¥–∞–¥–∏–º —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ –ø–æ–∑–≤–æ–ª—è–µ—Ç —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ —Å–≤–æ–∏ –∑–∞–ø–∏—Å–∏:

```python
# permissions.py ‚Äî –¥–æ–±–∞–≤–ª—è–µ–º –Ω–æ–≤–æ–µ –ø—Ä–∞–≤–∏–ª–æ
from rest_framework.permissions import BasePermission

class IsOwner(BasePermission):
    """
    –î–æ—Å—Ç—É–ø —Ä–∞–∑—Ä–µ—à—ë–Ω —Ç–æ–ª—å–∫–æ –≤–ª–∞–¥–µ–ª—å—Ü–∞–º –æ–±—ä–µ–∫—Ç–∞. üëë
    """
    
    def has_object_permission(self, request, view, obj):
        # –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ –æ–±—ä–µ–∫—Ç –∏–º–µ–µ—Ç –ø–æ–ª–µ user, –∏ –æ–Ω–æ —Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å request.user
        return obj.user == request.user
```

‚Äî –Ø –Ω–µ –ø–æ–Ω—è–ª! ‚Äî –ø—Ä–∏–∑–Ω–∞–ª—Å—è –ö—Ä–æ–ª–∏–∫ üêá. ‚Äî –ß—Ç–æ —Ç–∞–∫–æ–µ `obj.user`? –≠—Ç–æ –∫–∞–∫ –∞–≤—Ç–æ—Ä –æ–±—ä–µ–∫—Ç–∞? –ö–∞–∫ –ø–æ—Å—Ç–∞, —Å—Ç–∞—Ç—å–∏ –∏–ª–∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è?

‚Äî –°–æ–≤–µ—Ä—à–µ–Ω–Ω–æ –≤–µ—Ä–Ω–æ, –ö—Ä–æ–ª–∏–∫! ‚Äî –ø–æ–¥—Ç–≤–µ—Ä–¥–∏–ª –§–∏–ª–∏–Ω ü¶â. ‚Äî –î–∞–≤–∞–π –ø—Ä–µ–¥—Å—Ç–∞–≤–∏–º –Ω–∞ —Ä–µ–∞–ª—å–Ω–æ–º –ø—Ä–∏–º–µ—Ä–µ.

‚Äî –î–æ–ø—É—Å—Ç–∏–º, —É –Ω–∞—Å –µ—Å—Ç—å –º–æ–¥–µ–ª—å `Post` (–ü–æ—Å—Ç/–ó–∞–ø–∏—Å—å) –≤ –±–ª–æ–≥–µ. –û–Ω–∞ –º–æ–≥–ª–∞ –±—ã –≤—ã–≥–ª—è–¥–µ—Ç—å —Ç–∞–∫:

```python
# models.py
from django.db import models
from django.contrib.auth.models import User

class Post(models.Model):
    title = models.CharField(max_length=200)  # –ó–∞–≥–æ–ª–æ–≤–æ–∫
    content = models.TextField()              # –¢–µ–∫—Å—Ç –ø–æ—Å—Ç–∞
    user = models.ForeignKey(User, on_delete=models.CASCADE)  # –ê–í–¢–û–† –ø–æ—Å—Ç–∞
    created_at = models.DateTimeField(auto_now_add=True)
```

‚Äî –í–∏–¥–∏—à—å –ø–æ–ª–µ `user`? –≠—Ç–æ —Å–≤—è–∑—å —Å –º–æ–¥–µ–ª—å—é –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è. –û–Ω–∞ –≥–æ–≤–æ—Ä–∏—Ç: ¬´–ö–∞–∂–¥—ã–π –ø–æ—Å—Ç –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∏—Ç –∫–∞–∫–æ–º—É-—Ç–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é ‚Äî –µ–≥–æ –∞–≤—Ç–æ—Ä—É¬ª.

‚Äî –¢–µ–ø–µ—Ä—å –≤ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–∏ `IsOwner`:
    *   `obj` ‚Äî —ç—Ç–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –æ–±—ä–µ–∫—Ç –ø–æ—Å—Ç, –∫ –∫–æ—Ç–æ—Ä–æ–º—É –ø—ã—Ç–∞—é—Ç—Å—è –ø–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ø–æ—Å—Ç —Å `ID=5`). üìù
    *   `obj.user` ‚Äî —ç—Ç–æ –∞–≤—Ç–æ—Ä —ç—Ç–æ–≥–æ –ø–æ—Å—Ç–∞ (–æ–±—ä–µ–∫—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è). üë§
    *   `request.user` ‚Äî —ç—Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å, –∫–æ—Ç–æ—Ä—ã–π **–°–ï–ô–ß–ê–°** –¥–µ–ª–∞–µ—Ç –∑–∞–ø—Ä–æ—Å. üßë‚Äçüíª

‚Äî –ò –ø—Ä–∞–≤–∏–ª–æ `return obj.user == request.user` –ø—Ä–æ–≤–µ—Ä—è–µ—Ç: ¬´–ê —Ç–æ—Ç, –∫—Ç–æ –ø—ã—Ç–∞–µ—Ç—Å—è –∏–∑–º–µ–Ω–∏—Ç—å –ø–æ—Å—Ç ‚Äî —ç—Ç–æ —Ç–æ—Ç –∂–µ —Å–∞–º—ã–π —á–µ–ª–æ–≤–µ–∫, –∫–æ—Ç–æ—Ä—ã–π –µ–≥–æ —Å–æ–∑–¥–∞–ª?¬ª –ï—Å–ª–∏ –¥–∞ ‚Äî —Ä–∞–∑—Ä–µ—à–∞–µ–º –¥–æ—Å—Ç—É–ø. –ï—Å–ª–∏ –Ω–µ—Ç ‚Äî –∑–∞–ø—Ä–µ—â–∞–µ–º! üîê

‚Äî –¢–æ –µ—Å—Ç—å, –µ—Å–ª–∏ —è –Ω–∞–ø–∏—Å–∞–ª –ø–æ—Å—Ç –ø—Ä–æ –º—ë–¥, ‚Äî —Å–∫–∞–∑–∞–ª –í–∏–Ω–Ω–∏-–ü—É—Ö üêª, ‚Äî —Ç–æ —Ç–æ–ª—å–∫–æ —è –º–æ–≥—É –µ–≥–æ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å. –ê –ü—è—Ç–∞—á–æ–∫ ‚Äî –Ω–µ—Ç, –¥–∞–∂–µ –µ—Å–ª–∏ –æ–Ω –º–æ–π –ª—É—á—à–∏–π –¥—Ä—É–≥?

‚Äî –ò–º–µ–Ω–Ω–æ! ‚Äî –ø–æ–¥—Ç–≤–µ—Ä–¥–∏–ª –§–∏–ª–∏–Ω ü¶â. ‚Äî –ü—è—Ç–∞—á–æ–∫ —Å–º–æ–∂–µ—Ç —Ç–æ–ª—å–∫–æ —á–∏—Ç–∞—Ç—å —Ç–≤–æ–π –ø–æ—Å—Ç (–µ—Å–ª–∏ –º—ã —Ä–∞–∑—Ä–µ—à–∏–º —á—Ç–µ–Ω–∏–µ –≤—Å–µ–º), –Ω–æ –Ω–µ —Å–º–æ–∂–µ—Ç –µ–≥–æ –∏–∑–º–µ–Ω–∏—Ç—å –∏–ª–∏ —É–¥–∞–ª–∏—Ç—å. –≠—Ç–æ –∏ –µ—Å—Ç—å –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –Ω–∞ —É—Ä–æ–≤–Ω–µ –æ–±—ä–µ–∫—Ç–æ–≤! üõ°Ô∏è

‚Äî –ù–æ –∫–∞–∫ —ç—Ç–æ –≤—Å—ë —Å–≤—è–∑–∞–Ω–æ —Å `APIView`? ‚Äî —Å–ø—Ä–æ—Å–∏–ª –ü—è—Ç–∞—á–æ–∫ üê∑.

‚Äî –ê –≤–æ—Ç —Å–µ–π—á–∞—Å –º—ã –∏ –ø–µ—Ä–µ–π–¥—ë–º –∫ –±–æ–ª–µ–µ –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–º "–∫–æ–º–Ω–∞—Ç–∞–º"! ‚Äî —Å–∫–∞–∑–∞–ª –§–∏–ª–∏–Ω ü¶â. ‚Äî –ü–æ—Ç–æ–º—É —á—Ç–æ –ø–∏—Å–∞—Ç—å –¥–ª—è –∫–∞–∂–¥–æ–π –º–æ–¥–µ–ª–∏ –æ—Ç–¥–µ–ª—å–Ω—ã–µ `APIView` —Å –º–µ—Ç–æ–¥–∞–º–∏ `get`, `post`, `put`, `delete` ‚Äî —ç—Ç–æ –¥–æ–ª–≥–æ –∏ —Å–∫—É—á–Ω–æ. –î–ª—è —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π –µ—Å—Ç—å –≥–æ—Ç–æ–≤–∞—è –º–µ–±–µ–ª—å ‚Äî `ModelViewSet`! üõãÔ∏è

**–ß—Ç–æ —Ç–∞–∫–æ–µ ModelViewSet –∏ –∫–∞–∫ –æ–Ω —Ä–∞–±–æ—Ç–∞–µ—Ç? üèòÔ∏è‚öôÔ∏è**

‚Äî `ModelViewSet` ‚Äî —ç—Ç–æ –∫–∞–∫ –≥–æ—Ç–æ–≤—ã–π –º–µ–±–µ–ª—å–Ω—ã–π –≥–∞—Ä–Ω–∏—Ç—É—Ä –¥–ª—è —Ç–≤–æ–µ–π –∫–æ–º–Ω–∞—Ç—ã! ‚Äî –Ω–∞—á–∞–ª –æ–±—ä—è—Å–Ω—è—Ç—å –§–∏–ª–∏–Ω ü¶â. ‚Äî –ü—Ä–µ–¥—Å—Ç–∞–≤—å: —Ç—ã –∑–∞–∫–∞–∑—ã–≤–∞–µ—à—å "–°–ø–∞–ª—å–Ω—è-—Å—Ç–∞–Ω–¥–∞—Ä—Ç", –∏ —Ç–µ–±–µ –ø—Ä–∏–≤–æ–∑—è—Ç –∫—Ä–æ–≤–∞—Ç—å, —Ç—É–º–±–æ—á–∫–∏, —à–∫–∞—Ñ ‚Äî –≤—Å—ë —É–∂–µ –Ω–∞ —Å–≤–æ–∏—Ö –º–µ—Å—Ç–∞—Ö! üõèÔ∏è

‚Äî –î–∞–≤–∞–π—Ç–µ —Å–æ–∑–¥–∞–¥–∏–º –ø—Ä–æ—Å—Ç–æ–π –ø—Ä–∏–º–µ—Ä, —á—Ç–æ–±—ã –ø–æ–Ω—è—Ç—å, ‚Äî –ø—Ä–µ–¥–ª–æ–∂–∏–ª –§–∏–ª–∏–Ω ü¶â.

‚Äî –°–Ω–∞—á–∞–ª–∞ —Å–æ–∑–¥–∞–¥–∏–º –º–æ–¥–µ–ª—å `Toy` (–ò–≥—Ä—É—à–∫–∞):

```python
# models.py
from django.db import models

class Toy(models.Model):
    name = models.CharField(max_length=100)
    description = models.TextField()
    price = models.DecimalField(max_digits=10, decimal_places=2)
    created_at = models.DateTimeField(auto_now_add=True)
```

‚Äî –¢–µ–ø–µ—Ä—å —Å–æ–∑–¥–∞–¥–∏–º –¥–ª—è –Ω–µ—ë —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ç–æ—Ä (–ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å):

```python
# serializers.py
from rest_framework import serializers
from .models import Toy

class ToySerializer(serializers.ModelSerializer):
    class Meta:
        model = Toy  # –ö–∞–∫–∞—è –º–æ–¥–µ–ª—å
        fields = ['id', 'name', 'description', 'price', 'created_at']  # –ö–∞–∫–∏–µ –ø–æ–ª—è
```

‚Äî –ò –≤–æ—Ç —Å–∞–º–æ–µ –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ–µ ‚Äî ViewSet:

```python
# views.py
from rest_framework.viewsets import ModelViewSet
from .models import Toy
from .serializers import ToySerializer

class ToyViewSet(ModelViewSet):
    """
    –í—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å –∏–≥—Ä—É—à–∫–∞–º–∏ –≤ –û–î–ù–û–ú –∫–ª–∞—Å—Å–µ! üß∏‚öôÔ∏è
    """
    queryset = Toy.objects.all()  # –í—Å–µ –∏–≥—Ä—É—à–∫–∏ –∏–∑ –±–∞–∑—ã
    serializer_class = ToySerializer  # –ö–∞–∫ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤—ã–≤–∞—Ç—å –∏–≥—Ä—É—à–∫–∏
```

‚Äî –ü–æ–¥–æ–∂–¥–∏! ‚Äî –æ—Å—Ç–∞–Ω–æ–≤–∏–ª –í–∏–Ω–Ω–∏-–ü—É—Ö üêª. ‚Äî –ò –≤—Å—ë? –í—Å–µ–≥–æ 3 —Å—Ç—Ä–æ—á–∫–∏?

‚Äî –î–∞! ‚Äî —É–ª—ã–±–Ω—É–ª—Å—è –§–∏–ª–∏–Ω ü¶â. ‚Äî –í—Å–µ–≥–æ 3 —Å—Ç—Ä–æ—á–∫–∏, –∏ —É —Ç–µ–±—è –≥–æ—Ç–æ–≤ –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π API –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –∏–≥—Ä—É—à–∫–∞–º–∏!

‚Äî –ù–æ –∫–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç? ‚Äî —Å–ø—Ä–æ—Å–∏–ª –ü—è—Ç–∞—á–æ–∫ üê∑.

‚Äî –ú–∞–≥–∏—è `ModelViewSet` –≤ —Ç–æ–º, —á—Ç–æ –æ–Ω **–ê–í–¢–û–ú–ê–¢–ò–ß–ï–°–ö–ò** —Å–æ–∑–¥–∞—ë—Ç –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –º–µ—Ç–æ–¥—ã! ‚Äî –æ–±—ä—è—Å–Ω–∏–ª –§–∏–ª–∏–Ω ü¶â. ‚Äî –ö–æ–≥–¥–∞ —Ç—ã –ø–∏—à–µ—à—å —ç—Ç–∏ 3 —Å—Ç—Ä–æ—á–∫–∏, "–ø–æ–¥ –∫–∞–ø–æ—Ç–æ–º" —Å–æ–∑–¥–∞—ë—Ç—Å—è –ø—Ä–∏–º–µ—Ä–Ω–æ —Ç–∞–∫–æ–π –∫–æ–¥:

```python
# ModelViewSet –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞—ë—Ç –í–°–Å —ç—Ç–æ:
class ToyViewSet(ModelViewSet):
    queryset = Toy.objects.all()
    serializer_class = ToySerializer
    
    # –ê–í–¢–û–ú–ê–¢–ò–ß–ï–°–ö–ò –°–û–ó–î–ê–Å–¢–°–Ø:
    def list(self, request):
        """GET /toys/ - —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –∏–≥—Ä—É—à–µ–∫"""
        toys = self.get_queryset()  # –ë–µ—Ä—ë—Ç –≤—Å–µ –∏–≥—Ä—É—à–∫–∏
        serializer = self.get_serializer(toys, many=True)  # –ü—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç –≤ JSON
        return Response(serializer.data)
```

‚Äî –ü–æ–¥–æ–∂–¥–∏! ‚Äî –æ—Å—Ç–∞–Ω–æ–≤–∏–ª –ö—Ä–æ–ª–∏–∫ üêá. ‚Äî –Ø –≤–∏–∂—É –∑–¥–µ—Å—å –º–µ—Ç–æ–¥ `list`. –ß—Ç–æ –æ–Ω –¥–µ–ª–∞–µ—Ç? –ò —á—Ç–æ —Ç–∞–∫–æ–µ `self.get_queryset()`?

‚Äî –û—Ç–ª–∏—á–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã! ‚Äî —Å–∫–∞–∑–∞–ª –§–∏–ª–∏–Ω ü¶â. ‚Äî –î–∞–≤–∞–π—Ç–µ —Ä–∞–∑–±–µ—Ä–µ–º –ø–µ—Ä–≤—ã–π –º–µ—Ç–æ–¥:

‚Äî **`list(self, request)`** ‚Äî —ç—Ç–æ—Ç –º–µ—Ç–æ–¥ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è, –∫–æ–≥–¥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –¥–µ–ª–∞–µ—Ç **GET-–∑–∞–ø—Ä–æ—Å** –∫ –∞–¥—Ä–µ—Å—É `/toys/` (–±–µ–∑ —É–∫–∞–∑–∞–Ω–∏—è ID –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –∏–≥—Ä—É—à–∫–∏). –ï–≥–æ –∑–∞–¥–∞—á–∞ ‚Äî –≤–µ—Ä–Ω—É—Ç—å —Å–ø–∏—Å–æ–∫ **–í–°–ï–•** –∏–≥—Ä—É—à–µ–∫.

‚Äî **`self.get_queryset()`** ‚Äî —ç—Ç–æ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –º–µ—Ç–æ–¥ `ViewSet`, –∫–æ—Ç–æ—Ä—ã–π –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –Ω–∞–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö –¥–ª—è —Ä–∞–±–æ—Ç—ã. –í –Ω–∞—à–µ–º —Å–ª—É—á–∞–µ —ç—Ç–æ `Toy.objects.all()` ‚Äî —Ç–æ –µ—Å—Ç—å –≤—Å–µ –∏–≥—Ä—É—à–∫–∏ –∏–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö. üóÉÔ∏è

‚Äî **`self.get_serializer(toys, many=True)`** ‚Äî —ç—Ç–æ —Ñ–∞–±—Ä–∏–∫–∞, –∫–æ—Ç–æ—Ä–∞—è —Å–æ–∑–¥–∞—ë—Ç —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ç–æ—Ä. –ü–∞—Ä–∞–º–µ—Ç—Ä `many=True` –≥–æ–≤–æ—Ä–∏—Ç: "–ü—Ä–µ–æ–±—Ä–∞–∑—É–π –Ω–µ –æ–¥–∏–Ω –æ–±—ä–µ–∫—Ç, –∞ —Ü–µ–ª—ã–π —Å–ø–∏—Å–æ–∫ –æ–±—ä–µ–∫—Ç–æ–≤!" üîÑ

‚Äî **`Response(serializer.data)`** ‚Äî —É–ø–∞–∫–æ–≤—ã–≤–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤ HTTP-–æ—Ç–≤–µ—Ç.

‚Äî –°—Ç–æ–ø! ‚Äî –æ—Å—Ç–∞–Ω–æ–≤–∏–ª –í–∏–Ω–Ω–∏-–ü—É—Ö üêª. ‚Äî –ß—Ç–æ —Ç–∞–∫–æ–µ `.data` –≤ `serializer.data`? –≠—Ç–æ –∫–∞–∫–æ–µ-—Ç–æ —Å–≤–æ–π—Å—Ç–≤–æ?

‚Äî –û—Ç–ª–∏—á–Ω—ã–π –≤–æ–ø—Ä–æ—Å! ‚Äî —Å–∫–∞–∑–∞–ª –§–∏–ª–∏–Ω ü¶â. ‚Äî –ö–æ–≥–¥–∞ —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ç–æ—Ä –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ, –æ–Ω —Å–æ–∑–¥–∞—ë—Ç —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π –æ–±—ä–µ–∫—Ç, —É –∫–æ—Ç–æ—Ä–æ–≥–æ –µ—Å—Ç—å —Å–≤–æ–π—Å—Ç–≤–æ `.data`. –≠—Ç–æ —Å–≤–æ–π—Å—Ç–≤–æ —Å–æ–¥–µ—Ä–∂–∏—Ç —É–∂–µ **–ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–Ω—ã–µ, –≥–æ—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ**!

‚Äî –ü—Ä–µ–¥—Å—Ç–∞–≤—å, —á—Ç–æ —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ç–æ—Ä ‚Äî —ç—Ç–æ —Ñ–∞–±—Ä–∏–∫–∞ –ø–æ –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤—É –∫–æ–Ω—Ñ–µ—Ç: üç¨üè≠
    *   –ù–∞ –≤—Ö–æ–¥–µ ‚Äî —Å—ã—Ä—ã–µ –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç—ã (–æ–±—ä–µ–∫—Ç—ã –∏–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö)
    *   –§–∞–±—Ä–∏–∫–∞ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∏—Ö (—Å–µ—Ä–∏–∞–ª–∏–∑—É–µ—Ç)
    *   –ù–∞ –≤—ã—Ö–æ–¥–µ ‚Äî –∫—Ä–∞—Å–∏–≤–æ —É–ø–∞–∫–æ–≤–∞–Ω–Ω—ã–µ –∫–æ–Ω—Ñ–µ—Ç—ã (—Å–≤–æ–π—Å—Ç–≤–æ `.data`)

‚Äî **`serializer.data`** ‚Äî —ç—Ç–æ —É–∂–µ –ø–æ–ª–Ω–æ—Å—Ç—å—é –≥–æ—Ç–æ–≤—ã–µ –∫ –æ—Ç–ø—Ä–∞–≤–∫–µ –¥–∞–Ω–Ω—ã–µ –≤ —Ñ–æ—Ä–º–∞—Ç–µ, –ø–æ–Ω—è—Ç–Ω–æ–º –¥–ª—è API (–æ–±—ã—á–Ω–æ JSON). –≠—Ç–æ –Ω–µ –ø—Ä–æ—Å—Ç–æ —Å–ª–æ–≤–∞—Ä—å Python, –∞ —Å–ø–µ—Ü–∏–∞–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞, –∫–æ—Ç–æ—Ä—É—é DRF —É–º–µ–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤—ã–≤–∞—Ç—å –≤ HTTP-–æ—Ç–≤–µ—Ç.

‚Äî –ü–æ–Ω—è—Ç–Ω–æ! ‚Äî —Å–∫–∞–∑–∞–ª –í–∏–Ω–Ω–∏-–ü—É—Ö üêª. ‚Äî –ó–Ω–∞—á–∏—Ç, –∫–æ–≥–¥–∞ —è –∏–¥—É –ø–æ –∞–¥—Ä–µ—Å—É `/toys/`, —è –ø–æ–ª—É—á–∞—é —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –∏–≥—Ä—É—à–µ–∫ –≤ JSON-—Ñ–æ—Ä–º–∞—Ç–µ?

‚Äî –ò–º–µ–Ω–Ω–æ! ‚Äî –ø–æ–¥—Ç–≤–µ—Ä–¥–∏–ª –§–∏–ª–∏–Ω ü¶â. ‚Äî –î–∞–≤–∞–π—Ç–µ —Å–º–æ—Ç—Ä–∏–º –¥–∞–ª—å—à–µ:

```python
    def retrieve(self, request, pk=None):
        """GET /toys/5/ - –æ–¥–Ω–∞ –∏–≥—Ä—É—à–∫–∞ —Å ID=5"""
        toy = self.get_object()  # –ù–∞—Ö–æ–¥–∏—Ç –∏–≥—Ä—É—à–∫—É –ø–æ ID
        serializer = self.get_serializer(toy)  # –ü—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç –≤ JSON
        return Response(serializer.data)
```

‚Äî –ê —ç—Ç–æ —á—Ç–æ? ‚Äî —Å–ø—Ä–æ—Å–∏–ª –ü—è—Ç–∞—á–æ–∫ üê∑.

‚Äî –≠—Ç–æ –º–µ—Ç–æ–¥ **`retrieve`** ‚Äî –æ–Ω –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è, –∫–æ–≥–¥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –¥–µ–ª–∞–µ—Ç **GET-–∑–∞–ø—Ä–æ—Å** –∫ –∞–¥—Ä–µ—Å—É `/toys/5/` (—Å —É–∫–∞–∑–∞–Ω–∏–µ–º `ID=5`). –ï–≥–æ –∑–∞–¥–∞—á–∞ ‚Äî –≤–µ—Ä–Ω—É—Ç—å **–û–î–ù–£** –∫–æ–Ω–∫—Ä–µ—Ç–Ω—É—é –∏–≥—Ä—É—à–∫—É. üéØ

‚Äî **`self.get_object()`** ‚Äî —ç—Ç–æ —É–º–Ω—ã–π –º–µ—Ç–æ–¥, –∫–æ—Ç–æ—Ä—ã–π:

1.  –ë–µ—Ä—ë—Ç `pk` (primary key) –∏–∑ URL (–≤ –Ω–∞—à–µ–º —Å–ª—É—á–∞–µ `5`) üîë
2.  –ò—â–µ—Ç –æ–±—ä–µ–∫—Ç –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö –ø–æ —ç—Ç–æ–º—É ID üîç
3.  –ï—Å–ª–∏ –Ω–∞—Ö–æ–¥–∏—Ç ‚Äî –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –µ–≥–æ
4.  –ï—Å–ª–∏ –Ω–µ –Ω–∞—Ö–æ–¥–∏—Ç ‚Äî –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ—à–∏–±–∫—É 404 "–ù–µ –Ω–∞–π–¥–µ–Ω–æ" ‚ùå

‚Äî **`self.get_serializer(toy)`** ‚Äî —Å–æ–∑–¥–∞—ë—Ç —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ç–æ—Ä –¥–ª—è –æ–¥–Ω–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞ (–±–µ–∑ `many=True`)

‚Äî –¢–æ –µ—Å—Ç—å, –µ—Å–ª–∏ —è —Ö–æ—á—É –ø–æ–ª—É—á–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ–± –∏–≥—Ä—É—à–∫–µ –Ω–æ–º–µ—Ä 5, —è –∏–¥—É –Ω–∞ `/toys/5/?` ‚Äî —É—Ç–æ—á–Ω–∏–ª –í–∏–Ω–Ω–∏-–ü—É—Ö üêª.

‚Äî –°–æ–≤–µ—Ä—à–µ–Ω–Ω–æ –≤–µ—Ä–Ω–æ! ‚Äî —Å–∫–∞–∑–∞–ª –§–∏–ª–∏–Ω ü¶â. ‚Äî –ü–µ—Ä–µ—Ö–æ–¥–∏–º –∫ —Å–ª–µ–¥—É—é—â–µ–º—É –º–µ—Ç–æ–¥—É:

```python
    def create(self, request):
        """POST /toys/ - —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é –∏–≥—Ä—É—à–∫—É"""
        serializer = self.get_serializer(data=request.data)
        serializer.is_valid(raise_exception=True)  # –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –¥–∞–Ω–Ω—ã–µ
        serializer.save()  # –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤ –±–∞–∑—É
        return Response(serializer.data, status=201)
```

‚Äî –û–π! ‚Äî –∑–∞–ø–∏—â–∞–ª –ü—è—Ç–∞—á–æ–∫ üê∑. ‚Äî –ó–¥–µ—Å—å —É–∂–µ —Å–ª–æ–∂–Ω–µ–µ! –ß—Ç–æ —Ç–∞–∫–æ–µ `request.data`? –ò —á—Ç–æ –¥–µ–ª–∞–µ—Ç `is_valid`?

‚Äî **`create`** ‚Äî —ç—Ç–æ –º–µ—Ç–æ–¥ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –Ω–æ–≤—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤. –û–Ω –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏ **POST-–∑–∞–ø—Ä–æ—Å–µ** –Ω–∞ `/toys/`. üÜï

‚Äî **`self.get_serializer(data=request.data)`** ‚Äî —Å–æ–∑–¥–∞—ë—Ç —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ç–æ—Ä, –ø–µ—Ä–µ–¥–∞–≤–∞—è –µ–º—É –¥–∞–Ω–Ω—ã–µ –∏–∑ –∑–∞–ø—Ä–æ—Å–∞. `request.data` ‚Äî —ç—Ç–æ —Å–ª–æ–≤–∞—Ä—å —Å –¥–∞–Ω–Ω—ã–º–∏, –∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–∏—à–ª–∏ –≤ —Ç–µ–ª–µ –∑–∞–ø—Ä–æ—Å–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `{"name": "–ú–µ–¥–≤–µ–∂–æ–Ω–æ–∫", "price": "100"}`). üì®

‚Äî **`serializer.is_valid(raise_exception=True)`** ‚Äî –ø—Ä–æ–≤–µ—Ä—è–µ—Ç, –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –ª–∏ –¥–∞–Ω–Ω—ã–µ –ø—Ä–∏—à–ª–∏. –ù–∞–ø—Ä–∏–º–µ—Ä, –µ—Å–ª–∏ –ø–æ–ª–µ `name` –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ, –∞ –µ–≥–æ –Ω–µ—Ç –≤ –¥–∞–Ω–Ω—ã—Ö ‚Äî –±—É–¥–µ—Ç –æ—à–∏–±–∫–∞. –ü–∞—Ä–∞–º–µ—Ç—Ä `raise_exception=True` –æ–∑–Ω–∞—á–∞–µ—Ç: "–ï—Å–ª–∏ –¥–∞–Ω–Ω—ã–µ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ, —Å—Ä–∞–∑—É –≤—ã–±—Ä–æ—Å—å –∏—Å–∫–ª—é—á–µ–Ω–∏–µ" (DRF –ø—Ä–µ–≤—Ä–∞—Ç–∏—Ç –µ–≥–æ –≤ –∫—Ä–∞—Å–∏–≤—É—é –æ—à–∏–±–∫—É 400). ‚ùå

‚Äî **`serializer.save()`** ‚Äî —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –Ω–æ–≤—ã–π –æ–±—ä–µ–∫—Ç –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö. üíæ

‚Äî **`Response(serializer.data, status=201)`** ‚Äî –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ —Å–æ–∑–¥–∞–Ω–Ω–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞ —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º **201 "–°–æ–∑–¥–∞–Ω–æ"** (–≤–º–µ—Å—Ç–æ –æ–±—ã—á–Ω–æ–≥–æ 200 "OK"). üÜï‚úÖ

‚Äî –Ø –Ω–∞—á–∏–Ω–∞—é –ø–æ–Ω–∏–º–∞—Ç—å! ‚Äî —Å–∫–∞–∑–∞–ª –ö—Ä–æ–ª–∏–∫ üêá. ‚Äî –ê —á—Ç–æ —Å –∏–∑–º–µ–Ω–µ–Ω–∏–µ–º –æ–±—ä–µ–∫—Ç–æ–≤?

‚Äî –î–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è –µ—Å—Ç—å –¥–≤–∞ –º–µ—Ç–æ–¥–∞, ‚Äî –æ—Ç–≤–µ—Ç–∏–ª –§–∏–ª–∏–Ω ü¶â:

```python
    def update(self, request, pk=None):
        """PUT /toys/5/ - –ø–æ–ª–Ω–æ—Å—Ç—å—é –∑–∞–º–µ–Ω–∏—Ç—å –∏–≥—Ä—É—à–∫—É —Å ID=5"""
        toy = self.get_object()
        serializer = self.get_serializer(toy, data=request.data)
        serializer.is_valid(raise_exception=True)
        serializer.save()
        return Response(serializer.data)
```

‚Äî **`update`** ‚Äî –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏ **PUT-–∑–∞–ø—Ä–æ—Å–µ** –Ω–∞ `/toys/5/`. –û–Ω **–ü–û–õ–ù–û–°–¢–¨–Æ** –∑–∞–º–µ–Ω—è–µ—Ç –æ–±—ä–µ–∫—Ç –Ω–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏. üîÑ

‚Äî –û–±—Ä–∞—Ç–∏ –≤–Ω–∏–º–∞–Ω–∏–µ: `self.get_serializer(toy, data=request.data)`
    ‚Äî –∑–¥–µ—Å—å –º—ã –ø–µ—Ä–µ–¥–∞—ë–º **–∏** –æ–±—ä–µ–∫—Ç `toy` (–∫–æ—Ç–æ—Ä—ã–π –Ω—É–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å), **–ò** –Ω–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ `data=request.data`. –≠—Ç–æ –∑–Ω–∞—á–∏—Ç: "–û–±–Ω–æ–≤–∏ –æ–±—ä–µ–∫—Ç `toy` –¥–∞–Ω–Ω—ã–º–∏ –∏–∑ –∑–∞–ø—Ä–æ—Å–∞".

‚Äî –ê –µ—Å–ª–∏ —è —Ö–æ—á—É –∏–∑–º–µ–Ω–∏—Ç—å —Ç–æ–ª—å–∫–æ —Ü–µ–Ω—É, –∞ –Ω–µ –≤—Å–µ –ø–æ–ª—è? ‚Äî —Å–ø—Ä–æ—Å–∏–ª –í–∏–Ω–Ω–∏-–ü—É—Ö üêª.

‚Äî –î–ª—è —ç—Ç–æ–≥–æ –µ—Å—Ç—å –æ—Ç–¥–µ–ª—å–Ω—ã–π –º–µ—Ç–æ–¥:

```python
    def partial_update(self, request, pk=None):
        """PATCH /toys/5/ - —á–∞—Å—Ç–∏—á–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å –∏–≥—Ä—É—à–∫—É —Å ID=5"""
        toy = self.get_object()
        serializer = self.get_serializer(toy, data=request.data, partial=True)
        serializer.is_valid(raise_exception=True)
        serializer.save()
        return Response(serializer.data)
```

‚Äî **`partial_update`** ‚Äî –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏ **PATCH-–∑–∞–ø—Ä–æ—Å–µ**. –ö–ª—é—á–µ–≤–æ–µ –æ—Ç–ª–∏—á–∏–µ ‚Äî –ø–∞—Ä–∞–º–µ—Ç—Ä `partial=True`! –û–Ω –≥–æ–≤–æ—Ä–∏—Ç —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ç–æ—Ä—É: "–ù–µ —Ç—Ä–µ–±—É–π –≤—Å–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è, –æ–±—Ä–∞–±–æ—Ç–∞–π —Ç–æ–ª—å–∫–æ —Ç–µ, —á—Ç–æ –ø—Ä–∏—à–ª–∏ –≤ –∑–∞–ø—Ä–æ—Å–µ". ‚úÇÔ∏è

‚Äî –¢–æ –µ—Å—Ç—å –¥–ª—è PATCH —è –º–æ–≥—É –æ—Ç–ø—Ä–∞–≤–∏—Ç—å —Ç–æ–ª—å–∫–æ `{"price": "150"}`, –∞ –¥–ª—è PUT –Ω—É–∂–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å **–í–°–ï** –ø–æ–ª—è –∏–≥—Ä—É—à–∫–∏? ‚Äî —É—Ç–æ—á–Ω–∏–ª –ö—Ä–æ–ª–∏–∫ üêá.

‚Äî –¢–æ—á–Ω–æ! ‚Äî –ø–æ–¥—Ç–≤–µ—Ä–¥–∏–ª –§–∏–ª–∏–Ω ü¶â. ‚Äî –ò –ø–æ—Å–ª–µ–¥–Ω–∏–π –º–µ—Ç–æ–¥:

```python
    def destroy(self, request, pk=None):
        """DELETE /toys/5/ - —É–¥–∞–ª–∏—Ç—å –∏–≥—Ä—É—à–∫—É —Å ID=5"""
        toy = self.get_object()
        toy.delete()  # –£–¥–∞–ª—è–µ—Ç –∏–∑ –±–∞–∑—ã
        return Response(status=204)
```

‚Äî **`destroy`** ‚Äî –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏ **DELETE-–∑–∞–ø—Ä–æ—Å–µ** –Ω–∞ `/toys/5/`. –û–Ω –ø—Ä–æ—Å—Ç–æ –Ω–∞—Ö–æ–¥–∏—Ç –æ–±—ä–µ–∫—Ç –∏ —É–¥–∞–ª—è–µ—Ç –µ–≥–æ –∏–∑ –±–∞–∑—ã. üóëÔ∏è

‚Äî **`Response(status=204)`** ‚Äî –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø—É—Å—Ç–æ–π –æ—Ç–≤–µ—Ç —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º **204 "–ù–µ—Ç —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ"** (—É–¥–∞–ª–µ–Ω–∏–µ –ø—Ä–æ—à–ª–æ —É—Å–ø–µ—à–Ω–æ, –Ω–æ –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å –Ω–µ—á–µ–≥–æ). üóëÔ∏è‚úÖ

‚Äî –£—Ö —Ç—ã! ‚Äî –≤–æ—Å–∫–ª–∏–∫–Ω—É–ª –í–∏–Ω–Ω–∏-–ü—É—Ö üêª. ‚Äî –ó–Ω–∞—á–∏—Ç, –∫–æ–≥–¥–∞ —è –ø–∏—à—É –ø—Ä–æ—Å—Ç–æ `ModelViewSet`, DRF —Å–∞–º —Å–æ–∑–¥–∞—ë—Ç –≤—Å–µ —ç—Ç–∏ –±–æ–ª—å—à–∏–µ –º–µ—Ç–æ–¥—ã?

‚Äî –ò–º–µ–Ω–Ω–æ! ‚Äî –ø–æ–¥—Ç–≤–µ—Ä–¥–∏–ª –§–∏–ª–∏–Ω ü¶â. ‚Äî –¢–µ–±–µ –Ω–µ –Ω—É–∂–Ω–æ –ø–∏—Å–∞—Ç—å –≤—Å—ë —ç—Ç–æ –≤—Ä—É—á–Ω—É—é! –¢—ã –ø—Ä–æ—Å—Ç–æ –≥–æ–≤–æ—Ä–∏—à—å: ¬´–í–æ—Ç –º–æ–¥–µ–ª—å, –≤–æ—Ç —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ç–æ—Ä¬ª, –∞ DRF –¥–µ–ª–∞–µ—Ç –≤—Å—ë –æ—Å—Ç–∞–ª—å–Ω–æ–µ! ‚ú®

‚Äî –ù–æ –∫–∞–∫ Django –ø–æ–Ω–∏–º–∞–µ—Ç, –∫—É–¥–∞ –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å –∑–∞–ø—Ä–æ—Å—ã? ‚Äî —Å–ø—Ä–æ—Å–∏–ª –í–∏–Ω–Ω–∏-–ü—É—Ö üêª. ‚Äî –ì–¥–µ –≥–æ–≤–æ—Ä–∏—Ç—Å—è, —á—Ç–æ `GET /toys/` –¥–æ–ª–∂–µ–Ω –≤—ã–∑—ã–≤–∞—Ç—å `list()`, –∞ `GET /toys/5/` ‚Äî `retrieve()`?

‚Äî –ê –≤–æ—Ç –¥–ª—è —ç—Ç–æ–≥–æ –Ω—É–∂–Ω—ã URL! ‚Äî —Å–∫–∞–∑–∞–ª –§–∏–ª–∏–Ω ü¶â. ‚Äî –ò –∑–¥–µ—Å—å –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è –µ—â—ë –æ–¥–Ω–∞ –º–∞–≥–∏—è DRF ‚Äî **—Ä–æ—É—Ç–µ—Ä—ã**! üß≠

**–ú–∞–≥–∏—è URL: –∫–∞–∫ ModelViewSet —Å–≤—è–∑—ã–≤–∞–µ—Ç—Å—è —Å –∞–¥—Ä–µ—Å–∞–º–∏ üåê**

‚Äî –í –æ–±—ã—á–Ω–æ–º Django –º—ã –±—ã –ø–∏—Å–∞–ª–∏ –≤ `urls.py` —á—Ç–æ-—Ç–æ –≤—Ä–æ–¥–µ:

```python
from django.urls import path
from .views import toy_list, toy_detail  # –û—Ç–¥–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –¥–µ–π—Å—Ç–≤–∏—è

urlpatterns = [
    path('toys/', toy_list),  # –î–ª—è —Å–ø–∏—Å–∫–∞
    path('toys/<int:pk>/', toy_detail),  # –î–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –∏–≥—Ä—É—à–∫–∏
]
```

‚Äî –ù–æ –¥–ª—è `ViewSet` —ç—Ç–æ –Ω–µ—É–¥–æ–±–Ω–æ ‚Äî —É –Ω–∞—Å –æ–¥–∏–Ω –∫–ª–∞—Å—Å, –∞ –Ω–µ –º–Ω–æ–≥–æ —Ñ—É–Ω–∫—Ü–∏–π! –ü–æ—ç—Ç–æ–º—É DRF –ø—Ä–∏–¥—É–º–∞–ª **—Ä–æ—É—Ç–µ—Ä—ã**, ‚Äî –æ–±—ä—è—Å–Ω–∏–ª –§–∏–ª–∏–Ω ü¶â.

‚Äî –°–º–æ—Ç—Ä–∏—Ç–µ, –∫–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:

```python
# urls.py
from django.urls import path, include
from rest_framework.routers import DefaultRouter
from .views import ToyViewSet

router = DefaultRouter()
router.register(r'toys', ToyViewSet)  # –†–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ–º ViewSet

urlpatterns = [
    path('api/', include(router.urls)),  # –í–∫–ª—é—á–∞–µ–º –≤—Å–µ URL
]
```

‚Äî –ü–æ–¥–æ–∂–¥–∏-–ø–æ–¥–æ–∂–¥–∏! ‚Äî –æ—Å—Ç–∞–Ω–æ–≤–∏–ª –ö—Ä–æ–ª–∏–∫ üêá. ‚Äî –Ø –Ω–∏—á–µ–≥–æ –Ω–µ –ø–æ–Ω—è–ª! –ß—Ç–æ —Ç–∞–∫–æ–µ `DefaultRouter()`? –ò —á—Ç–æ –¥–µ–ª–∞–µ—Ç `router.register()`? –û–±—ä—è—Å–Ω–∏ –ø–æ–¥—Ä–æ–±–Ω–µ–µ!

‚Äî –ö–æ–Ω–µ—á–Ω–æ! ‚Äî —Ç–µ—Ä–ø–µ–ª–∏–≤–æ –æ—Ç–≤–µ—Ç–∏–ª –§–∏–ª–∏–Ω ü¶â. ‚Äî –î–∞–≤–∞–π—Ç–µ —Ä–∞–∑–±–µ—Ä–µ–º –ø–æ —Å—Ç—Ä–æ—á–∫–∞–º.

1.  **`router = DefaultRouter()`** ‚Äî –º—ã —Å–æ–∑–¥–∞—ë–º –æ–±—ä–µ–∫—Ç "–º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ç–æ—Ä–∞". –ü—Ä–µ–¥—Å—Ç–∞–≤—å –µ–≥–æ –∫–∞–∫ –¥–∏—Å–ø–µ—Ç—á–µ—Ä–∞ –Ω–∞ –≤—Ö–æ–¥–µ –≤ –±–æ–ª—å—à–æ–π –æ—Ñ–∏—Å–Ω—ã–π —Ü–µ–Ω—Ç—Ä. –£ –Ω–µ–≥–æ –µ—Å—Ç—å —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –∫–æ–º–Ω–∞—Ç (`ViewSet`) –∏ –æ–Ω –∑–Ω–∞–µ—Ç, –∫—É–¥–∞ –∫–æ–≥–æ –Ω–∞–ø—Ä–∞–≤–≤–∞—Ç—å.
2.  **`router.register(r'toys', ToyViewSet)`** ‚Äî —ç—Ç–æ —Å–∞–º–∞—è –≤–∞–∂–Ω–∞—è —Å—Ç—Ä–æ—á–∫–∞! –ó–¥–µ—Å—å –º—ã –≥–æ–≤–æ—Ä–∏–º —Ä–æ—É—Ç–µ—Ä—É:
    *   `r'toys'` ‚Äî "–∏—Å–ø–æ–ª—å–∑—É–π –ø—Ä–µ—Ñ–∏–∫—Å `toys` –≤ URL"
    *   `ToyViewSet` ‚Äî "–≤–æ—Ç –∫–ª–∞—Å—Å, –∫–æ—Ç–æ—Ä—ã–π –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∑–∞–ø—Ä–æ—Å—ã"

‚Äî –ê —á—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç –±—É–∫–≤–∞ `r` –ø–µ—Ä–µ–¥ —Å—Ç—Ä–æ–∫–æ–π? ‚Äî —Å–ø—Ä–æ—Å–∏–ª –ü—è—Ç–∞—á–æ–∫ üê∑.

‚Äî **`r'toys'`** –æ–∑–Ω–∞—á–∞–µ—Ç "—Å—ã—Ä–∞—è —Å—Ç—Ä–æ–∫–∞" (raw string), ‚Äî –æ–±—ä—è—Å–Ω–∏–ª –§–∏–ª–∏–Ω ü¶â. ‚Äî –í Python –æ–±—Ä–∞—Ç–Ω—ã–π —Å–ª—ç—à `\` –∏–º–µ–µ—Ç –æ—Å–æ–±–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ. –ù–∞–ø—Ä–∏–º–µ—Ä, `\n` –æ–∑–Ω–∞—á–∞–µ—Ç –ø–µ—Ä–µ–Ω–æ—Å —Å—Ç—Ä–æ–∫–∏. –ê –≤ URL —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Å–ª—ç—à–∏. –ß—Ç–æ–±—ã Python –Ω–µ –ø—ã—Ç–∞–ª—Å—è –ø–æ–Ω—è—Ç—å `\t` –≤ `'toys'` –∫–∞–∫ —Å–∏–º–≤–æ–ª —Ç–∞–±—É–ª—è—Ü–∏–∏, –º—ã –ø–∏—à–µ–º `r'toys'` ‚Äî —ç—Ç–æ –∑–Ω–∞—á–∏—Ç "–æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–π —Å—Ç—Ä–æ–∫—É –∫–∞–∫ –µ—Å—Ç—å, –±–µ–∑ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã—Ö —Å–∏–º–≤–æ–ª–æ–≤".

‚Äî –ò —á—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –¥–∞–ª—å—à–µ? ‚Äî —Å–ø—Ä–æ—Å–∏–ª –í–∏–Ω–Ω–∏-–ü—É—Ö üêª.

‚Äî –ö–æ–≥–¥–∞ –º—ã –≤—ã–∑—ã–≤–∞–µ–º `router.register()`, —Ä–æ—É—Ç–µ—Ä –¥–µ–ª–∞–µ—Ç –≤–æ—Ç —á—Ç–æ:

1.  –ë–µ—Ä–µ—Ç `ToyViewSet` –∏ —Å–º–æ—Ç—Ä–∏—Ç, –∫–∞–∫–∏–µ –¥–µ–π—Å—Ç–≤–∏—è (`actions`) –æ–Ω –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç (—ç—Ç–æ `list`, `retrieve`, `create`, `update`, `partial_update`, `destroy`)
2.  –î–ª—è –∫–∞–∂–¥–æ–≥–æ –¥–µ–π—Å—Ç–≤–∏—è —Å–æ–∑–¥–∞—ë—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π URL:
    *   `toys/` ‚Üí `list` (GET) –∏ `create` (POST)
    *   `toys/{pk}/` ‚Üí `retrieve` (GET), `update` (PUT), `partial_update` (PATCH), `destroy` (DELETE)

3.  **`path('api/', include(router.urls))`** ‚Äî –∞ –∑–¥–µ—Å—å –º—ã –≥–æ–≤–æ—Ä–∏–º Django:
    *   "–í—Å–µ URL, –∫–æ—Ç–æ—Ä—ã–µ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–ª —Ä–æ—É—Ç–µ—Ä, —Ä–∞–∑–º–µ—Å—Ç–∏ –ø–æ–¥ –ø—Ä–µ—Ñ–∏–∫—Å–æ–º `api/`"
    *   `include(router.urls)` ‚Äî –∑–Ω–∞—á–∏—Ç "–≤–∫–ª—é—á–∏ —Å—é–¥–∞ **–í–°–ï** URL –∏–∑ —Ä–æ—É—Ç–µ—Ä–∞"

‚Äî –í –∏—Ç–æ–≥–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞—é—Ç—Å—è —Ç–∞–∫–∏–µ URL:
    *   `GET /api/toys/` ‚Üí —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –∏–≥—Ä—É—à–µ–∫
    *   `POST /api/toys/` ‚Üí —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é –∏–≥—Ä—É—à–∫—É
    *   `GET /api/toys/5/` ‚Üí –ø–æ–ª—É—á–∏—Ç—å –∏–≥—Ä—É—à–∫—É —Å ID=5
    *   `PUT /api/toys/5/` ‚Üí –ø–æ–ª–Ω–æ—Å—Ç—å—é –∑–∞–º–µ–Ω–∏—Ç—å –∏–≥—Ä—É—à–∫—É —Å ID=5
    *   `PATCH /api/toys/5/` ‚Üí —á–∞—Å—Ç–∏—á–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å –∏–≥—Ä—É—à–∫—É —Å ID=5
    *   `DELETE /api/toys/5/` ‚Üí —É–¥–∞–ª–∏—Ç—å –∏–≥—Ä—É—à–∫—É —Å ID=5

‚Äî –í–æ—Ç —ç—Ç–æ –º–∞–≥–∏—è! ‚Äî –≤–æ—Å—Ö–∏—Ç–∏–ª—Å—è –ü—è—Ç–∞—á–æ–∫ üê∑.

‚Äî –ù–µ –º–∞–≥–∏—è, –∞ —É–º–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞! ‚Äî —É–ª—ã–±–Ω—É–ª—Å—è –§–∏–ª–∏–Ω ü¶â. ‚Äî –†–æ—É—Ç–µ—Ä—ã —ç–∫–æ–Ω–æ–º—è—Ç –∫—É—á—É –≤—Ä–µ–º–µ–Ω–∏ –∏ –∏—Å–∫–ª—é—á–∞—é—Ç –æ—à–∏–±–∫–∏ –≤ URL! ‚è∞‚úÖ

**–ü–æ–¥–∫–ª—é—á–∞–µ–º —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –≤ ViewSet üîê**

‚Äî –¢–µ–ø–µ—Ä—å –≤–µ—Ä–Ω—ë–º—Å—è –∫ –Ω–∞—à–∏–º —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è–º, ‚Äî —Å–∫–∞–∑–∞–ª –§–∏–ª–∏–Ω ü¶â. ‚Äî –ü–æ–º–Ω–∏—Ç–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ `IsOwner`, –∫–æ—Ç–æ—Ä–æ–µ –º—ã —Å–æ–∑–¥–∞–ª–∏? –î–∞–≤–∞–π—Ç–µ –ø—Ä–∏–º–µ–Ω–∏–º –µ–≥–æ –≤ ViewSet –¥–ª—è –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤.

```python
# views.py
from rest_framework.viewsets import ModelViewSet
from rest_framework.permissions import IsAuthenticated
from .models import Comment
from .serializers import CommentSerializer
from .permissions import IsOwner

class CommentViewSet(ModelViewSet):
    """
    –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è–º–∏.
    –ß–∏—Ç–∞—Ç—å –º–æ–≥—É—Ç –≤—Å–µ, –∏–∑–º–µ–Ω—è—Ç—å ‚Äî —Ç–æ–ª—å–∫–æ –≤–ª–∞–¥–µ–ª—å—Ü—ã. üëÄüëë
    """
    queryset = Comment.objects.all()
    serializer_class = CommentSerializer
    
    def get_permissions(self):
        """
        –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –º–µ–Ω—è–µ–º —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –¥–µ–π—Å—Ç–≤–∏—è. üé≠
        """
        # –î–ª—è –º–µ—Ç–æ–¥–æ–≤, –∏–∑–º–µ–Ω—è—é—â–∏—Ö –æ–±—ä–µ–∫—Ç (update, partial_update, destroy)
        # –ø—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å ‚Äî –≤–ª–∞–¥–µ–ª–µ—Ü
        if self.action in ['update', 'partial_update', 'destroy']:
            return [IsAuthenticated(), IsOwner()]
        # –î–ª—è –æ—Å—Ç–∞–ª—å–Ω—ã—Ö –º–µ—Ç–æ–¥–æ–≤ (list, retrieve, create) –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
        return [IsAuthenticated()]
```

‚Äî –û–π! ‚Äî –∑–∞–ø–∏—â–∞–ª –ü—è—Ç–∞—á–æ–∫ üê∑. ‚Äî –ß—Ç–æ —Ç–∞–∫–æ–µ `self.action`? –ò –ø–æ—á–µ–º—É –¥–ª—è –æ–¥–Ω–∏—Ö –¥–µ–π—Å—Ç–≤–∏–π –æ–¥–Ω–∏ –ø—Ä–∞–≤–∏–ª–∞, –∞ –¥–ª—è –¥—Ä—É–≥–∏—Ö ‚Äî –¥—Ä—É–≥–∏–µ?

‚Äî **`self.action`** ‚Äî —ç—Ç–æ –≤–æ–ª—à–µ–±–Ω–∞—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è, –∫–æ—Ç–æ—Ä—É—é `ViewSet` —Å–∞–º –∑–∞–ø–æ–ª–Ω—è–µ—Ç –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ç–æ–≥–æ, –∫–∞–∫–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è! ‚Äî –æ–±—ä—è—Å–Ω–∏–ª –§–∏–ª–∏–Ω ü¶â. ‚Äî –ö–æ–≥–¥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å:
    *   –î–µ–ª–∞–µ—Ç `GET /comments/` ‚Äî `self.action = 'list'` (—Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö)
    *   –î–µ–ª–∞–µ—Ç `GET /comments/5/` ‚Äî `self.action = 'retrieve'` (–ø–æ–ª—É—á–∏—Ç—å –æ–¥–∏–Ω)
    *   –î–µ–ª–∞–µ—Ç `POST /comments/` ‚Äî `self.action = 'create'` (—Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π)
    *   –î–µ–ª–∞–µ—Ç `PUT /comments/5/` ‚Äî `self.action = 'update'` (–∏–∑–º–µ–Ω–∏—Ç—å)
    *   –î–µ–ª–∞–µ—Ç `DELETE /comments/5/` ‚Äî `self.action = 'destroy'` (—É–¥–∞–ª–∏—Ç—å)

‚Äî –í –Ω–∞—à–µ–º –∫–æ–¥–µ –º—ã –≥–æ–≤–æ—Ä–∏–º: ¬´–î–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è –∏ —É–¥–∞–ª–µ–Ω–∏—è (`update`, `destroy`) –Ω—É–∂–Ω–∞ –Ω–µ –ø—Ä–æ—Å—Ç–æ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è, –Ω–æ –∏ –ø—Ä–æ–≤–µ—Ä–∫–∞, —á—Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å ‚Äî –≤–ª–∞–¥–µ–ª–µ—Ü! –ê –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –∏ —Å–æ–∑–¥–∞–Ω–∏—è ‚Äî –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø—Ä–æ—Å—Ç–æ –≤–æ–π—Ç–∏ –≤ —Å–∏—Å—Ç–µ–º—É¬ª.

‚Äî –ü–æ–¥–æ–∂–¥–∏! ‚Äî –æ—Å—Ç–∞–Ω–æ–≤–∏–ª –ö—Ä–æ–ª–∏–∫ üêá. ‚Äî –Ø –≤–∏–∂—É –∑–¥–µ—Å—å `return [IsAuthenticated(), IsOwner()]`. –ü–æ—á–µ–º—É –∑–¥–µ—Å—å —Å–∫–æ–±–∫–∏? `IsAuthenticated` –∏ `IsOwner` ‚Äî —ç—Ç–æ –∂–µ –∫–ª–∞—Å—Å—ã, –∞ –Ω–µ —Ñ—É–Ω–∫—Ü–∏–∏! –ó–∞—á–µ–º –º—ã –∏—Ö –≤—ã–∑—ã–≤–∞–µ–º –∫–∞–∫ —Ñ—É–Ω–∫—Ü–∏–∏?

‚Äî –û—Ç–ª–∏—á–Ω–µ–π—à–∏–π –≤–æ–ø—Ä–æ—Å, –ö—Ä–æ–ª–∏–∫! ‚Äî –≤–æ—Å—Ö–∏—Ç–∏–ª—Å—è –§–∏–ª–∏–Ω ü¶â. ‚Äî –¢—ã –ø–æ–¥–º–µ—Ç–∏–ª –æ—á–µ–Ω—å –≤–∞–∂–Ω—É—é –¥–µ—Ç–∞–ª—å!

‚Äî `IsAuthenticated` –∏ `IsOwner` ‚Äî —ç—Ç–æ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –∫–ª–∞—Å—Å—ã. –ù–æ –∫–æ–≥–¥–∞ –º—ã –ø–∏—à–µ–º `IsAuthenticated()` —Å–æ —Å–∫–æ–±–∫–∞–º–∏ ‚Äî –º—ã —Å–æ–∑–¥–∞—ë–º **—ç–∫–∑–µ–º–ø–ª—è—Ä (instance)** —ç—Ç–æ–≥–æ –∫–ª–∞—Å—Å–∞!

‚Äî –ü—Ä–µ–¥—Å—Ç–∞–≤—å, —á—Ç–æ –∫–ª–∞—Å—Å ‚Äî —ç—Ç–æ —á–µ—Ä—Ç—ë–∂ –¥–æ–º–∞, –∞ —ç–∫–∑–µ–º–ø–ª—è—Ä ‚Äî —ç—Ç–æ –ø–æ—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –ø–æ —ç—Ç–æ–º—É —á–µ—Ä—Ç–µ–∂—É —Ä–µ–∞–ª—å–Ω—ã–π –¥–æ–º. üè†üìê
    *   `IsAuthenticated` ‚Äî —ç—Ç–æ —á–µ—Ä—Ç—ë–∂ —Å—Ç—Ä–∞–∂–∞ üìê
    *   `IsAuthenticated()` ‚Äî —ç—Ç–æ —Ä–µ–∞–ª—å–Ω—ã–π —Å—Ç—Ä–∞–∂, —Å—Ç–æ—è—â–∏–π –Ω–∞ –ø–æ—Å—Ç—É üëÆ

‚Äî DRF –æ–∂–∏–¥–∞–µ—Ç –ø–æ–ª—É—á–∏—Ç—å –Ω–µ —á–µ—Ä—Ç—ë–∂, –∞ —Ä–µ–∞–ª—å–Ω–æ–≥–æ —Å—Ç—Ä–∞–∂–∞! –ü–æ—ç—Ç–æ–º—É –º—ã –¥–æ–ª–∂–Ω—ã —Å–æ–∑–¥–∞—Ç—å —ç–∫–∑–µ–º–ø–ª—è—Ä –∫–ª–∞—Å—Å–∞, –≤—ã–∑–≤–∞–≤ –µ–≥–æ —Å–æ —Å–∫–æ–±–∫–∞–º–∏.

‚Äî –ù–æ –ø–æ—á–µ–º—É —Ç–æ–≥–¥–∞ –≤ `permission_classes = [IsEmailVerified]` –º—ã –Ω–µ —Å—Ç–∞–≤–∏–º —Å–∫–æ–±–∫–∏? ‚Äî —Å–ø—Ä–æ—Å–∏–ª –í–∏–Ω–Ω–∏-–ü—É—Ö üêª.

‚Äî –ï—â—ë –ª—É—á—à–µ! ‚Äî —Å–∫–∞–∑–∞–ª –§–∏–ª–∏–Ω ü¶â. ‚Äî –í `permission_classes` DRF —Å–∞–º —Å–æ–∑–¥–∞—ë—Ç —ç–∫–∑–µ–º–ø–ª—è—Ä—ã! –¢—ã –ø—Ä–æ—Å—Ç–æ –ø–µ—Ä–µ–¥–∞—ë—à—å –∫–ª–∞—Å—Å—ã, –∞ DRF —Å–∞–º –∏—Ö "–æ–∂–∏–≤–ª—è–µ—Ç". –ê –≤–æ—Ç –≤ –º–µ—Ç–æ–¥–µ `get_permissions()` —Ç—ã –¥–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å —É–∂–µ –≥–æ—Ç–æ–≤—ã–µ, "–æ–∂–∏–≤–ª—ë–Ω–Ω—ã–µ" –æ–±—ä–µ–∫—Ç—ã!

‚Äî –≠—Ç–æ –∫–∞–∫ —Ä–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É:
    *   "–ü—Ä–∏—à–ª–∏—Ç–µ –º–Ω–µ —á–µ—Ä—Ç—ë–∂ —Å—Ç—Ä–∞–∂–∞" (DRF —Å–∞–º –ø–æ—Å—Ç—Ä–æ–∏—Ç —Å—Ç—Ä–∞–∂–∞)
    *   "–ü—Ä–∏—à–ª–∏—Ç–µ –º–Ω–µ –≥–æ—Ç–æ–≤–æ–≥–æ —Å—Ç—Ä–∞–∂–∞" (—Ç—ã –¥–æ–ª–∂–µ–Ω —Å–∞–º –ø–æ—Å—Ç—Ä–æ–∏—Ç—å –∏ –ø—Ä–∏—Å–ª–∞—Ç—å)

‚Äî –ü–æ–Ω—è—Ç–Ω–æ! ‚Äî —Å–∫–∞–∑–∞–ª –ö—Ä–æ–ª–∏–∫ üêá. ‚Äî –í `permission_classes` DRF —Å–∞–º –≤—ã–∑—ã–≤–∞–µ—Ç –Ω–∞—à–∏ –∫–ª–∞—Å—Å—ã, –∞ –≤ `get_permissions()` –º—ã –¥–æ–ª–∂–Ω—ã –≤—ã–∑–≤–∞—Ç—å –∏—Ö —Å–∞–º–∏!

‚Äî –¢–æ—á–Ω–æ! ‚Äî –ø–æ–¥—Ç–≤–µ—Ä–¥–∏–ª –§–∏–ª–∏–Ω ü¶â. ‚Äî –û–±—ã—á–Ω–æ –∏—Å–ø–æ–ª—å–∑—É—é—Ç `permission_classes`, –Ω–æ –µ—Å–ª–∏ –Ω—É–∂–Ω–∞ —Å–ª–æ–∂–Ω–∞—è –ª–æ–≥–∏–∫–∞ (–∫–∞–∫ —É –Ω–∞—Å ‚Äî —Ä–∞–∑–Ω—ã–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π), —Ç–æ –∏—Å–ø–æ–ª—å–∑—É—é—Ç `get_permissions()`.

‚Äî –ù–æ –∫–∞–∫ —Å–∏—Å—Ç–µ–º–∞ —É–∑–Ω–∞–µ—Ç, –∫—Ç–æ –≤–ª–∞–¥–µ–ª–µ—Ü –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è? ‚Äî —Å–ø—Ä–æ—Å–∏–ª –ö—Ä–æ–ª–∏–∫ üêá.

‚Äî –ü–æ–º–Ω–∏—à—å —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ `IsOwner`? –û–Ω–æ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç `obj.user == request.user`! ‚Äî –Ω–∞–ø–æ–º–Ω–∏–ª –§–∏–ª–∏–Ω ü¶â. ‚Äî –ö–æ–≥–¥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø—ã—Ç–∞–µ—Ç—Å—è –∏–∑–º–µ–Ω–∏—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Å `ID=5`, —Å–∏—Å—Ç–µ–º–∞:
    1.  –ù–∞—Ö–æ–¥–∏—Ç —ç—Ç–æ—Ç –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –≤ –±–∞–∑–µ üîç
    2.  –ü–µ—Ä–µ–¥–∞—ë—Ç –µ–≥–æ –≤ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ `IsOwner` –∫–∞–∫ –ø–∞—Ä–∞–º–µ—Ç—Ä `obj`
    3.  `IsOwner` —Å—Ä–∞–≤–Ω–∏–≤–∞–µ—Ç `obj.user` (–∞–≤—Ç–æ—Ä –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è) —Å `request.user` (–∫—Ç–æ –¥–µ–ª–∞–µ—Ç –∑–∞–ø—Ä–æ—Å)
    4.  –ï—Å–ª–∏ —ç—Ç–æ –æ–¥–∏–Ω –∏ —Ç–æ—Ç –∂–µ —á–µ–ª–æ–≤–µ–∫ ‚Äî —Ä–∞–∑—Ä–µ—à–∞–µ—Ç –¥–æ—Å—Ç—É–ø ‚úÖ

**–¢–µ—Å—Ç–∏—Ä—É–µ–º –Ω–∞—à–∏ –∫–∞—Å—Ç–æ–º–Ω—ã–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è üß™**

‚Äî –ß—Ç–æ–±—ã —É–±–µ–¥–∏—Ç—å—Å—è –≤ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π —Ä–∞–±–æ—Ç–µ –∫–∞—Å—Ç–æ–º–Ω—ã—Ö —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–π, –≤–∞–∂–Ω–æ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –∏—Ö, ‚Äî —Å–∫–∞–∑–∞–ª –§–∏–ª–∏–Ω ü¶â. ‚Äî –î–∞–≤–∞–π—Ç–µ –Ω–∞–ø–∏—à–µ–º —Ç–µ—Å—Ç—ã, –Ω–æ —Å–Ω–∞—á–∞–ª–∞ —Ä–∞–∑–±–µ—Ä–µ–º—Å—è, –∫–∞–∫ –≤–æ–æ–±—â–µ –ø–∏—à—É—Ç—Å—è —Ç–µ—Å—Ç—ã –≤ Django.

```python
# tests.py ‚Äî —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞—à–∏—Ö –ø—Ä–∞–≤–∏–ª
from django.test import TestCase
from rest_framework.test import APIClient
from django.contrib.auth.models import User
from .models import Post

class PermissionTests(TestCase):
    
    def setUp(self):
        """
        –≠—Ç–æ—Ç –º–µ—Ç–æ–¥ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –ü–ï–†–ï–î –ö–ê–ñ–î–´–ú —Ç–µ—Å—Ç–æ–º.
        –ó–¥–µ—Å—å –º—ã –≥–æ—Ç–æ–≤–∏–º –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –¥–∞–Ω–Ω—ã–µ. üß™
        """
        # –°–æ–∑–¥–∞—ë–º —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –∫–ª–∏–µ–Ω—Ç–∞ - –æ–Ω —É–º–µ–µ—Ç –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å HTTP-–∑–∞–ø—Ä–æ—Å—ã
        self.client = APIClient()
        
        # –°–æ–∑–¥–∞—ë–º –æ–±—ã—á–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
        self.user = User.objects.create_user(
            username="testuser",
            password="password",
            email="test@example.com"
        )
```

‚Äî –°—Ç–æ–ø! ‚Äî —Å–∫–∞–∑–∞–ª –ü—è—Ç–∞—á–æ–∫ üê∑. ‚Äî –ß—Ç–æ —Ç–∞–∫–æ–µ `setUp`? –ò –∑–∞—á–µ–º –Ω–∞–º `APIClient`?

‚Äî **`setUp`** ‚Äî —ç—Ç–æ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π –º–µ—Ç–æ–¥, –∫–æ—Ç–æ—Ä—ã–π Django –∑–∞–ø—É—Å–∫–∞–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ **–ø–µ—Ä–µ–¥ –ö–ê–ñ–î–´–ú —Ç–µ—Å—Ç–æ–º** –≤ –∫–ª–∞—Å—Å–µ, ‚Äî –æ–±—ä—è—Å–Ω–∏–ª –§–∏–ª–∏–Ω ü¶â. ‚Äî –û–Ω –Ω—É–∂–µ–Ω, —á—Ç–æ–±—ã –ø–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å —á–∏—Å—Ç—ã–µ, –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ —É—Å–ª–æ–≤–∏—è –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ç–µ—Å—Ç–∞. –ü—Ä–µ–¥—Å—Ç–∞–≤—å, —á—Ç–æ –ø–µ—Ä–µ–¥ –∫–∞–∂–¥—ã–º —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–æ–º —Ç—ã –º–æ–µ—à—å –ø—Ä–æ–±–∏—Ä–∫–∏ –∏ –≥–æ—Ç–æ–≤–∏—à—å —Å–≤–µ–∂–∏–µ –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç—ã! üß´

‚Äî –ê **`APIClient`** ‚Äî —ç—Ç–æ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π —Ç–µ—Å—Ç–æ–≤—ã–π –∫–ª–∏–µ–Ω—Ç –æ—Ç DRF. –û–Ω —É–º–µ–µ—Ç:
    *   –û—Ç–ø—Ä–∞–≤–ª—è—Ç—å –∑–∞–ø—Ä–æ—Å—ã –∫ –Ω–∞—à–µ–º—É API (`get`, `post`, `put`, `delete`)
    *   –ê–≤—Ç–æ—Ä–∏–∑–æ–≤—ã–≤–∞—Ç—å—Å—è –∫–∞–∫ —Ä–∞–∑–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ (`force_authenticate`)
    *   –ü—Ä–æ–≤–µ—Ä—è—Ç—å –æ—Ç–≤–µ—Ç—ã

‚Äî –≠—Ç–æ –∫–∞–∫ –±—ã –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π –±—Ä–∞—É–∑–µ—Ä –¥–ª—è —Ç–µ—Å—Ç–æ–≤! ‚Äî –¥–æ–±–∞–≤–∏–ª –§–∏–ª–∏–Ω ü¶â.

‚Äî –ü—Ä–æ–¥–æ–ª–∂–∏–º –ø–æ–¥–≥–æ—Ç–æ–≤–∫—É, ‚Äî —Å–∫–∞–∑–∞–ª –æ–Ω, –ø–æ–∫–∞–∑—ã–≤–∞—è —Å–ª–µ–¥—É—é—â–∏–π –∫–æ–¥.

```python
    # –°–æ–∑–¥–∞—ë–º –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
    self.admin = User.objects.create_superuser(
        username="admin",
        password="adminpass",
        email="admin@example.com"
    )

    # –°–æ–∑–¥–∞—ë–º —Ç–µ—Å—Ç–æ–≤—ã–π –ø–æ—Å—Ç
    self.post = Post.objects.create(
        title="Test Post",
        content="Some content",
        user=self.user  # –ü–æ—Å—Ç –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∏—Ç –æ–±—ã—á–Ω–æ–º—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
    )
```

‚Äî –¢–µ–ø–µ—Ä—å —É –Ω–∞—Å –µ—Å—Ç—å:

1.  –û–±—ã—á–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å (`self.user`) üë§
2.  –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä (`self.admin`) üë®‚Äçüíº
3.  –¢–µ—Å—Ç–æ–≤—ã–π –ø–æ—Å—Ç, –∫–æ—Ç–æ—Ä—ã–π —Å–æ–∑–¥–∞–ª –æ–±—ã—á–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å (`self.post`) üìù

‚Äî –ê –æ—Ç–∫—É–¥–∞ –≤–∑—è–ª–∞—Å—å –º–æ–¥–µ–ª—å `Post`? ‚Äî —Å–ø—Ä–æ—Å–∏–ª –ö—Ä–æ–ª–∏–∫ üêá. ‚Äî –ú—ã –∂–µ –Ω–µ —Å–æ–∑–¥–∞–≤–∞–ª–∏ –µ—ë –≤ —ç—Ç–æ–π –≥–ª–∞–≤–µ!

‚Äî –ü—Ä–∞–≤–∏–ª—å–Ω–æ –∑–∞–º–µ—Ç–∏–ª! ‚Äî —Å–∫–∞–∑–∞–ª –§–∏–ª–∏–Ω ü¶â. ‚Äî –í —ç—Ç–æ–º –ø—Ä–∏–º–µ—Ä–µ —è –ø—Ä–µ–¥–ø–æ–ª–æ–∂–∏–ª, —á—Ç–æ —É –Ω–∞—Å —É–∂–µ –µ—Å—Ç—å –º–æ–¥–µ–ª—å `Post` –≥–¥–µ-—Ç–æ –≤ –ø—Ä–æ–µ–∫—Ç–µ. –í —Ä–µ–∞–ª—å–Ω–æ–º —Ç–µ—Å—Ç–µ —Ç–µ–±–µ –Ω—É–∂–Ω–æ:
    
1.  –°–æ–∑–¥–∞—Ç—å –º–æ–¥–µ–ª—å `Post` –≤ `models.py`
2.  –°–¥–µ–ª–∞—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏
3.  –ò–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –µ—ë –≤ —Ç–µ—Å—Ç

‚Äî –ù–æ –≤ —Ç–µ—Å—Ç–∞—Ö –≤–µ–¥—å –º—ã –Ω–µ —Ö–æ—Ç–∏–º –ø–æ—Ä—Ç–∏—Ç—å –Ω–∞—Å—Ç–æ—è—â—É—é –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö! ‚Äî –∏—Å–ø—É–≥–∞–ª—Å—è –ü—è—Ç–∞—á–æ–∫ üê∑.

‚Äî –ò –Ω–µ –ø–æ—Ä—Ç–∏–º! ‚Äî —É—Å–ø–æ–∫–æ–∏–ª –§–∏–ª–∏–Ω ü¶â. ‚Äî `TestCase` —Å–æ–∑–¥–∞—ë—Ç –≤—Ä–µ–º–µ–Ω–Ω—É—é —Ç–µ—Å—Ç–æ–≤—É—é –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö, –∫–æ—Ç–æ—Ä–∞—è —É–¥–∞–ª—è–µ—Ç—Å—è –ø–æ—Å–ª–µ –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤. –ù–∞—Å—Ç–æ—è—â–∞—è –±–∞–∑–∞ –æ—Å—Ç–∞—ë—Ç—Å—è –Ω–µ—Ç—Ä–æ–Ω—É—Ç–æ–π! üóÉÔ∏è‚úÖ

‚Äî –¢–µ–ø–µ—Ä—å –ø–µ—Ä–µ–π–¥—ë–º –∫ —Å–∞–º–∏–º —Ç–µ—Å—Ç–∞–º. –î–∞–≤–∞–π—Ç–µ —Ä–∞–∑–±–µ—Ä—ë–º –∏—Ö –ø–æ –æ–¥–Ω–æ–º—É, ‚Äî –ø—Ä–µ–¥–ª–æ–∂–∏–ª –§–∏–ª–∏–Ω ü¶â.

```python
    def test_owner_permission_success(self):
        """–í–ª–∞–¥–µ–ª–µ—Ü –º–æ–∂–µ—Ç —É–¥–∞–ª–∏—Ç—å —Å–≤–æ–π –ø–æ—Å—Ç"""
        # –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä—É–µ–º –∫–∞–∫ –≤–ª–∞–¥–µ–ª—å—Ü–∞
        self.client.force_authenticate(user=self.user)
        
        # –ü—ã—Ç–∞–µ–º—Å—è —É–¥–∞–ª–∏—Ç—å –ø–æ—Å—Ç
        response = self.client.delete(f"/posts/{self.post.id}/")
        
        # –î–æ–ª–∂–µ–Ω –±—ã—Ç—å —É—Å–ø–µ—Ö (204 No Content)
        self.assertEqual(response.status_code, 204)
```

‚Äî –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –≤ —ç—Ç–æ–º —Ç–µ—Å—Ç–µ? ‚Äî —Å–ø—Ä–æ—Å–∏–ª –í–∏–Ω–Ω–∏-–ü—É—Ö üêª.

‚Äî –≠—Ç–æ —Ç–µ—Å—Ç –ø—Ä–æ–≤–µ—Ä—è–µ—Ç, —á—Ç–æ **–≤–ª–∞–¥–µ–ª–µ—Ü** –ø–æ—Å—Ç–∞ **–ú–û–ñ–ï–¢** —É–¥–∞–ª–∏—Ç—å —Å–≤–æ–π –ø–æ—Å—Ç, ‚Äî –æ–±—ä—è—Å–Ω–∏–ª –§–∏–ª–∏–Ω ü¶â. ‚Äî –î–∞–≤–∞–π—Ç–µ –ø–æ —à–∞–≥–∞–º:
    1.  `self.client.force_authenticate(user=self.user)` ‚Äî "–ø—Ä–∏—Ç–≤–æ—Ä—è–µ–º—Å—è", —á—Ç–æ —Ç–µ–∫—É—â–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å ‚Äî —ç—Ç–æ `self.user` (–≤–ª–∞–¥–µ–ª–µ—Ü –ø–æ—Å—Ç–∞) üé≠
    2.  `self.client.delete(f"/posts/{self.post.id}/")` ‚Äî –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º DELETE-–∑–∞–ø—Ä–æ—Å –Ω–∞ —É–¥–∞–ª–µ–Ω–∏–µ –ø–æ—Å—Ç–∞ üóëÔ∏è
    3.  `self.assertEqual(response.status_code, 204)` ‚Äî –ø—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ —Å—Ç–∞—Ç—É—Å –æ—Ç–≤–µ—Ç–∞ —Ä–∞–≤–µ–Ω 204 (—É—Å–ø–µ—à–Ω–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ) ‚úÖ

‚Äî –ü–æ–¥–æ–∂–¥–∏-–ø–æ–¥–æ–∂–¥–∏! ‚Äî –æ—Å—Ç–∞–Ω–æ–≤–∏–ª –í–∏–Ω–Ω–∏-–ü—É—Ö üêª. ‚Äî –Ø –≤–∏–∂—É –∑–¥–µ—Å—å `self.post.id`, –Ω–æ –æ—Ç–∫—É–¥–∞ –±–µ—Ä—ë—Ç—Å—è —ç—Ç–æ—Ç ID? –ú—ã –∂–µ –Ω–∏–≥–¥–µ –Ω–µ –≥–æ–≤–æ—Ä–∏–º "ID=5"! –ö–∞–∫ —Ç–µ—Å—Ç —É–∑–Ω–∞–µ—Ç, –∫–∞–∫–æ–π –ø–æ—Å—Ç —É–¥–∞–ª—è—Ç—å?

‚Äî –û—Ç–ª–∏—á–Ω—ã–π –≤–æ–ø—Ä–æ—Å, –í–∏–Ω–Ω–∏-–ü—É—Ö! ‚Äî —Å–∫–∞–∑–∞–ª –§–∏–ª–∏–Ω ü¶â. ‚Äî –î–∞–≤–∞–π –ø—Ä–æ–π–¥—ë–º –ø–æ —à–∞–≥–∞–º, —á—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç **–î–û** –∑–∞–ø—É—Å–∫–∞ —Ç–µ—Å—Ç–∞.

‚Äî –í –º–µ—Ç–æ–¥–µ `setUp()` –º—ã —Å–æ–∑–¥–∞—ë–º —Ä–µ–∞–ª—å–Ω—ã–π –ø–æ—Å—Ç –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö:
    ```python
    self.post = Post.objects.create(...)
    ```
‚Äî –ö–æ–≥–¥–∞ Django —Å–æ–∑–¥–∞—ë—Ç –Ω–æ–≤—ã–π –æ–±—ä–µ–∫—Ç –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö, –æ–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏—Å–≤–∞–∏–≤–∞–µ—Ç –µ–º—É —É–Ω–∏–∫–∞–ª—å–Ω—ã–π **ID**! –≠—Ç–æ –∫–∞–∫ –ø–æ—Ä—è–¥–∫–æ–≤—ã–π –Ω–æ–º–µ—Ä –≤ –æ—á–µ—Ä–µ–¥–∏: –ø–µ—Ä–≤—ã–π –ø–æ—Å—Ç –ø–æ–ª—É—á–∞–µ—Ç ID=1, –≤—Ç–æ—Ä–æ–π ‚Äî ID=2 –∏ —Ç–∞–∫ –¥–∞–ª–µ–µ. üî¢

‚Äî –¢–∞–∫ —á—Ç–æ –ø–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è `setUp()` —É `self.post.id` —É–∂–µ –µ—Å—Ç—å —Ä–µ–∞–ª—å–Ω—ã–π —á–∏—Å–ª–æ–≤–æ–π ID, –∫–æ—Ç–æ—Ä—ã–π —Å–æ–∑–¥–∞–ª–∞ –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö!

‚Äî –í —Ç–µ—Å—Ç–µ `f"/posts/{self.post.id}/"` –ø–æ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —ç—Ç–æ—Ç —Ä–µ–∞–ª—å–Ω—ã–π ID –≤ URL. –ù–∞–ø—Ä–∏–º–µ—Ä, –µ—Å–ª–∏ `self.post.id = 5`, –ø–æ–ª—É—á–∞–µ—Ç—Å—è `"/posts/5/"`.

‚Äî –ö–æ–≥–¥–∞ –º—ã –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º DELETE-–∑–∞–ø—Ä–æ—Å –Ω–∞ `/posts/5/`, Django:
    1.  –í–∏–¥–∏—Ç URL `/posts/5/`
    2.  –ü–æ–Ω–∏–º–∞–µ—Ç, —á—Ç–æ —ç—Ç–æ —à–∞–±–ª–æ–Ω `posts/<int:pk>/`
    3.  –ò–∑–≤–ª–µ–∫–∞–µ—Ç —á–∏—Å–ª–æ `5` –∏–∑ URL
    4.  –ì–æ–≤–æ—Ä–∏—Ç: "–ê–≥–∞, `pk = 5`!"
    5.  –ü–µ—Ä–µ–¥–∞—ë—Ç `pk=5` –≤ –º–µ—Ç–æ–¥ `ViewSet`

‚Äî –ò –º–µ—Ç–æ–¥ `destroy(self, request, pk=None)` –ø–æ–ª—É—á–∞–µ—Ç `pk=5`!

‚Äî –¢–∞–∫ —á—Ç–æ –Ω–∞–º –Ω–µ –Ω—É–∂–Ω–æ —É–∫–∞–∑—ã–≤–∞—Ç—å –Ω–æ–º–µ—Ä –≤—Ä—É—á–Ω—É—é! –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö —Å–∞–º–∞ –Ω–∞–∑–Ω–∞—á–∞–µ—Ç ID –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –ø–æ—Å—Ç–∞, –∞ —Ç–µ—Å—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —ç—Ç–æ—Ç —Ä–µ–∞–ª—å–Ω—ã–π ID! ‚ú®

‚Äî –û–π-–æ–π-–æ–π! ‚Äî –∑–∞–ø–∏—â–∞–ª –ü—è—Ç–∞—á–æ–∫ üê∑. ‚Äî –ß—Ç–æ —Ç–∞–∫–æ–µ `TestCase`? –¢—ã –≥–æ–≤–æ—Ä–∏–ª ¬´—É—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –¥–ª—è –ø—Ä–æ–≤–µ—Ä–æ–∫¬ª ‚Äî —á—Ç–æ —ç—Ç–æ –∑–∞ —É—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è?

‚Äî –û—Ç–ª–∏—á–Ω—ã–π –≤–æ–ø—Ä–æ—Å! ‚Äî —Å–∫–∞–∑–∞–ª –§–∏–ª–∏–Ω ü¶â. ‚Äî `TestCase` ‚Äî —ç—Ç–æ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è —Ç–µ—Å—Ç–æ–≤ –æ—Ç Django. –ê ¬´—É—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è¬ª (assertions) ‚Äî —ç—Ç–æ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã-–ø—Ä–æ–≤–µ—Ä–∫–∏! ‚úÖ

‚Äî –ü—Ä–µ–¥—Å—Ç–∞–≤—å, ‚Äî –ø—Ä–æ–¥–æ–ª–∂–∏–ª –§–∏–ª–∏–Ω ü¶â, ‚Äî —Ç—ã –≥–æ–≤–æ—Ä–∏—à—å: ¬´–Ø **–£–¢–í–ï–†–ñ–î–ê–Æ**, —á—Ç–æ –≤ –∫–æ—Ä–æ–±–∫–µ 5 –∫–æ–Ω—Ñ–µ—Ç!¬ª üç¨ –ü–æ—Ç–æ–º –æ—Ç–∫—Ä—ã–≤–∞–µ—à—å –∫–æ—Ä–æ–±–∫—É –∏ —Å—á–∏—Ç–∞–µ—à—å. –ï—Å–ª–∏ —Ç–∞–º –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ 5 –∫–æ–Ω—Ñ–µ—Ç ‚Äî —Ç–≤–æ—ë —É—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –≤–µ—Ä–Ω–æ. –ï—Å–ª–∏ 4 –∏–ª–∏ 6 ‚Äî —É—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –ª–æ–∂–Ω–æ!

‚Äî –í —Ç–µ—Å—Ç–∞—Ö –º—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º —É—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –¥–ª—è –ø—Ä–æ–≤–µ—Ä–æ–∫:
    *   `assertEqual(a, b)` ‚Äî ¬´–£—Ç–≤–µ—Ä–∂–¥–∞—é, —á—Ç–æ `a` **–†–ê–í–ù–û** `b`!¬ª
    *   `assertTrue(x)` ‚Äî ¬´–£—Ç–≤–µ—Ä–∂–¥–∞—é, —á—Ç–æ `x` ‚Äî **–ò–°–¢–ò–ù–ê**!¬ª
    *   `assertFalse(x)` ‚Äî ¬´–£—Ç–≤–µ—Ä–∂–¥–∞—é, —á—Ç–æ `x` ‚Äî **–õ–û–ñ–¨**!¬ª
    *   `assertIn(item, list)` ‚Äî ¬´–£—Ç–≤–µ—Ä–∂–¥–∞—é, —á—Ç–æ `item` **–ï–°–¢–¨ –≤ —Å–ø–∏—Å–∫–µ**!¬ª

‚Äî –ê —á—Ç–æ —Ç–∞–∫–æ–µ `self.assertEqual(response.status_code, 204)`? ‚Äî —Å–ø—Ä–æ—Å–∏–ª –í–∏–Ω–Ω–∏-–ü—É—Ö üêª.

‚Äî –≠—Ç–æ –∑–Ω–∞—á–∏—Ç: ¬´–Ø **–£–¢–í–ï–†–ñ–î–ê–Æ**, —á—Ç–æ —Å—Ç–∞—Ç—É—Å –∫–æ–¥ –æ—Ç–≤–µ—Ç–∞ **–†–ê–í–ï–ù 204**!¬ª ‚Äî –æ–±—ä—è—Å–Ω–∏–ª –§–∏–ª–∏–Ω ü¶â. ‚Äî –ï—Å–ª–∏ –æ—Ç–≤–µ—Ç –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –∏–º–µ–µ—Ç —Å—Ç–∞—Ç—É—Å 204 ‚Äî —Ç–µ—Å—Ç –ø—Ä–æ—Ö–æ–¥–∏—Ç. –ï—Å–ª–∏ –Ω–µ—Ç (–Ω–∞–ø—Ä–∏–º–µ—Ä, 403 –∏–ª–∏ 404) ‚Äî —Ç–µ—Å—Ç –ø—Ä–æ–≤–∞–ª–∏–≤–∞–µ—Ç—Å—è —Å –æ—à–∏–±–∫–æ–π! ‚ùå

‚Äî –¢–µ–ø–µ—Ä—å –≤—Ç–æ—Ä–æ–π —Ç–µ—Å—Ç, ‚Äî –ø—Ä–æ–¥–æ–ª–∂–∏–ª –§–∏–ª–∏–Ω ü¶â.

```python
    def test_admin_permission_success(self):
        """–ê–¥–º–∏–Ω –º–æ–∂–µ—Ç —É–¥–∞–ª—è—Ç—å –ª—é–±–æ–π –ø–æ—Å—Ç (–¥–∞–∂–µ –Ω–µ —Å–≤–æ–π)"""
        # –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä—É–µ–º –∫–∞–∫ –∞–¥–º–∏–Ω–∞
        self.client.force_authenticate(user=self.admin)
        
        # –ü—ã—Ç–∞–µ–º—Å—è —É–¥–∞–ª–∏—Ç—å –ø–æ—Å—Ç
        response = self.client.delete(f"/posts/{self.post.id}/")
        
        # –ê–¥–º–∏–Ω —Ç–æ–∂–µ –¥–æ–ª–∂–µ–Ω –∏–º–µ—Ç—å –¥–æ—Å—Ç—É–ø
        self.assertEqual(response.status_code, 204)
```

‚Äî –≠—Ç–æ—Ç —Ç–µ—Å—Ç –ø—Ä–æ–≤–µ—Ä—è–µ—Ç, —á—Ç–æ **–∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä** –∏–º–µ–µ—Ç –æ—Å–æ–±—ã–µ –ø—Ä–∞–≤–∞, ‚Äî –æ–±—ä—è—Å–Ω–∏–ª –§–∏–ª–∏–Ω ü¶â. ‚Äî –î–∞–∂–µ –µ—Å–ª–∏ –ø–æ—Å—Ç –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∏—Ç –¥—Ä—É–≥–æ–º—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é (`self.user`), –∞–¥–º–∏–Ω (`self.admin`) –º–æ–∂–µ—Ç –µ–≥–æ —É–¥–∞–ª–∏—Ç—å! üë®‚Äçüíº

‚Äî –ó–Ω–∞—á–∏—Ç, –∞–¥–º–∏–Ω—É –º–æ–∂–Ω–æ –≤—Å—ë? ‚Äî —Å–ø—Ä–æ—Å–∏–ª –ü—è—Ç–∞—á–æ–∫ üê∑.

‚Äî –ü–æ—á—Ç–∏ –≤—Å—ë! ‚Äî —É–ª—ã–±–Ω—É–ª—Å—è –§–∏–ª–∏–Ω ü¶â. ‚Äî –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—ã –æ–±—ã—á–Ω–æ –∏–º–µ—é—Ç –ø—Ä–∞–≤–∞ –Ω–∞ –≤—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏. –ù–æ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –ø—Ä–æ–µ–∫—Ç–µ –º–æ–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å –∏ –±–æ–ª–µ–µ —Å–ª–æ–∂–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞!

‚Äî –ò —Ç—Ä–µ—Ç–∏–π —Ç–µ—Å—Ç, ‚Äî —Å–∫–∞–∑–∞–ª –§–∏–ª–∏–Ω ü¶â.

```python
    def test_no_permission(self):
        """–ß—É–∂–æ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –º–æ–∂–µ—Ç —É–¥–∞–ª–∏—Ç—å –ø–æ—Å—Ç"""
        # –°–æ–∑–¥–∞—ë–º –¥—Ä—É–≥–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
        another_user = User.objects.create_user(
            username="another",
            password="password",
            email="another@example.com"
        )
        
        # –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä—É–µ–º –∫–∞–∫ –¥—Ä—É–≥–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
        self.client.force_authenticate(user=another_user)
        
        # –ü—ã—Ç–∞–µ–º—Å—è —É–¥–∞–ª–∏—Ç—å —á—É–∂–æ–π –ø–æ—Å—Ç
        response = self.client.delete(f"/posts/{self.post.id}/")
        
        # –î–æ–ª–∂–Ω–∞ –±—ã—Ç—å –æ—à–∏–±–∫–∞ 403 Forbidden
        self.assertEqual(response.status_code, 403)
```

‚Äî –ê —ç—Ç–æ—Ç —Ç–µ—Å—Ç –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –æ–±—Ä–∞—Ç–Ω—É—é —Å–∏—Ç—É–∞—Ü–∏—é! ‚Äî —Å–∫–∞–∑–∞–ª –ö—Ä–æ–ª–∏–∫ üêá. ‚Äî –ß—É–∂–æ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å **–ù–ï** –º–æ–∂–µ—Ç —É–¥–∞–ª–∏—Ç—å –Ω–µ —Å–≤–æ–π –ø–æ—Å—Ç!

‚Äî –°–æ–≤–µ—Ä—à–µ–Ω–Ω–æ –≤–µ—Ä–Ω–æ! ‚Äî –ø–æ–¥—Ç–≤–µ—Ä–¥–∏–ª –§–∏–ª–∏–Ω ü¶â. ‚Äî –ó–¥–µ—Å—å –º—ã —Å–æ–∑–¥–∞—ë–º —Å–æ–≤–µ—Ä—à–µ–Ω–Ω–æ –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è `another_user`, –∫–æ—Ç–æ—Ä—ã–π –Ω–µ –∏–º–µ–µ—Ç –Ω–∏–∫–∞–∫–æ–≥–æ –æ—Ç–Ω–æ—à–µ–Ω–∏—è –∫ –ø–æ—Å—Ç—É. –ò –∫–æ–≥–¥–∞ –æ–Ω –ø—ã—Ç–∞–µ—Ç—Å—è —É–¥–∞–ª–∏—Ç—å —á—É–∂–æ–π –ø–æ—Å—Ç ‚Äî –ø–æ–ª—É—á–∞–µ—Ç –æ—à–∏–±–∫–∞ 403 "–î–æ—Å—Ç—É–ø –∑–∞–ø—Ä–µ—â—ë–Ω"! üö´

‚Äî –í–∏–¥–∏—Ç–µ –ª–æ–≥–∏–∫—É? ‚Äî —Å–ø—Ä–æ—Å–∏–ª –§–∏–ª–∏–Ω ü¶â. ‚Äî –ú—ã —Ç–µ—Å—Ç–∏—Ä—É–µ–º —Ç—Ä–∏ —Å—Ü–µ–Ω–∞—Ä–∏—è:
    1.  –í–ª–∞–¥–µ–ª–µ—Ü —É–¥–∞–ª—è–µ—Ç —Å–≤–æ–π –ø–æ—Å—Ç ‚Äî –¥–æ–ª–∂–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å (—Å—Ç–∞—Ç—É—Å 204) ‚úÖ
    2.  –ê–¥–º–∏–Ω —É–¥–∞–ª—è–µ—Ç —á—É–∂–æ–π –ø–æ—Å—Ç ‚Äî —Ç–æ–∂–µ –¥–æ–ª–∂–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å (—É –∞–¥–º–∏–Ω–∞ –µ—Å—Ç—å –ø—Ä–∞–≤–∞ –Ω–∞ –≤—Å—ë) ‚úÖ
    3.  –ß—É–∂–æ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É–¥–∞–ª—è–µ—Ç –Ω–µ —Å–≤–æ–π –ø–æ—Å—Ç ‚Äî –¥–æ–ª–∂–Ω–æ **–ù–ï** —Ä–∞–±–æ—Ç–∞—Ç—å (—Å—Ç–∞—Ç—É—Å 403, –¥–æ—Å—Ç—É–ø –∑–∞–ø—Ä–µ—â—ë–Ω) üö´

‚Äî –ï—Å–ª–∏ –≤—Å–µ —Ç—Ä–∏ —Ç–µ—Å—Ç–∞ –ø—Ä–æ—Ö–æ–¥—è—Ç ‚Äî –Ω–∞—à–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ `IsOwner` —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ! ‚úÖ

‚Äî –ê –∫–∞–∫ –∂–µ –∑–∞–ø—É—Å—Ç–∏—Ç—å —ç—Ç–∏ —Ç–µ—Å—Ç—ã –Ω–∞ –ø—Ä–∞–∫—Ç–∏–∫–µ? ‚Äî —Å–ø—Ä–æ—Å–∏–ª –í–∏–Ω–Ω–∏-–ü—É—Ö üêª. ‚Äî –¢—ã –æ–±–µ—â–∞–ª —Ä–∞—Å—Å–∫–∞–∑–∞—Ç—å!

‚Äî –ö–æ–Ω–µ—á–Ω–æ! ‚Äî —Å–∫–∞–∑–∞–ª –§–∏–ª–∏–Ω ü¶â. ‚Äî –ü–æ—Å–ª–µ —Ç–æ–≥–æ –∫–∞–∫ –º—ã –Ω–∞–ø–∏—Å–∞–ª–∏ –≤—Å–µ —Ç–µ—Å—Ç—ã, –Ω—É–∂–Ω–æ –∏—Ö –∑–∞–ø—É—Å—Ç–∏—Ç—å. –î–∞–≤–∞–π—Ç–µ —è –ø–æ–∫–∞–∂—É, –∫–∞–∫ —ç—Ç–æ –¥–µ–ª–∞–µ—Ç—Å—è:

**–ö–∞–∫ –∑–∞–ø—É—Å—Ç–∏—Ç—å —Ç–µ—Å—Ç—ã:**
1.  –û—Ç–∫—Ä–æ–π—Ç–µ —Ç–µ—Ä–º–∏–Ω–∞–ª (–∫–æ–º–∞–Ω–¥–Ω—É—é —Å—Ç—Ä–æ–∫—É) –≤ –ø–∞–ø–∫–µ —Å –≤–∞—à–∏–º Django-–ø—Ä–æ–µ–∫—Ç–æ–º üíª
2.  –í–≤–µ–¥–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É:
    ```bash
    python manage.py test
    ```
3.  –ù–∞–±–ª—é–¥–∞–π—Ç–µ –∑–∞ –º–∞–≥–∏–µ–π! ‚ú®

‚Äî –ß—Ç–æ –ø—Ä–æ–∏–∑–æ–π–¥—ë—Ç? ‚Äî —Å–ø—Ä–æ—Å–∏–ª –ü—è—Ç–∞—á–æ–∫ üê∑.

‚Äî Django —Å–¥–µ–ª–∞–µ—Ç –≤–æ—Ç —á—Ç–æ:
    1.  –°–æ–∑–¥–∞—Å—Ç –≤—Ä–µ–º–µ–Ω–Ω—É—é —Ç–µ—Å—Ç–æ–≤—É—é –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö üóÉÔ∏è
    2.  –ó–∞–ø—É—Å—Ç–∏—Ç –º–µ—Ç–æ–¥ `setUp()` –¥–ª—è –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏ –¥–∞–Ω–Ω—ã—Ö
    3.  –ü–æ –æ—á–µ—Ä–µ–¥–∏ –∑–∞–ø—É—Å—Ç–∏—Ç **–í–°–ï** —Ç–µ—Å—Ç—ã (–º–µ—Ç–æ–¥—ã, –∫–æ—Ç–æ—Ä—ã–µ –Ω–∞—á–∏–Ω–∞—é—Ç—Å—è —Å `test_`)
    4.  –î–ª—è –∫–∞–∂–¥–æ–≥–æ —Ç–µ—Å—Ç–∞ –ø–æ–∫–∞–∂–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç

‚Äî –í—ã —É–≤–∏–¥–∏—Ç–µ —á—Ç–æ-—Ç–æ –≤—Ä–æ–¥–µ:
    ```
    Creating test database for alias 'default'...
    System check identified no issues (0 silenced).
    ...
    ----------------------------------------------------------------------
    Ran 3 tests in 0.123s

    OK
    Destroying test database for alias 'default'...
    ```
‚Äî –ï—Å–ª–∏ —Ç–µ—Å—Ç—ã –ø—Ä–æ—à–ª–∏ —É—Å–ø–µ—à–Ω–æ ‚Äî –±—É–¥–µ—Ç **OK** –∏ –∑–µ–ª—ë–Ω—ã–π —Ç–µ–∫—Å—Ç! ‚úÖ

‚Äî –ï—Å–ª–∏ –∫–∞–∫–æ–π-—Ç–æ —Ç–µ—Å—Ç —É–ø–∞–ª ‚Äî –±—É–¥–µ—Ç –∫—Ä–∞—Å–Ω—ã–π —Ç–µ–∫—Å—Ç —Å –ø–æ–¥—Ä–æ–±–Ω—ã–º –æ–ø–∏—Å–∞–Ω–∏–µ–º –æ—à–∏–±–∫–∏, –Ω–∞–ø—Ä–∏–º–µ—Ä:
    ```
    FAIL: test_no_permission (myapp.tests.PermissionTests)
    ----------------------------------------------------------------------
    AssertionError: 204 != 403
    ```
‚Äî –≠—Ç–æ –∑–Ω–∞—á–∏—Ç, —á—Ç–æ –º—ã –æ–∂–∏–¥–∞–ª–∏ —Å—Ç–∞—Ç—É—Å 403, –∞ –ø–æ–ª—É—á–∏–ª–∏ 204. –ó–Ω–∞—á–∏—Ç, –Ω–∞—à —Ç–µ—Å—Ç –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –∏–ª–∏ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–µ —Ç–∞–∫, –∫–∞–∫ –º—ã –∑–∞–¥—É–º–∞–ª–∏!

‚Äî –ú–æ–∂–Ω–æ –∑–∞–ø—É—Å–∫–∞—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —Ç–µ—Å—Ç—ã: `python manage.py test myapp.tests.PermissionTests.test_owner_permission_success`

‚Äî –ò–ª–∏ –≤—Å–µ —Ç–µ—Å—Ç—ã –≤ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º –º–æ–¥—É–ª–µ: `python manage.py test myapp.tests`

‚Äî –¢–µ–ø–µ—Ä—å –ø–æ–Ω—è—Ç–Ω–æ! ‚Äî —Å–∫–∞–∑–∞–ª –ö—Ä–æ–ª–∏–∫ üêá. ‚Äî –ú—ã –ø–∏—à–µ–º —Ç–µ—Å—Ç—ã, –∑–∞–ø—É—Å–∫–∞–µ–º –∏—Ö –∫–æ–º–∞–Ω–¥–æ–π –∏ —Å–º–æ—Ç—Ä–∏–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ!

‚Äî –ò–º–µ–Ω–Ω–æ! ‚Äî –ø–æ–¥—Ç–≤–µ—Ä–¥–∏–ª –§–∏–ª–∏–Ω ü¶â. ‚Äî –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ ‚Äî —ç—Ç–æ –≤–∞–∂–Ω–∞—è —á–∞—Å—Ç—å —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏, –∫–æ—Ç–æ—Ä–∞—è –ø–æ–º–æ–≥–∞–µ—Ç —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –Ω–∞—à –∫–æ–¥ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ! üß™‚úÖ

**–ü—Ä–∏–º–µ—Ä: –∫–∞—Å—Ç–æ–º–Ω–æ–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ üéõÔ∏è**

‚Äî –ê –º–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏? ‚Äî —Å–ø—Ä–æ—Å–∏–ª –ö—Ä–æ–ª–∏–∫ üêá. ‚Äî –ù–∞–ø—Ä–∏–º–µ—Ä: ¬´–¢–æ–ª—å–∫–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —Å—Ç–∞—Ä—à–µ 18 –ª–µ—Ç¬ª?

‚Äî –ö–æ–Ω–µ—á–Ω–æ! ‚Äî –æ—Ç–≤–µ—Ç–∏–ª –§–∏–ª–∏–Ω ü¶â. ‚Äî –î–ª—è —ç—Ç–æ–≥–æ –Ω—É–∂–Ω–æ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —á–µ—Ä–µ–∑ –∞—Ç—Ä–∏–±—É—Ç—ã –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è. –î–∞–≤–∞–π—Ç–µ —Å–æ–∑–¥–∞–¥–∏–º –∏–º–µ–Ω–Ω–æ —Ç–∞–∫–æ–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ ‚Äî –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤–æ–∑—Ä–∞—Å—Ç–∞!

```python
# permissions.py
from rest_framework.permissions import BasePermission
from datetime import date

class IsOlderThan(BasePermission):
    """
    –†–∞–∑—Ä–µ—à–µ–Ω–∏–µ –ø–æ–∑–≤–æ–ª—è–µ—Ç –¥–æ—Å—Ç—É–ø —Ç–æ–ª—å–∫–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º —Å—Ç–∞—Ä—à–µ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–≥–æ –≤–æ–∑—Ä–∞—Å—Ç–∞. üéÇüîû
    """
    
    def has_permission(self, request, view):
        # –ü–æ–ª—É—á–∞–µ–º –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –≤–æ–∑—Ä–∞—Å—Ç –∏–∑ –∞—Ç—Ä–∏–±—É—Ç–∞ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è
        min_age = getattr(view, 'min_age', 18)  # –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é 18 –ª–µ—Ç
        
        if request.user and request.user.is_authenticated:
            if request.user.birth_date:  # –ü—Ä–µ–¥–ø–æ–ª–∞–≥–∞–µ–º, —á—Ç–æ —É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –µ—Å—Ç—å –ø–æ–ª–µ —Å –¥–∞—Ç–æ–π —Ä–æ–∂–¥–µ–Ω–∏—è
                today = date.today()
                age = today.year - request.user.birth_date.year
                # –ü—Ä–æ–≤–µ—Ä—è–µ–º, –∏—Å–ø–æ–ª–Ω–∏–ª–æ—Å—å –ª–∏ —É–∂–µ –¥–µ–Ω—å —Ä–æ–∂–¥–µ–Ω–∏—è –≤ —ç—Ç–æ–º –≥–æ–¥—É
                if (today.month, today.day) < (request.user.birth_date.month, request.user.birth_date.day):
                    age -= 1
                return age >= min_age
        
        return False
```

‚Äî –ü–æ–¥–æ–∂–¥–∏! ‚Äî –æ—Å—Ç–∞–Ω–æ–≤–∏–ª –í–∏–Ω–Ω–∏-–ü—É—Ö üêª. ‚Äî –ß—Ç–æ –¥–µ–ª–∞–µ—Ç `getattr(view, 'min_age', 18)`?

‚Äî –û—Ç–ª–∏—á–Ω—ã–π –≤–æ–ø—Ä–æ—Å! ‚Äî —Å–∫–∞–∑–∞–ª –§–∏–ª–∏–Ω ü¶â. ‚Äî `getattr()` ‚Äî —ç—Ç–æ –≤—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è Python, –∫–æ—Ç–æ—Ä–∞—è –ø–æ–ª—É—á–∞–µ—Ç –∞—Ç—Ä–∏–±—É—Ç –æ–±—ä–µ–∫—Ç–∞. –û–Ω–∞ –≥–æ–≤–æ—Ä–∏—Ç: ¬´–£ –æ–±—ä–µ–∫—Ç–∞ `view` –Ω–∞–π–¥–∏ –∞—Ç—Ä–∏–±—É—Ç `'min_age'`. –ï—Å–ª–∏ –Ω–µ –Ω–∞–π–¥—ë—à—å ‚Äî –≤–µ—Ä–Ω–∏ `18` (–∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)¬ª.

‚Äî –¢–æ –µ—Å—Ç—å, –µ—Å–ª–∏ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –∑–∞–¥–∞–ª–æ `min_age = 21`, —Ç–æ –≤–æ–∑—å–º—ë—Ç—Å—è `21`. –ï—Å–ª–∏ –Ω–µ –∑–∞–¥–∞–ª–æ ‚Äî –≤–æ–∑—å–º—ë—Ç—Å—è `18` –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é! ‚Äî –ø–æ–Ω—è–ª –ü—è—Ç–∞—á–æ–∫ üê∑.

‚Äî –ò–º–µ–Ω–Ω–æ! ‚Äî –ø–æ–¥—Ç–≤–µ—Ä–¥–∏–ª –§–∏–ª–∏–Ω ü¶â. ‚Äî –ò –æ–±—Ä–∞—Ç–∏ –≤–Ω–∏–º–∞–Ω–∏–µ: –º—ã –ø—Ä–µ–¥–ø–æ–ª–∞–≥–∞–µ–º, —á—Ç–æ —É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –µ—Å—Ç—å –ø–æ–ª–µ `birth_date` (–¥–∞—Ç–∞ —Ä–æ–∂–¥–µ–Ω–∏—è). –í —Ä–µ–∞–ª—å–Ω–æ–º –ø—Ä–æ–µ–∫—Ç–µ —Ç–µ–±–µ –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å —Ç–∞–∫–æ–µ –ø–æ–ª–µ –≤ –º–æ–¥–µ–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è!

‚Äî –ê –∫–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —ç—Ç–æ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ? ‚Äî —Å–ø—Ä–æ—Å–∏–ª –í–∏–Ω–Ω–∏-–ü—É—Ö üêª.

‚Äî –í–æ—Ç —Ç–∞–∫! ‚Äî –ø–æ–∫–∞–∑–∞–ª –§–∏–ª–∏–Ω ü¶â:

```python
# views.py
from rest_framework.views import APIView
from .permissions import IsOlderThan

class BarView(APIView):
    """
    –¢–æ–ª—å–∫–æ –¥–ª—è –≤–∑—Ä–æ—Å–ª—ã—Ö! üçªüîû
    """
    permission_classes = [IsOlderThan]
    min_age = 21  # –ú–æ–∂–Ω–æ –∑–∞–¥–∞—Ç—å –ª—é–±–æ–π –≤–æ–∑—Ä–∞—Å—Ç!
    
    def get(self, request):
        return Response({"message": "–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –±–∞—Ä –¥–ª—è –≤–∑—Ä–æ—Å–ª—ã—Ö!"})
```

‚Äî –ü–æ–¥–æ–∂–¥–∏! ‚Äî –æ—Å—Ç–∞–Ω–æ–≤–∏–ª –ö—Ä–æ–ª–∏–∫ üêá. ‚Äî –Ø –≤–∏–∂—É, —á—Ç–æ –≤ –∫–ª–∞—Å—Å–µ `BarView` –µ—Å—Ç—å –∞—Ç—Ä–∏–±—É—Ç `min_age = 21`. –ê –≤ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–∏ `IsOlderThan` –µ—Å—Ç—å —Å—Ç—Ä–æ–∫–∞ `getattr(view, 'min_age', 18)`. –ö–∞–∫ `min_age` –∏–∑ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è –ø–æ–ø–∞–¥–∞–µ—Ç –≤ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ?

‚Äî –û—Ç–ª–∏—á–Ω—ã–π –≤–æ–ø—Ä–æ—Å! ‚Äî —Å–∫–∞–∑–∞–ª –§–∏–ª–∏–Ω ü¶â. ‚Äî –≠—Ç–æ –≤–∞–∂–Ω—ã–π –º–µ—Ö–∞–Ω–∏–∑–º –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è!

‚Äî –ö–æ–≥–¥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –¥–µ–ª–∞–µ—Ç –∑–∞–ø—Ä–æ—Å –∫ `BarView`, DRF:
    1.  –°–æ–∑–¥–∞—ë—Ç –æ–±—ä–µ–∫—Ç –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è `BarView` (–≤—ã–∑—ã–≤–∞–µ—Ç `BarView()`)
    2.  –°–æ–∑–¥–∞—ë—Ç –æ–±—ä–µ–∫—Ç —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è `IsOlderThan` (–≤—ã–∑—ã–≤–∞–µ—Ç `IsOlderThan()`)
    3.  –í—ã–∑—ã–≤–∞–µ—Ç –º–µ—Ç–æ–¥ `has_permission()` —É —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è, –ø–µ—Ä–µ–¥–∞–≤–∞—è –µ–º—É `request` –∏ `view`

‚Äî –ö–ª—é—á–µ–≤–æ–π –º–æ–º–µ–Ω—Ç: –ø–∞—Ä–∞–º–µ—Ç—Ä `view` –≤ `has_permission(self, request, view)` ‚Äî —ç—Ç–æ —Ç–æ—Ç —Å–∞–º—ã–π –æ–±—ä–µ–∫—Ç –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è `BarView`!

‚Äî –ü–æ—ç—Ç–æ–º—É, –∫–æ–≥–¥–∞ –≤ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–∏ –º—ã –ø–∏—à–µ–º `getattr(view, 'min_age', 18)`, –º—ã –≥–æ–≤–æ—Ä–∏–º: ¬´–£ –æ–±—ä–µ–∫—Ç–∞ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è (`view`) –≤–æ–∑—å–º–∏ –∞—Ç—Ä–∏–±—É—Ç `min_age`. –ï—Å–ª–∏ —É –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è –Ω–µ—Ç —Ç–∞–∫–æ–≥–æ –∞—Ç—Ä–∏–±—É—Ç–∞ ‚Äî –∏—Å–ø–æ–ª—å–∑—É–π `18`¬ª

‚Äî –ê –≤ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–∏ `BarView` —É –Ω–∞—Å –∫–∞–∫ —Ä–∞–∑ –µ—Å—Ç—å –∞—Ç—Ä–∏–±—É—Ç `min_age = 21`! –ü–æ—ç—Ç–æ–º—É —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ –±–µ—Ä—ë—Ç –∑–Ω–∞—á–µ–Ω–∏–µ `21`!

‚Äî –ê –µ—Å–ª–∏ —è —Å–æ–∑–¥–∞–º –¥—Ä—É–≥–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –±–µ–∑ `min_age`? ‚Äî —Å–ø—Ä–æ—Å–∏–ª –í–∏–Ω–Ω–∏-–ü—É—Ö üêª.

```python
class SomeView(APIView):
    permission_classes = [IsOlderThan]
    # –ù–µ—Ç –∞—Ç—Ä–∏–±—É—Ç–∞ min_age!
    
    def get(self, request):
        return Response({"message": "–ö–∞–∫–æ–µ-—Ç–æ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ"})
```

‚Äî –¢–æ–≥–¥–∞ `getattr(view, 'min_age', 18)` –Ω–µ –Ω–∞–π–¥—ë—Ç `min_age` –∏ –≤–µ—Ä–Ω—ë—Ç –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é ‚Äî `18`! ‚Äî –æ–±—ä—è—Å–Ω–∏–ª –§–∏–ª–∏–Ω ü¶â. ‚Äî –≠—Ç–æ –∏ –µ—Å—Ç—å –≥–∏–±–∫–æ—Å—Ç—å!

‚Äî –ú–æ–∂–Ω–æ –¥–∞–∂–µ —Å–¥–µ–ª–∞—Ç—å —Ç–∞–∫: ‚Äî –ø—Ä–æ–¥–æ–ª–∂–∏–ª –§–∏–ª–∏–Ω ü¶â.

```python
class CasinoView(APIView):
    permission_classes = [IsOlderThan]
    min_age = 25  # –í –∫–∞–∑–∏–Ω–æ ‚Äî —Å 25 üé∞

class BarView(APIView):
    permission_classes = [IsOlderThan]
    min_age = 21  # –í –±–∞—Ä ‚Äî —Å 21 üçª

class ClubView(APIView):
    permission_classes = [IsOlderThan]
    min_age = 18  # –í –∫–ª—É–± ‚Äî —Å 18 üéâ
```

‚Äî –û–¥–Ω–æ –∏ —Ç–æ –∂–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ, –Ω–æ —Å —Ä–∞–∑–Ω—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ –≤ —Ä–∞–∑–Ω—ã—Ö –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è—Ö! ‚Äî –≤–æ—Å—Ö–∏—Ç–∏–ª—Å—è –ü—è—Ç–∞—á–æ–∫ üê∑.

‚Äî –ò–º–µ–Ω–Ω–æ! ‚Äî –ø–æ–¥—Ç–≤–µ—Ä–¥–∏–ª –§–∏–ª–∏–Ω ü¶â. ‚Äî –≠—Ç–æ –∏ –µ—Å—Ç—å –º–æ—â—å –∫–∞—Å—Ç–æ–º–Ω—ã—Ö —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–π —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏! üéõÔ∏èüí™

**–ò—Ç–æ–≥ –¥–Ω—è üéâ**

‚Äî –°–µ–≥–æ–¥–Ω—è –º—ã –Ω–∞—É—á–∏–ª–∏—Å—å —Å–æ–∑–¥–∞–≤–∞—Ç—å **–≥–∏–±–∫–∏–µ –∫–∞—Å—Ç–æ–º–Ω—ã–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è**! ‚Äî –ø–æ–¥–≤—ë–ª –∏—Ç–æ–≥ –§–∏–ª–∏–Ω ü¶â. ‚Äî –ú—ã:

1.  –£–∑–Ω–∞–ª–∏, —á—Ç–æ `BasePermission` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –º–µ—Ç–∞–∫–ª–∞—Å—Å `BasePermissionMetaclass` –¥–ª—è "–≤–æ–ª—à–µ–±—Å—Ç–≤–∞" –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∫–ª–∞—Å—Å–æ–≤ ‚ú®
2.  –ü–æ–Ω—è–ª–∏, —á—Ç–æ –º–µ—Ç–∞–∫–ª–∞—Å—Å ‚Äî —ç—Ç–æ "—Ñ–∞–±—Ä–∏–∫–∞ –∫–ª–∞—Å—Å–æ–≤", –∫–æ—Ç–æ—Ä–∞—è —Å–æ–∑–¥–∞—ë—Ç —Å–∞–º–∏ –∫–ª–∞—Å—Å—ã üè≠
3.  –°–æ–∑–¥–∞–ª–∏ –ø—Ä–æ—Å—Ç—ã–µ –∫–∞—Å—Ç–æ–º–Ω—ã–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è (`IsEmailVerified`, `IsOwner`) üõ†Ô∏è
4.  –£–∑–Ω–∞–ª–∏, —á—Ç–æ `is_authenticated` ‚Äî —ç—Ç–æ —Å–≤–æ–π—Å—Ç–≤–æ Django, –∞ –Ω–µ –ø–æ–ª–µ –≤ –ë–î ‚úÖ
5.  –ü–æ–Ω—è–ª–∏, —á—Ç–æ `is_email_verified` –Ω—É–∂–Ω–æ —Å–æ–∑–¥–∞–≤–∞—Ç—å —Å–∞–º–æ–º—É –≤ –∫–∞—Å—Ç–æ–º–Ω–æ–π –º–æ–¥–µ–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
6.  –ü–æ–ª–Ω–æ—Å—Ç—å—é —Ä–∞–∑–æ–±—Ä–∞–ª–∏ `APIView` ‚Äî –±–∞–∑–æ–≤—ã–π —Å—Ç—Ä–æ–∏—Ç–µ–ª—å–Ω—ã–π –±–ª–æ–∫ –¥–ª—è API-–∫–æ–º–Ω–∞—Ç üö™
7.  –ü–æ–Ω—è–ª–∏ —Ä–∞–∑–Ω–∏—Ü—É –º–µ–∂–¥—É `APIView` (—Ä—É—á–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞) –∏ `ModelViewSet` (–∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è) üö™üèòÔ∏è
8.  –ü–æ–¥—Ä–æ–±–Ω–æ —Ä–∞–∑–æ–±—Ä–∞–ª–∏ **–í–°–ï** –º–µ—Ç–æ–¥—ã `ModelViewSet` –ø–æ –æ–¥–Ω–æ–º—É: `list`, `retrieve`, `create`, `update`, `partial_update`, `destroy` üìù
9.  –£–∑–Ω–∞–ª–∏, —á—Ç–æ —Ç–∞–∫–æ–µ `.data` —É —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ç–æ—Ä–∞ ‚Äî —É–∂–µ –≥–æ—Ç–æ–≤—ã–µ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
10. –ü–æ–Ω—è–ª–∏ –º–µ—Ç–æ–¥—ã `get_serializer()` –∏ `is_valid()` —Å –∏—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏
11. –ü–æ–¥—Ä–æ–±–Ω–æ —Ä–∞–∑–æ–±—Ä–∞–ª–∏ —Ä–æ—É—Ç–µ—Ä—ã: `DefaultRouter()` –∏ `router.register()` üß≠
12. –£–∑–Ω–∞–ª–∏, –∫–∞–∫ `r'toys'` —Å–æ–∑–¥–∞—ë—Ç –ø—Ä–µ—Ñ–∏–∫—Å –¥–ª—è URL –∏ –ø–æ—á–µ–º—É –Ω—É–∂–Ω–∞ —Å—ã—Ä–∞—è —Å—Ç—Ä–æ–∫–∞
13. –ü–æ–Ω—è–ª–∏, —á—Ç–æ `obj.user == request.user` –ø—Ä–æ–≤–µ—Ä—è–µ—Ç, —è–≤–ª—è–µ—Ç—Å—è –ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∞–≤—Ç–æ—Ä–æ–º –æ–±—ä–µ–∫—Ç–∞ üëë
14. –ü–æ–Ω—è–ª–∏, –ø–æ—á–µ–º—É –≤ `get_permissions()` –Ω—É–∂–Ω–æ –ø–∏—Å–∞—Ç—å `IsAuthenticated()` —Å–æ —Å–∫–æ–±–∫–∞–º–∏ (—Å–æ–∑–¥–∞–Ω–∏–µ —ç–∫–∑–µ–º–ø–ª—è—Ä–∞)
15. –ù–∞—É—á–∏–ª–∏—Å—å –ø—Ä–∏–º–µ–Ω—è—Ç—å —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –≤ `ViewSet` üîê
16. –ü–æ–Ω—è–ª–∏, –∫–∞–∫ —Ä–∞–±–æ—Ç–∞—é—Ç URL –¥–ª—è `ViewSet` üåê
17. –£–∑–Ω–∞–ª–∏ –ø—Ä–æ `TestCase` –∏ —É—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è ‚Äî –∫–∞–∫ –ø–∏—Å–∞—Ç—å –∏ –∑–∞–ø—É—Å–∫–∞—Ç—å —Ç–µ—Å—Ç—ã üß™
18. –ü–æ–Ω—è–ª–∏, –∫–∞–∫ `.pk` –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏–∑–≤–ª–µ–∫–∞–µ—Ç—Å—è –∏–∑ URL –∏ –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è –≤ –º–µ—Ç–æ–¥—ã `ViewSet`
19. –£–∑–Ω–∞–ª–∏, –∫–∞–∫ –∑–∞–ø—É—Å–∫–∞—Ç—å —Ç–µ—Å—Ç—ã –∫–æ–º–∞–Ω–¥–æ–π `python manage.py test` –∏ –≥–¥–µ —Å–º–æ—Ç—Ä–µ—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
20. –†–∞–∑–æ–±—Ä–∞–ª–∏ —Ç–µ—Å—Ç—ã –ø–æ –æ–¥–Ω–æ–º—É, –ø–æ–Ω—è–ª–∏ –ª–æ–≥–∏–∫—É –∫–∞–∂–¥–æ–≥–æ —Ç–µ—Å—Ç–∞
21. –†–∞–∑–æ–±—Ä–∞–ª–∏, –æ—Ç–∫—É–¥–∞ –±–µ—Ä—É—Ç—Å—è —Ç–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ –∏ —á—Ç–æ –º–æ–¥–µ–ª—å –Ω—É–∂–Ω–æ —Å–æ–∑–¥–∞–≤–∞—Ç—å –≤ —Ä–µ–∞–ª—å–Ω–æ–º –ø—Ä–æ–µ–∫—Ç–µ
22. –ü–æ–Ω—è–ª–∏ —É—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è `assertEqual` –∏ –∫–∞–∫ –æ–Ω–∏ —Ä–∞–±–æ—Ç–∞—é—Ç –≤ —Ç–µ—Å—Ç–∞—Ö ‚úÖ
23. –£–∑–Ω–∞–ª–∏ –ø—Ä–æ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è —á–µ—Ä–µ–∑ `get_permissions()` üé≠
24. –ü–æ–Ω—è–ª–∏, —á—Ç–æ —Ç–∞–∫–æ–µ `self.action` –∏ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è `ViewSet`
25. –°–æ–∑–¥–∞–ª–∏ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤–æ–∑—Ä–∞—Å—Ç–∞ üéõÔ∏èüîû
26. –ü–æ–Ω—è–ª–∏, –∫–∞–∫ `min_age` –∏–∑ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è –ø–æ–ø–∞–¥–∞–µ—Ç –≤ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ —á–µ—Ä–µ–∑ `getattr()`
27. –ù–∞—É—á–∏–ª–∏—Å—å —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è üß™
28. –°–æ–∑–¥–∞–ª–∏ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ —á–µ—Ä–µ–∑ `getattr()` –∏ –ø–æ–Ω—è–ª–∏, –∫–∞–∫ –º–µ–Ω—è—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–π

‚Äî –¢–µ–ø–µ—Ä—å –º—ã –º–æ–∂–µ–º —Å–æ–∑–¥–∞–≤–∞—Ç—å –ª—é–±—ã–µ –ø—Ä–∞–≤–∏–ª–∞ –¥–æ—Å—Ç—É–ø–∞! ‚Äî –≤–æ—Å–∫–ª–∏–∫–Ω—É–ª –í–∏–Ω–Ω–∏-–ü—É—Ö üêª. ‚Äî –ù–∞–ø—Ä–∏–º–µ—Ä: ¬´–¢–æ–ª—å–∫–æ –¥—Ä—É–∑—å—è, –∫–æ—Ç–æ—Ä—ã–µ –±—ã–ª–∏ –≤ –∑–∞–º–∫–µ –Ω–∞ –ø—Ä–æ—à–ª–æ–π –Ω–µ–¥–µ–ª–µ¬ª –∏–ª–∏ ¬´–¢–æ–ª—å–∫–æ —Ç–µ, —É –∫–æ–≥–æ –±–æ–ª—å—à–µ 10 –±–∞–Ω–æ–∫ –º—ë–¥–∞¬ª! üè∞üçØ

‚Äî –ò–º–µ–Ω–Ω–æ! ‚Äî —É–ª—ã–±–Ω—É–ª—Å—è –§–∏–ª–∏–Ω ü¶â. ‚Äî –ö–∞—Å—Ç–æ–º–Ω—ã–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –¥–∞—é—Ç –±–µ–∑–≥—Ä–∞–Ω–∏—á–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–æ—Å—Ç—É–ø–æ–º –≤ –≤–∞—à–µ–º API. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∏—Ö —Å —É–º–æ–º, –∏ –≤–∞—à –∑–∞–º–æ–∫ –±—É–¥–µ—Ç –Ω–µ —Ç–æ–ª—å–∫–æ –±–µ–∑–æ–ø–∞—Å–Ω—ã–º, –Ω–æ –∏ —É–¥–æ–±–Ω—ã–º –¥–ª—è –≤—Å–µ—Ö –¥—Ä—É–∑–µ–π! üè∞üîê

‚Äî –ê –∑–∞–≤—Ç—Ä–∞, ‚Äî –ø–æ–æ–±–µ—â–∞–ª –§–∏–ª–∏–Ω ü¶â, ‚Äî –º—ã —Å–æ–±–µ—Ä—ë–º –≤—Å—ë –≤–º–µ—Å—Ç–µ –Ω–∞ –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–º –∑–∞–Ω—è—Ç–∏–∏! –ú—ã —Å–æ–∑–¥–∞–¥–∏–º –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ–µ API —Å –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–µ–π —á–µ—Ä–µ–∑ JWT –∏ –∫–∞—Å—Ç–æ–º–Ω—ã–º–∏ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è–º–∏. –í—ã —Å–∞–º–∏ –Ω–∞—Å—Ç—Ä–æ–∏—Ç–µ –≤—Å–µ —Å–∏—Å—Ç–µ–º—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –∑–∞–º–∫–∞! ‚öôÔ∏èüè∞

–ñ–∏—Ç–µ–ª–∏ –õ–µ—Å–∞ —Ä–∞–∑–æ—à–ª–∏—Å—å, –æ–±–¥—É–º—ã–≤–∞—è, –∫–∞–∫–∏–µ –∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞ –¥–æ—Å—Ç—É–ø–∞ –æ–Ω–∏ –º–æ–≥–ª–∏ –±—ã —Å–æ–∑–¥–∞—Ç—å –¥–ª—è —Å–≤–æ–µ–≥–æ –∑–∞–º–∫–∞. –¢–µ–ø–µ—Ä—å –æ–Ω–∏ —Ç–æ—á–Ω–æ –ø–æ–Ω–∏–º–∞–ª–∏, –∫–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç `ModelViewSet` –∏ –∫–∞–∫ —Å–æ–∑–¥–∞–≤–∞—Ç—å –≥–∏–±–∫–∏–µ –ø—Ä–∞–≤–∏–ª–∞ –¥–æ—Å—Ç—É–ø–∞ –¥–ª—è —Å–≤–æ–µ–≥–æ API! ü§îüí°

---

# **–ì–ª–∞–≤–∞ 10: –°–æ–±–∏—Ä–∞–µ–º –í—Å—ë –í–º–µ—Å—Ç–µ ‚Äî –°–æ–∑–¥–∞—ë–º –°–≤–æ–π –ó–∞–º–æ–∫ API üè∞‚öôÔ∏è**

–ù–∞ —Å–ª–µ–¥—É—é—â–∏–π –¥–µ–Ω—å –≤—Å–µ –∂–∏—Ç–µ–ª–∏ –õ–µ—Å–∞ —Å–æ–±—Ä–∞–ª–∏—Å—å —Å –≤–æ–ª–Ω–µ–Ω–∏–µ–º. –°–µ–≥–æ–¥–Ω—è –±—ã–ª –¥–µ–Ω—å –ø—Ä–∞–∫—Ç–∏–∫–∏!

‚Äî –î—Ä—É–∑—å—è! ‚Äî –Ω–∞—á–∞–ª –§–∏–ª–∏–Ω ü¶â, –ø–æ–ø—Ä–∞–≤–ª—è—è –æ—á–∫–∏. ‚Äî –ó–∞ –ø—Ä–æ—à–µ–¥—à–∏–µ –¥–Ω–∏ –º—ã –∏–∑—É—á–∏–ª–∏ –≤—Å–µ –æ—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã Django REST Framework. –°–µ–≥–æ–¥–Ω—è –º—ã —Å–æ–±–µ—Ä—ë–º –≤—Å—ë –≤–º–µ—Å—Ç–µ –∏ —Å–æ–∑–¥–∞–¥–∏–º –Ω–µ–±–æ–ª—å—à–æ–µ, –Ω–æ –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ–µ API –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ ‚Äî –Ω–∞—à —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π **–ó–∞–º–æ–∫ –î—Ä—É–∑–µ–π**!

‚Äî –ú—ã —Å–æ–∑–¥–∞–¥–∏–º API –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥—Ä—É–∑—å—è–º–∏, –∏—Ö —É–≤–ª–µ—á–µ–Ω–∏—è–º–∏ –∏ –≤—Å—Ç—Ä–µ—á–∞–º–∏, ‚Äî –ø—Ä–æ–¥–æ–ª–∂–∏–ª –æ–Ω. ‚Äî –≠—Ç–æ –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—é—â–µ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ –≤—ã —Å–º–æ–∂–µ—Ç–µ –∑–∞–ø—É—Å—Ç–∏—Ç—å —É —Å–µ–±—è –Ω–∞ –∫–æ–º–ø—å—é—Ç–µ—Ä–µ –∏ –¥–∞–∂–µ –∑–∞–≥—Ä—É–∑–∏—Ç—å –Ω–∞ GitHub, —á—Ç–æ–±—ã –≤–µ—Å—å –º–∏—Ä –º–æ–≥ —É–≤–∏–¥–µ—Ç—å –≤–∞—à–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è!

–ü—è—Ç–∞—á–æ–∫ üê∑ –∑–∞—ë—Ä–∑–∞–ª –Ω–∞ –º–µ—Å—Ç–µ.

‚Äî –û–π, –∞ —ç—Ç–æ –Ω–µ —Å–ª–æ–∂–Ω–æ? –ú—ã –∂–µ —Ç–æ–ª—å–∫–æ —É—á–∏–ª–∏—Å—å!

‚Äî –ò–º–µ–Ω–Ω–æ –ø–æ—ç—Ç–æ–º—É –∏ –Ω—É–∂–Ω–æ –ø—Ä–∞–∫—Ç–∏–∫–æ–≤–∞—Ç—å—Å—è! ‚Äî –æ–±–æ–¥—Ä—è—é—â–µ —Å–∫–∞–∑–∞–ª –§–∏–ª–∏–Ω ü¶â. ‚Äî –ö–∞–∫ –≥–æ–≤–æ—Ä–∏—Ç –º–æ–π –¥–µ–¥—É—à–∫–∞: ¬´–¢–µ–æ—Ä–∏—è –±–µ–∑ –ø—Ä–∞–∫—Ç–∏–∫–∏ ‚Äî –∫–∞–∫ –º—ë–¥ –±–µ–∑ –ª–æ–∂–∫–∏. –ò —Ç–æ, –∏ –¥—Ä—É–≥–æ–µ –µ—Å—Ç—å, –Ω–æ –Ω–∞—Å–ª–∞–¥–∏—Ç—å—Å—è –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ!¬ª üçØü•Ñ

–í–∏–Ω–Ω–∏-–ü—É—Ö üêª –∑–∞–¥—É–º—á–∏–≤–æ –ø–æ—á–µ—Å–∞–ª –≥–æ–ª–æ–≤—É.

‚Äî –ê –º—ë–¥-—Ç–æ –ø—Ä–∏ —á—ë–º? –Ø –±—ã —Å–µ–π—á–∞—Å —Å —É–¥–æ–≤–æ–ª—å—Å—Ç–≤–∏–µ–º...

‚Äî –°–æ—Å—Ä–µ–¥–æ—Ç–æ—á—å—Å—è, –í–∏–Ω–Ω–∏-–ü—É—Ö! ‚Äî —Å—Ç—Ä–æ–≥–æ —Å–∫–∞–∑–∞–ª –ö—Ä–æ–ª–∏–∫ üêá. ‚Äî –°–µ–≥–æ–¥–Ω—è –º—ã —Å—Ç—Ä–æ–∏–º –∑–∞–º–æ–∫, –∞ –Ω–µ –∏—â–µ–º –º—ë–¥!

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –Ω–∞—à–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞ üèóÔ∏è**

‚Äî –ù–∞—à–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –±—É–¥–µ—Ç —Å–æ—Å—Ç–æ—è—Ç—å –∏–∑ —à–µ—Å—Ç–∏ –æ—Å–Ω–æ–≤–Ω—ã—Ö —á–∞—Å—Ç–µ–π, ‚Äî –Ω–∞—á–∞–ª –æ–±—ä—è—Å–Ω—è—Ç—å –§–∏–ª–∏–Ω ü¶â, –ø–æ–∫–∞–∑—ã–≤–∞—è –Ω–∞ –¥–æ—Å–∫–µ:

1.  **–ú–æ–¥–µ–ª–∏** (–±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö) ‚Äî –∫–∞–∫ —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç –∑–∞–º–∫–∞. –ó–¥–µ—Å—å –±—É–¥—É—Ç –∂–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –æ –î—Ä—É–∑—å—è—Ö, –£–≤–ª–µ—á–µ–Ω–∏—è—Ö –∏ –í—Å—Ç—Ä–µ—á–∞—Ö. üóÉÔ∏è
2.  **–°–µ—Ä–∏–∞–ª–∏–∑–∞—Ç–æ—Ä—ã** (–ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö) ‚Äî –∫–∞–∫ –ø–µ—Ä–µ–≤–æ–¥—á–∏–∫–∏ –≤ –∑–∞–º–∫–µ. –û–Ω–∏ –ø–µ—Ä–µ–≤–æ–¥—è—Ç –¥–∞–Ω–Ω—ã–µ —Å —è–∑—ã–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –Ω–∞ —è–∑—ã–∫ API. üó£Ô∏è
3.  **ViewSets** (API-–∫–æ–º–Ω–∞—Ç—ã) ‚Äî –∫–∞–∫ –∫–æ–º–Ω–∞—Ç—ã –≤ –∑–∞–º–∫–µ. –ö–∞–∂–¥–∞—è –∫–æ–º–Ω–∞—Ç–∞ –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—É—é –æ–ø–µ—Ä–∞—Ü–∏—é. üö™
4.  **–ö–∞—Å—Ç–æ–º–Ω—ã–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è** (–Ω–∞—à–∏ –ø—Ä–∞–≤–∏–ª–∞ –¥–æ—Å—Ç—É–ø–∞) ‚Äî –∫–∞–∫ —Å—Ç—Ä–∞–∂–∏ —É –¥–≤–µ—Ä–µ–π. –†–µ—à–∞—é—Ç, –∫–æ–≥–æ –ø—É—Å–∫–∞—Ç—å –≤ –∫–∞–∂–¥—É—é –∫–æ–º–Ω–∞—Ç—É. üîê
5.  **–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è —á–µ—Ä–µ–∑ JWT** (—Å–∏—Å—Ç–µ–º–∞ –ø—Ä–æ–ø—É—Å–∫–æ–≤) ‚Äî –∫–∞–∫ –ø—Ä–æ–ø—É—Å–∫–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –∑–∞–º–∫–∞. –î–∞—ë—Ç —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ –∫–ª—é—á–∏ –≥–æ—Å—Ç—è–º. üîë
6.  **–¢–µ—Å—Ç—ã** (–ø—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã) ‚Äî –∫–∞–∫ –∏–Ω—Å–ø–µ–∫—Ç–æ—Ä—ã, –ø—Ä–æ–≤–µ—Ä—è—é—â–∏–µ, –≤—Å—ë –ª–∏ –≤ –∑–∞–º–∫–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ. üß™

‚Äî –£—Ö —Ç—ã! ‚Äî –≤–æ—Å–∫–ª–∏–∫–Ω—É–ª –ü—è—Ç–∞—á–æ–∫ üê∑. ‚Äî –≠—Ç–æ –∂–µ —Ü–µ–ª—ã–π –∑–∞–º–æ–∫ –ø–æ–ª—É—á–∏—Ç—Å—è!

‚Äî –ò–º–µ–Ω–Ω–æ! ‚Äî —É–ª—ã–±–Ω—É–ª—Å—è –§–∏–ª–∏–Ω ü¶â. ‚Äî –ò –º—ã –ø–æ—Å—Ç—Ä–æ–∏–º –µ–≥–æ –æ—Ç —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞ –¥–æ –∫—Ä—ã—à–∏. –ù–∞—á–Ω—ë–º?

**–ß–∞—Å—Ç—å 1: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ —Å—Ç—Ä–æ–∏—Ç–µ–ª—å–Ω–æ–π –ø–ª–æ—â–∞–¥–∫–∏ üöß**

‚Äî –ü—Ä–µ–¥—Å—Ç–∞–≤—å—Ç–µ, —á—Ç–æ –º—ã –∞—Ä—Ö–∏—Ç–µ–∫—Ç–æ—Ä—ã, ‚Äî –Ω–∞—á–∞–ª –§–∏–ª–∏–Ω ü¶â. ‚Äî –ü—Ä–µ–∂–¥–µ —á–µ–º —Å—Ç—Ä–æ–∏—Ç—å –∑–∞–º–æ–∫, –Ω—É–∂–Ω–æ –ø–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å –º–µ—Å—Ç–æ –∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã.

**–®–∞–≥ 1.1: –°–æ–∑–¥–∞—ë–º –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ üèóÔ∏è**

‚Äî –ü–µ—Ä–≤–æ–µ, —á—Ç–æ –¥–µ–ª–∞–µ—Ç —É–≤–∞–∂–∞—é—â–∏–π —Å–µ–±—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç–æ—Ä, ‚Äî —Å–æ–∑–¥–∞—ë—Ç –æ—Ç–¥–µ–ª—å–Ω—É—é –º–∞—Å—Ç–µ—Ä—Å–∫—É—é –¥–ª—è –ø—Ä–æ–µ–∫—Ç–∞! ‚Äî —Å–∫–∞–∑–∞–ª –§–∏–ª–∏–Ω ü¶â.

```bash
python -m venv venv
```

–ö—Ä–æ–ª–∏–∫ üêá –Ω–∞–∫–ª–æ–Ω–∏–ª—Å—è –∫ —ç–∫—Ä–∞–Ω—É.

‚Äî –ê —á—Ç–æ —ç—Ç–æ –∑–∞ –∫–æ–º–∞–Ω–¥–∞?

‚Äî **`python -m venv venv`** —Å–æ–∑–¥–∞—ë—Ç –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ, ‚Äî –æ–±—ä—è—Å–Ω–∏–ª –§–∏–ª–∏–Ω ü¶â. ‚Äî –≠—Ç–æ –∫–∞–∫ –æ—Ç–¥–µ–ª—å–Ω–∞—è –∫–æ–º–Ω–∞—Ç–∞-–º–∞—Å—Ç–µ—Ä—Å–∫–∞—è, –≥–¥–µ –±—É–¥—É—Ç —Ö—Ä–∞–Ω–∏—Ç—å—Å—è –≤—Å–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –∏–º–µ–Ω–Ω–æ –¥–ª—è —ç—Ç–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞. –¢–∞–∫ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –æ–¥–Ω–æ–≥–æ –∑–∞–º–∫–∞ –Ω–µ –ø–µ—Ä–µ–ø—É—Ç–∞—é—Ç—Å—è —Å –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º–∏ –¥—Ä—É–≥–æ–≥–æ! üîß

‚Äî –ö–∞–∫ –≤ –º–æ–µ–π –∫–ª–∞–¥–æ–≤–∫–µ! ‚Äî –æ–∂–∏–≤–∏–ª—Å—è –í–∏–Ω–Ω–∏-–ü—É—Ö üêª. ‚Äî –û—Ç–¥–µ–ª—å–Ω–∞—è –ø–æ–ª–∫–∞ –¥–ª—è –≥–æ—Ä—à–æ—á–∫–æ–≤ —Å –º—ë–¥–æ–º, –æ—Ç–¥–µ–ª—å–Ω–∞—è ‚Äî –¥–ª—è –±–∞–Ω–æ–∫ —Å –≤–∞—Ä–µ–Ω—å–µ–º...

‚Äî –ü—Ä–∏–º–µ—Ä–Ω–æ —Ç–∞–∫, ‚Äî —Å–æ–≥–ª–∞—Å–∏–ª—Å—è –§–∏–ª–∏–Ω ü¶â. ‚Äî –¢–æ–ª—å–∫–æ –≤–º–µ—Å—Ç–æ –≤–∞—Ä–µ–Ω—å—è —É –Ω–∞—Å –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ Python. üêçüìö

**–®–∞–≥ 1.2: –ê–∫—Ç–∏–≤–∏—Ä—É–µ–º –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ ‚ö°**

–ê–∫—Ç–∏–≤–∏—Ä—É–µ–º –µ–≥–æ (–¥–ª—è Windows):

```bash
venv\Scripts\activate
```

‚Äî –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ! ‚Äî –ø–æ–∫–∞–∑–∞–ª –§–∏–ª–∏–Ω ü¶â. ‚Äî –¢–µ–ø–µ—Ä—å –≤ –Ω–∞—á–∞–ª–µ —Å—Ç—Ä–æ–∫–∏ —Ç–µ—Ä–º–∏–Ω–∞–ª–∞ –ø–æ—è–≤–∏–ª–æ—Å—å `(venv)`. –≠—Ç–æ –∑–Ω–∞—á–∏—Ç, –º—ã –≤–Ω—É—Ç—Ä–∏ –Ω–∞—à–µ–π –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–π –º–∞—Å—Ç–µ—Ä—Å–∫–æ–π! ‚úÖ

**–®–∞–≥ 1.3: –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º Django üêç**

‚Äî –¢–µ–ø–µ—Ä—å —É—Å—Ç–∞–Ω–æ–≤–∏–º —Å–∞–º Django –≤ –Ω–∞—à—É –º–∞—Å—Ç–µ—Ä—Å–∫—É—é! ‚Äî —Å–∫–∞–∑–∞–ª –§–∏–ª–∏–Ω ü¶â.

```bash
pip install django
```

‚Äî –ß—Ç–æ –¥–µ–ª–∞–µ—Ç —ç—Ç–∞ –∫–æ–º–∞–Ω–¥–∞? ‚Äî —Å–ø—Ä–æ—Å–∏–ª –ü—è—Ç–∞—á–æ–∫ üê∑.

‚Äî **`pip install django`** —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ Django –≤ –Ω–∞—à–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ, ‚Äî –æ–±—ä—è—Å–Ω–∏–ª –§–∏–ª–∏–Ω ü¶â. ‚Äî –≠—Ç–æ –∫–∞–∫ –ø—Ä–∏–Ω–µ—Å—Ç–∏ –≤ –º–∞—Å—Ç–µ—Ä—Å–∫—É—é –æ—Å–Ω–æ–≤–Ω–æ–π –Ω–∞–±–æ—Ä —Å—Ç—Ä–æ–∏—Ç–µ–ª—å–Ω—ã—Ö –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤. üî®

**–®–∞–≥ 1.4: –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º DRF ‚öôÔ∏è**

‚Äî –¢–µ–ø–µ—Ä—å —É—Å—Ç–∞–Ω–æ–≤–∏–º Django REST Framework, ‚Äî –ø—Ä–æ–¥–æ–ª–∂–∏–ª –§–∏–ª–∏–Ω ü¶â.

```bash
pip install djangorestframework
```

‚Äî –ê —ç—Ç–æ —á—Ç–æ? ‚Äî —Å–ø—Ä–æ—Å–∏–ª –ö—Ä–æ–ª–∏–∫ üêá.

‚Äî –≠—Ç–æ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è API, ‚Äî –æ—Ç–≤–µ—Ç–∏–ª –§–∏–ª–∏–Ω ü¶â. ‚Äî –ï—Å–ª–∏ Django ‚Äî —ç—Ç–æ –æ–±—â–∏–µ —Å—Ç—Ä–æ–∏—Ç–µ–ª—å–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã, —Ç–æ DRF ‚Äî —ç—Ç–æ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –¥–≤–µ—Ä–µ–π, –æ–∫–æ–Ω –∏ –∫–æ–º–Ω–∞—Ç –Ω–∞—à–µ–≥–æ API-–∑–∞–º–∫–∞. üö™ü™ü

**–®–∞–≥ 1.5: –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º JWT üîë**

‚Äî –ò –ø–æ—Å–ª–µ–¥–Ω–µ–µ ‚Äî —Å–∏—Å—Ç–µ–º–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏, ‚Äî —Å–∫–∞–∑–∞–ª –§–∏–ª–∏–Ω ü¶â.

```bash
pip install djangorestframework-simplejwt
```

‚Äî JWT ‚Äî —ç—Ç–æ JSON Web Tokens, ‚Äî –æ–±—ä—è—Å–Ω–∏–ª –§–∏–ª–∏–Ω ü¶â, –≤–∏–¥—è –≤–æ–ø—Ä–æ—Å–∏—Ç–µ–ª—å–Ω—ã–π –≤–∑–≥–ª—è–¥ –í–∏–Ω–Ω–∏-–ü—É—Ö–∞ üêª. ‚Äî –≠—Ç–æ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ –ø—Ä–æ–ø—É—Å–∫–∞ –¥–ª—è –Ω–∞—à–µ–≥–æ –∑–∞–º–∫–∞. –ö–æ–≥–¥–∞ –¥—Ä—É–≥ –ø—Ä–∏—Ö–æ–¥–∏—Ç –≤ –∑–∞–º–æ–∫, –æ–Ω –ø–æ–ª—É—á–∞–µ—Ç —Ç–∞–∫–æ–π –ø—Ä–æ–ø—É—Å–∫ –∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –µ–≥–æ –ø—Ä–∏ –≤—Ö–æ–¥–µ –≤ –∫–∞–∂–¥—É—é –∫–æ–º–Ω–∞—Ç—É. üé´

**–®–∞–≥ 1.6: –°–æ–∑–¥–∞—ë–º requirements.txt üìã**

‚Äî –¢–µ–ø–µ—Ä—å —Å–æ—Ö—Ä–∞–Ω–∏–º —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –Ω–∞—à–∏—Ö –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤, ‚Äî —Å–∫–∞–∑–∞–ª –§–∏–ª–∏–Ω ü¶â.

```bash
pip freeze > requirements.txt
```

‚Äî –ß—Ç–æ —ç—Ç–æ –¥–µ–ª–∞–µ—Ç? ‚Äî —Å–ø—Ä–æ—Å–∏–ª –ö—Ä–æ–ª–∏–∫ üêá.

‚Äî –ö–æ–º–∞–Ω–¥–∞ **`pip freeze`** –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≤—Å–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ Python –ø–∞–∫–µ—Ç—ã –≤ –Ω–∞—à–µ–º –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–º –æ–∫—Ä—É–∂–µ–Ω–∏–∏, ‚Äî –æ–±—ä—è—Å–Ω–∏–ª –§–∏–ª–∏–Ω ü¶â. ‚Äî –ê —Å–∏–º–≤–æ–ª **`>`** –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–µ—Ç —ç—Ç–æ—Ç —Å–ø–∏—Å–æ–∫ –≤ —Ñ–∞–π–ª `requirements.txt`.

‚Äî –ó–Ω–∞—á–∏—Ç —Ñ–∞–π–ª —Å–æ–∑–¥–∞—Å—Ç—Å—è? ‚Äî —É—Ç–æ—á–Ω–∏–ª –ü—è—Ç–∞—á–æ–∫ üê∑.

‚Äî –î–∞! ‚Äî –ø–æ–¥—Ç–≤–µ—Ä–¥–∏–ª –§–∏–ª–∏–Ω ü¶â. ‚Äî –í —Ç–µ–∫—É—â–µ–π –ø–∞–ø–∫–µ –ø–æ—è–≤–∏—Ç—Å—è —Ñ–∞–π–ª `requirements.txt` —Å–æ —Å–ø–∏—Å–∫–æ–º –≤—Å–µ—Ö —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã—Ö –±–∏–±–ª–∏–æ—Ç–µ–∫ –∏ –∏—Ö –≤–µ—Ä—Å–∏–π. üìú

**–®–∞–≥ 1.7: –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å–æ–∑–¥–∞–Ω–Ω—ã–π —Ñ–∞–π–ª üîç**

‚Äî –î–∞–≤–∞–π—Ç–µ –ø–æ—Å–º–æ—Ç—Ä–∏–º, —á—Ç–æ —É –Ω–∞—Å –ø–æ–ª—É—á–∏–ª–æ—Å—å, ‚Äî –ø—Ä–µ–¥–ª–æ–∂–∏–ª –§–∏–ª–∏–Ω ü¶â.

```bash
type requirements.txt
```

‚Äî –ö–æ–º–∞–Ω–¥–∞ `type` –Ω–∞ Windows –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–∞–π–ª–∞, ‚Äî –æ–±—ä—è—Å–Ω–∏–ª –§–∏–ª–∏–Ω ü¶â. ‚Äî –í—ã –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å –ø—Ä–∏–º–µ—Ä–Ω–æ —Ç–∞–∫:

```
Django==4.2.0
djangorestframework==3.14.0
djangorestframework-simplejwt==5.3.0
```

‚Äî –¢–µ–ø–µ—Ä—å —É –Ω–∞—Å –µ—Å—Ç—å —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤! ‚úÖ

**–®–∞–≥ 1.8: –°–æ–∑–¥–∞—ë–º Django –ø—Ä–æ–µ–∫—Ç üèóÔ∏è**

‚Äî –¢–µ–ø–µ—Ä—å —Å–æ–∑–¥–∞–¥–∏–º —Å–∞–º –ø—Ä–æ–µ–∫—Ç Django, ‚Äî —Å–∫–∞–∑–∞–ª –§–∏–ª–∏–Ω ü¶â.

```bash
django-admin startproject friend_castle .
```

‚Äî **–û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ –Ω–∞ —Ç–æ—á–∫—É –≤ –∫–æ–Ω—Ü–µ!** ‚Äî –ø—Ä–µ–¥—É–ø—Ä–µ–¥–∏–ª –§–∏–ª–∏–Ω ü¶â. ‚Äî –û–Ω–∞ –æ–∑–Ω–∞—á–∞–µ—Ç ¬´—Å–æ–∑–¥–∞–π –ø—Ä–æ–µ–∫—Ç –≤ —Ç–µ–∫—É—â–µ–π –ø–∞–ø–∫–µ¬ª, –∞ –Ω–µ –≤ –Ω–æ–≤–æ–π –≤–ª–æ–∂–µ–Ω–Ω–æ–π –ø–∞–ø–∫–µ.

**–®–∞–≥ 1.9: –ò—Å—Å–ª–µ–¥—É–µ–º —Ç–µ—Ä—Ä–∏—Ç–æ—Ä–∏—é –∑–∞–º–∫–∞ Friend-Castle üó∫Ô∏èüçØ**

–í–∏–Ω–Ω–∏-–ü—É—Ö üêª, –ü—è—Ç–∞—á–æ–∫ üê∑ –∏ –ö—Ä–æ–ª–∏–∫ üêá —Å—Ç–æ—è–ª–∏ –ø–µ—Ä–µ–¥ —Ç–æ–ª—å–∫–æ —á—Ç–æ —Å–æ–∑–¥–∞–Ω–Ω—ã–º –ø—Ä–æ–µ–∫—Ç–æ–º. –§–∏–ª–∏–Ω ü¶â —Ä–∞–∑–≤–µ—Ä–Ω—É–ª –ø–µ—Ä–µ–¥ –Ω–∏–º–∏ –≤–æ–ª—à–µ–±–Ω—É—é –∫–∞—Ä—Ç—É:

```
friend_castle/
‚îÇ
‚îú‚îÄ‚îÄ ü™Ñ manage.py
‚îî‚îÄ‚îÄ friend_castle
    ‚îÇ
    ‚îú‚îÄ‚îÄ üè∑Ô∏è __init__.py
    ‚îú‚îÄ‚îÄ üö™ asgi.py
    ‚îú‚îÄ‚îÄ üö™ wsgi.py
    ‚îú‚îÄ‚îÄ üëë settings.py
    ‚îî‚îÄ‚îÄ üó∫Ô∏è urls.py
```

–í–∏–Ω–Ω–∏-–ü—É—Ö üêª –ø–æ—Ç—è–Ω—É–ª—Å—è –∫ –∫–∞—Ä—Ç–µ:

‚Äî –û–π-–æ–π-–æ–π! –ß—Ç–æ –≤—Å–µ —ç—Ç–∏ —à—Ç—É—á–∫–∏ –æ–∑–Ω–∞—á–∞—é—Ç?

**ü™Ñ manage.py ‚Äî –í–æ–ª—à–µ–±–Ω–∞—è –ø–∞–ª–æ—á–∫–∞ –ì–∞—Ä—Ä–∏ –ü–æ—Ç—Ç–µ—Ä–∞**

‚Äî –≠—Ç–æ —Ç–≤–æ—è –≤–æ–ª—à–µ–±–Ω–∞—è –ø–∞–ª–æ—á–∫–∞! ‚Äî —É–ª—ã–±–Ω—É–ª—Å—è –§–∏–ª–∏–Ω ü¶â. ‚Äî –° –µ—ë –ø–æ–º–æ—â—å—é —Ç—ã –º–æ–∂–µ—à—å:
    *   –ü—Ä–æ–∏–∑–Ω–µ—Å—Ç–∏ `runserver` ‚Äî –∏ –∑–∞–º–æ–∫ –æ–∂–∏–≤—ë—Ç! üè∞
    *   –°–∫–∞–∑–∞—Ç—å `startapp friends` ‚Äî –∏ –ø–æ—è–≤–∏—Ç—Å—è –Ω–æ–≤–∞—è –∫–æ–º–Ω–∞—Ç–∞ –¥–ª—è –¥—Ä—É–∑–µ–π! üè†
    *   –ü—Ä–∏–∫–∞–∑–∞—Ç—å `migrate` ‚Äî –∏ –º–µ–±–µ–ª—å —Å–∞–º–∞ —Ä–∞—Å—Å—Ç–∞–≤–∏—Ç—Å—è –ø–æ –º–µ—Å—Ç–∞–º! üõãÔ∏è

–ü—è—Ç–∞—á–æ–∫ üê∑:
‚Äî –ö–∞–∫ –º–æ—è –ª–æ–ø–∞—Ç–∫–∞ –¥–ª—è –æ–≥–æ—Ä–æ–¥–∞! –ú–∞–ª–µ–Ω—å–∫–∞—è, –Ω–æ –±–µ–∑ –Ω–µ—ë –Ω–∏–∫—É–¥–∞! üå±

**üè∑Ô∏è __init__.py ‚Äî –ù–µ–≤–∏–¥–∏–º–∞—è –º–∞–≥–∏—á–µ—Å–∫–∞—è –ø–µ—á–∞—Ç—å**

‚Äî –≠—Ç–æ—Ç –ø–æ—á—Ç–∏ –ø—É—Å—Ç–æ–π —Ñ–∞–π–ª ‚Äî –∫–∞–∫ –≤–æ–ª—à–µ–±–Ω–∞—è –ø–µ—á–∞—Ç—å –Ω–∞ –ø–∞—Å–ø–æ—Ä—Ç–µ, ‚Äî –æ–±—ä—è—Å–Ω–∏–ª –§–∏–ª–∏–Ω ü¶â. ‚Äî –û–Ω —à–µ–ø—á–µ—Ç Python: ¬´–≠—Ç—É –ø–∞–ø–∫—É –º–æ–∂–Ω–æ —Å—á–∏—Ç–∞—Ç—å –≤–æ–ª—à–µ–±–Ω–æ–π! –ó–¥–µ—Å—å –∂–∏–≤—É—Ç –∑–∞–∫–ª–∏–Ω–∞–Ω–∏—è!¬ª. –ë–µ–∑ —ç—Ç–æ–π –ø–µ—á–∞—Ç–∏ Python –ø—Ä–æ–π–¥—ë—Ç –º–∏–º–æ, –Ω–µ –∑–∞–º–µ—Ç–∏–≤ –Ω–∞—à–∏—Ö —Å–æ–∫—Ä–æ–≤–∏—â. ‚ú®

**üëë settings.py ‚Äî –ë–æ–ª—å—à–∞—è –∫–Ω–∏–≥–∞ –∑–∞–∫–æ–Ω–æ–≤ –∫–æ—Ä–æ–ª–µ–≤—Å—Ç–≤–∞ üìñ**

–ö—Ä–æ–ª–∏–∫ üêá –∑–∞–≥–ª—è–Ω—É–ª –≤ —Ñ–∞–π–ª –∏ –∞—Ö–Ω—É–ª:
‚Äî –¶–µ–ª—ã–µ —Ç–æ–º–∞ –ø—Ä–∞–≤–∏–ª!

‚Äî –ò–º–µ–Ω–Ω–æ! ‚Äî –ø–æ–¥—Ç–≤–µ—Ä–¥–∏–ª –§–∏–ª–∏–Ω ü¶â. ‚Äî –ó–¥–µ—Å—å –∑–∞–ø–∏—Å–∞–Ω–æ **–í–°–Å**:
    *   –ö–∞–∫–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è-–∫–æ–º–Ω–∞—Ç—ã —Ä–∞–∑—Ä–µ—à–µ–Ω—ã –≤ –∑–∞–º–∫–µ
    *   –ì–¥–µ —Ö—Ä–∞–Ω–∏—Ç—å —Å–æ–∫—Ä–æ–≤–∏—â–∞ (–±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö ‚Äî –Ω–∞—à –±–∞–Ω–∫ –º—ë–¥–∞!) üçØüè¶
    *   –ù–∞ –∫–∞–∫–æ–º —è–∑—ã–∫–µ –≥–æ–≤–æ—Ä—è—Ç –∂–∏—Ç–µ–ª–∏ (`'ru-ru'` ‚Äî –ø–æ-—Ä—É—Å—Å–∫–∏!)
    *   –°–∞–º—ã–π –≥–ª–∞–≤–Ω—ã–π —Å–µ–∫—Ä–µ—Ç ‚Äî `SECRET_KEY` (–∫–∞–∫ —Å–µ–∫—Ä–µ—Ç–Ω—ã–π —Ä–µ—Ü–µ–ø—Ç –ü—É—Ö–∞ –¥–ª—è –ª—É—á—à–µ–≥–æ –º—ë–¥–∞!) ü§´üçØ

**üó∫Ô∏è urls.py ‚Äî –ö–∞—Ä—Ç–∞ –≤—Å–µ—Ö —Ç—Ä–æ–ø–∏–Ω–æ–∫ –∏ –¥–æ—Ä–æ–∂–µ–∫**

‚Äî –ê —ç—Ç–æ ‚Äî –∫–∞—Ä—Ç–∞! ‚Äî –≤–æ—Å–∫–ª–∏–∫–Ω—É–ª –§–∏–ª–∏–Ω ü¶â. ‚Äî –ü–æ–∫–∞ –∑–¥–µ—Å—å —Ç–æ–ª—å–∫–æ –æ–¥–Ω–∞ –¥–æ—Ä–æ–∂–∫–∞:

```python
path('admin/', admin.site.urls)  # –≤–µ–¥—ë—Ç –≤ —Ç—Ä–æ–Ω–Ω—ã–π –∑–∞–ª üëë
```

‚Äî –ù–æ —Å–∫–æ—Ä–æ –ø–æ—è–≤—è—Ç—Å—è:
    *   –¢—Ä–æ–ø–∏–Ω–∫–∞ –∫ –¥–æ–º–∏–∫—É –ü—É—Ö–∞ üçØüè†
    *   –î–æ—Ä–æ–∂–∫–∞ –∫ –æ–≥–æ—Ä–æ–¥—É –ö—Ä–æ–ª–∏–∫–∞ ü•ïüå±
    *   –¢—Ä–æ–ø–∞ –∫ –¥–æ–º—É –ü—è—Ç–∞—á–∫–∞ üê∑üè†

**üö™ asgi.py –∏ wsgi.py ‚Äî –î–≤–∞ –ø–µ—Ä–µ–≤–æ–¥—á–∏–∫–∞ —É —Ç—Ä–æ–Ω–∞ –∫–æ—Ä–æ–ª—è üëë**

–ö—Ä–æ–ª–∏–∫ üêá –Ω–∞—Ö–º—É—Ä–∏–ª—Å—è:
‚Äî –ó–∞—á–µ–º –¥–≤–∞ –ø–µ—Ä–µ–≤–æ–¥—á–∏–∫–∞? –û–¥–∏–Ω –±—ã —Å–ø—Ä–∞–≤–∏–ª—Å—è!

–§–∏–ª–∏–Ω ü¶â –≤–∑—è–ª –¥–≤–∞ –∫–æ–ª–æ–∫–æ–ª—å—á–∏–∫–∞:
‚Äî –ü–æ–∑–≤–æ–ª—å—Ç–µ –æ–±—ä—è—Å–Ω–∏—Ç—å –Ω–∞ –ø—Ä–∏–º–µ—Ä–µ –ø–æ—á—Ç—ã! üì®

**üõ°Ô∏è wsgi.py ‚Äî –°—Ç–∞—Ä—ã–π –ø–æ—á—Ç–∞–ª—å–æ–Ω –ü—ë—Ç—Ä üë¥**

–í–æ–æ–±—Ä–∞–∑–∏—Ç–µ –ø–æ—á—Ç–∞–ª—å–æ–Ω–∞ –ü–µ—Ç—Ä–∞, –∫–æ—Ç–æ—Ä—ã–π:
1.  –ü—Ä–∏–Ω–∏–º–∞–µ—Ç –æ–¥–Ω–æ –ø–∏—Å—å–º–æ üì®
2.  –û—Ç–Ω–æ—Å–∏—Ç –µ–≥–æ –∫–æ—Ä–æ–ª—é üëë
3.  –ñ–¥—ë—Ç –æ—Ç–≤–µ—Ç–∞ ‚è≥
4.  –û—Ç–Ω–æ—Å–∏—Ç –æ—Ç–≤–µ—Ç –æ–±—Ä–∞—Ç–Ω–æ üì®
5.  **–¢–æ–ª—å–∫–æ –ø–æ—Ç–æ–º** –±–µ—Ä—ë—Ç —Å–ª–µ–¥—É—é—â–µ–µ –ø–∏—Å—å–º–æ

–í–∏–Ω–Ω–∏-–ü—É—Ö üêª:
‚Äî –ö–∞–∫ —è —Å –≥–æ—Ä—à–æ—á–∫–æ–º –º—ë–¥–∞! –°–Ω–∞—á–∞–ª–∞ –æ–¥–∏–Ω, –ø–æ—Ç–æ–º –¥—Ä—É–≥–æ–π! üçØüçØ

**‚ö° asgi.py ‚Äî –°–æ–≤—Ä–µ–º–µ–Ω–Ω–∞—è –ø–æ—á—Ç–æ–≤–∞—è –∫–æ–º–∞–Ω–¥–∞ üèÉ‚Äç‚ôÇÔ∏èüí®**

–ê —Ç–µ–ø–µ—Ä—å –ø—Ä–µ–¥—Å—Ç–∞–≤—å—Ç–µ —Ü–µ–ª—É—é –∫–æ–º–∞–Ω–¥—É –ø–æ—á—Ç–∞–ª—å–æ–Ω–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ:
1.  –ë–µ—Ä—É—Ç **–º–Ω–æ–≥–æ –ø–∏—Å–µ–º —Å—Ä–∞–∑—É** üì®üì®üì®
2.  –û—Ç–Ω–æ—Å—è—Ç –≤—Å–µ –∫–æ—Ä–æ–ª—é –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ üëë
3.  –ú–æ–≥—É—Ç –¥–æ—Å—Ç–∞–≤–ª—è—Ç—å –¥–∞–∂–µ –≤–∏–¥–µ–æ–ø–∏—Å—å–º–∞ (WebSockets) üé•
4.  –†–∞–±–æ—Ç–∞—é—Ç **–≤—Å–µ —Å—Ä–∞–∑—É**, –Ω–µ –º–µ—à–∞—è –¥—Ä—É–≥ –¥—Ä—É–≥—É!

–ü—è—Ç–∞—á–æ–∫ üê∑:
‚Äî –û! –ö–∞–∫ –º—É—Ä–∞–≤—å–∏ –≤ –º—É—Ä–∞–≤–µ–π–Ω–∏–∫–µ! –í—Å–µ –≤–º–µ—Å—Ç–µ –Ω–æ—Å—è—Ç! üêúüêúüêú

**ü§î –ê –∫—Ç–æ –∂–µ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –¥–≤–µ—Ä—å –≤ –∑–∞–º–æ–∫?**

‚Äî –í–æ—Ç —Ç—É—Ç —Å–∞–º–æ–µ –≤–∞–∂–Ω–æ–µ! ‚Äî –ø–æ–¥–Ω—è–ª –ø–∞–ª–µ—Ü –§–∏–ª–∏–Ω ü¶â. ‚Äî **–≠—Ç–∏ —Ñ–∞–π–ª—ã –ù–ï –¥–≤–µ—Ä—å!**

–ù–∞—Å—Ç–æ—è—â—É—é –¥–≤–µ—Ä—å –¥–µ–ª–∞—é—Ç –º–æ–≥—É—á–∏–µ —Å—Ç—Ä–∞–∂–∏:
*   **Nginx** ‚Äî –æ–≥—Ä–æ–º–Ω—ã–π –º–µ–¥–≤–µ–¥—å —É –≤–æ—Ä–æ—Ç üêª
*   **Apache** ‚Äî —Å—Ç–∞—Ä—ã–π, –º—É–¥—Ä—ã–π —Ñ–∏–ª–∏–Ω ü¶â
*   **Gunicorn** ‚Äî –≤–µ—Ä–Ω—ã–π –ø—ë—Å –∫–æ—Ä–æ–ª—è üêï

–ê –Ω–∞—à–∏ `asgi.py` –∏ `wsgi.py` ‚Äî —ç—Ç–æ **–ª–∏—á–Ω—ã–µ —Å–µ–∫—Ä–µ—Ç–∞—Ä–∏ –∫–æ—Ä–æ–ª—è**, –∫–æ—Ç–æ—Ä—ã–µ:
1.  –°—Ç–æ—è—Ç —É —Ç—Ä–æ–Ω–∞
2.  –ü—Ä–∏–Ω–∏–º–∞—é—Ç —Å–æ–æ–±—â–µ–Ω–∏—è –æ—Ç —Å—Ç—Ä–∞–∂–µ–π
3.  **–ü–µ—Ä–µ–≤–æ–¥—è—Ç** —Å —è–∑—ã–∫–∞ HTTP –Ω–∞ —è–∑—ã–∫ Python
4.  –û—Ç–¥–∞—é—Ç –æ—Ç–≤–µ—Ç –¥–ª—è –ø–µ—Ä–µ–¥–∞—á–∏ –æ–±—Ä–∞—Ç–Ω–æ

**üçØ –ü—Ä–∏–º–µ—Ä –Ω–∞ –º—ë–¥–µ:**

1.  –¢—ã –∫—Ä–∏—á–∏—à—å: ¬´–ú—ë–¥–∞!¬ª üó£Ô∏è (HTTP-–∑–∞–ø—Ä–æ—Å)
2.  –°—Ç—Ä–∞–∂ Nginx —Å–ª—ã—à–∏—Ç –∏ –≥–æ–≤–æ—Ä–∏—Ç —Å–µ–∫—Ä–µ—Ç–∞—Ä—é üêª‚Üíüë®‚Äçüíº
3.  –°–µ–∫—Ä–µ—Ç–∞—Ä—å WSGI –ø–µ—Ä–µ–≤–æ–¥–∏—Ç –ø—á—ë–ª–∞–º: ¬´–î–∞–π—Ç–µ –º—ë–¥—É!¬ª üë®‚Äçüíº‚Üíüêù
4.  –ü—á—ë–ª—ã –¥–∞—é—Ç –º—ë–¥ üçØ (Django —Ä–∞–±–æ—Ç–∞–µ—Ç)
5.  –°–µ–∫—Ä–µ—Ç–∞—Ä—å –ø–µ—Ä–µ–¥–∞—ë—Ç —Ç–µ–±–µ: ¬´–î–µ—Ä–∂–∏!¬ª üë®‚Äçüíº‚Üíüß∏

**–ë–µ–∑ —Å–µ–∫—Ä–µ—Ç–∞—Ä—è-–ø–µ—Ä–µ–≤–æ–¥—á–∏–∫–∞ —Ç—ã –±—ã –∫—Ä–∏—á–∞–ª, –∞ –ø—á—ë–ª—ã –Ω–µ –ø–æ–Ω–∏–º–∞–ª–∏!** üó£Ô∏è‚ùåüêù

**üéØ –ó–∞—á–µ–º –æ–±–∞ —Ñ–∞–π–ª–∞?**

‚Äî Django —Ç–µ–ø–µ—Ä—å —É–º–Ω—ã–π! ‚Äî —Å–∫–∞–∑–∞–ª –§–∏–ª–∏–Ω ü¶â. ‚Äî
1.  –°–Ω–∞—á–∞–ª–∞ –∏—Å–ø–æ–ª—å–∑—É–µ–º —Å—Ç–∞—Ä–æ–≥–æ, –ø—Ä–æ–≤–µ—Ä–µ–Ω–Ω–æ–≥–æ —Å–µ–∫—Ä–µ—Ç–∞—Ä—è (**WSGI**)
2.  –ï—Å–ª–∏ –¥—Ä—É–∑–µ–π —Å—Ç–∞–Ω–µ—Ç –º–Ω–æ–≥–æ –∏ –∑–∞—Ö–æ—Ç–∏–º —á–∞—Ç ‚Äî –ø–æ–∑–æ–≤—ë–º –º–æ–ª–æ–¥–æ–≥–æ, –±—ã—Å—Ç—Ä–æ–≥–æ —Å–µ–∫—Ä–µ—Ç–∞—Ä—è (**ASGI**)

–í–∏–Ω–Ω–∏-–ü—É—Ö üêª —Ö–ª–æ–ø–Ω—É–ª –≤ –ª–∞–¥–æ—à–∏:
‚Äî –ü–æ–Ω—è–ª! –£ –º–µ–Ω—è –µ—Å—Ç—å –±–æ–ª—å—à–∞—è –ª–æ–∂–∫–∞ –¥–ª—è –∫–∞—à–∏ –∏ –º–∞–ª–µ–Ω—å–∫–∞—è –¥–ª—è —á–∞—è! –û–±–µ –Ω—É–∂–Ω—ã, –Ω–æ –≤ —Ä–∞–∑–Ω–æ–µ –≤—Ä–µ–º—è! ü•Ñ‚òï

**üå≥ –ß—Ç–æ –¥–∞–ª—å—à–µ?**

–§–∏–ª–∏–Ω ü¶â –ø–æ—Å–º–æ—Ç—Ä–µ–ª –Ω–∞ –¥—Ä—É–∑–µ–π:
‚Äî –ù–∞—à –∑–∞–º–æ–∫ –ø–æ—Å—Ç—Ä–æ–µ–Ω, –∑–∞–∫–æ–Ω—ã –Ω–∞–ø–∏—Å–∞–Ω—ã, –∫–∞—Ä—Ç–∞ –≥–æ—Ç–æ–≤–∞, –ø–µ—Ä–µ–≤–æ–¥—á–∏–∫–∏ –Ω–∞–Ω—è—Ç—ã. –ù–æ –≤ –∑–∞–º–∫–µ **–ø—É—Å—Ç–æ**!

‚Äî –°–ª–µ–¥—É—é—â–∏–π —à–∞–≥ ‚Äî —Å–æ–∑–¥–∞–¥–∏–º –ø–µ—Ä–≤—É—é –∫–æ–º–Ω–∞—Ç—É! –ö–æ–º–Ω–∞—Ç—É –¥—Ä—É–∑–µ–π!
‚Äî –í–æ–ª—à–µ–±–Ω—ã–º–∏ —Å–ª–æ–≤–∞–º–∏: `python manage.py startapp friends_api`

–î—Ä—É–∑—å—è –ø–µ—Ä–µ–≥–ª—è–Ω—É–ª–∏—Å—å. –ö–∞—Ä—Ç–∞ –∏–∑—É—á–µ–Ω–∞, –∑–∞–∫–æ–Ω—ã –ø–æ–Ω—è—Ç–Ω—ã, —Å–µ–∫—Ä–µ—Ç–∞—Ä–∏ –Ω–∞ –º–µ—Å—Ç–∞—Ö. –ü–æ—Ä–∞ –∑–∞—Å–µ–ª—è—Ç—å –∑–∞–º–æ–∫!

–ó–∞–º–æ–∫ Friend-Castle –∂–¥—ë—Ç –ø–µ—Ä–≤—ã—Ö –∂–∏—Ç–µ–ª–µ–π... –ö—Ç–æ –ø–æ—Å–µ–ª–∏—Ç—Å—è –ø–µ—Ä–≤—ã–º? üè∞‚Üíüë´

**–®–∞–≥ 1.10: –°–æ–∑–¥–∞—ë–º –ø–µ—Ä–≤—É—é –∫–æ–º–Ω–∞—Ç—É ‚Äî friends_api! üè†**

–§–∏–ª–∏–Ω ü¶â –≤–∑—è–ª –≤–æ–ª—à–µ–±–Ω—É—é –ø–∞–ª–æ—á–∫—É `manage.py` –∏ –ø—Ä–æ–∏–∑–Ω—ë—Å –∑–∞–∫–ª–∏–Ω–∞–Ω–∏–µ:

```bash
python manage.py startapp friends_api
```

–õ—ë–≥–∫–æ–µ —Å–≤–µ—á–µ–Ω–∏–µ –æ–∑–∞—Ä–∏–ª–æ –ª–µ—Å! ‚ú® –ü–æ—è–≤–∏–ª–∞—Å—å –Ω–æ–≤–∞—è –ø–∞–ø–∫–∞:

```
friends_api/
‚îú‚îÄ‚îÄ üè∑Ô∏è __init__.py
‚îú‚îÄ‚îÄ üëë admin.py
‚îú‚îÄ‚îÄ üì¶ apps.py
‚îú‚îÄ‚îÄ üóÉÔ∏è models.py
‚îú‚îÄ‚îÄ üß™ tests.py
‚îî‚îÄ‚îÄ üëÄ views.py
```

–í–∏–Ω–Ω–∏-–ü—É—Ö üêª –ø–æ–¥–±–µ–∂–∞–ª –±–ª–∏–∂–µ:

‚Äî –û–π! –ú–∞–ª–µ–Ω—å–∫–∏–π –¥–æ–º–∏–∫ –≤ –±–æ–ª—å—à–æ–º –∑–∞–º–∫–µ! –ê —á—Ç–æ –≤–Ω—É—Ç—Ä–∏?

–§–∏–ª–∏–Ω ü¶â —É–ª—ã–±–Ω—É–ª—Å—è:

‚Äî –≠—Ç–æ –Ω–∞—à–∞ –ø–µ—Ä–≤–∞—è –∫–æ–º–Ω–∞—Ç–∞, –ü—É—Ö! –ó–¥–µ—Å—å –º—ã –±—É–¥–µ–º —Ö—Ä–∞–Ω–∏—Ç—å –≤—Å—ë, —á—Ç–æ –∫–∞—Å–∞–µ—Ç—Å—è –¥—Ä—É–∑–µ–π. –ù–æ –¥–∞–≤–∞–π –ø–æ—Å–º–æ—Ç—Ä–∏–º –Ω–∞ –∫–∞–∂–¥—ã–π —Ñ–∞–π–ª –ø–æ –ø–æ—Ä—è–¥–∫—É.

**üì¶ apps.py ‚Äî –í–∏–∑–∏—Ç–Ω–∞—è –∫–∞—Ä—Ç–æ—á–∫–∞ –∫–æ–º–Ω–∞—Ç—ã**

–§–∏–ª–∏–Ω ü¶â –æ—Ç–∫—Ä—ã–ª –ø–µ—Ä–≤—ã–π —Ñ–∞–π–ª:

```python
# apps.py
from django.apps import AppConfig

class FriendsApiConfig(AppConfig):
    default_auto_field = 'django.db.models.BigAutoField'
    name = 'friends_api'  # ‚Üê –í–æ—Ç –º–æ—ë –∏–º—è!
```

‚Äî –≠—Ç–æ –∫–∞–∫ —Ç–∞–±–ª–∏—á–∫–∞ –Ω–∞ –¥–≤–µ—Ä–∏, ‚Äî –æ–±—ä—è—Å–Ω–∏–ª –§–∏–ª–∏–Ω ü¶â. ‚Äî –û–Ω–∞ –≥–æ–≤–æ—Ä–∏—Ç: ¬´–ó–¥–µ—Å—å –∂–∏–≤—ë—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ `friends_api`!¬ª. –ë–µ–∑ —ç—Ç–æ–π —Ç–∞–±–ª–∏—á–∫–∏ –≥–ª–∞–≤–Ω—ã–π –∑–∞–º–æ–∫ –¥–∞–∂–µ –Ω–µ —É–∑–Ω–∞–µ—Ç, —á—Ç–æ —ç—Ç–∞ –∫–æ–º–Ω–∞—Ç–∞ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç.

–ö—Ä–æ–ª–∏–∫ üêá –ø—Ä–∏—â—É—Ä–∏–ª—Å—è:

‚Äî –ü–æ–Ω—è—Ç–Ω–æ. –ê –æ—Å—Ç–∞–ª—å–Ω—ã–µ —Ñ–∞–π–ª—ã? –ß—Ç–æ –≤ –Ω–∏—Ö?

**üóÉÔ∏è models.py ‚Äî –ß–µ—Ä—Ç—ë–∂–Ω–∞—è –∫–æ–º–Ω–∞—Ç–∞ üìê**

‚Äî –í–æ—Ç —ç—Ç–æ ‚Äî —Å–∞–º–∞—è –≤–∞–∂–Ω–∞—è –∫–æ–º–Ω–∞—Ç–∞! ‚Äî —Å–∫–∞–∑–∞–ª –§–∏–ª–∏–Ω ü¶â, –ø–æ–∫–∞–∑—ã–≤–∞—è –Ω–∞ `models.py`. ‚Äî –ó–¥–µ—Å—å –º—ã –±—É–¥–µ–º —Ä–∏—Å–æ–≤–∞—Ç—å —á–µ—Ä—Ç–µ–∂–∏ —Ç–æ–≥–æ, –∫–∞–∫ –≤—ã–≥–ª—è–¥–∏—Ç –Ω–∞—à –î—Ä—É–≥.

–ü—è—Ç–∞—á–æ–∫ üê∑ –Ω–∞–∫–ª–æ–Ω–∏–ª –≥–æ–ª–æ–≤—É:

‚Äî –ß–µ—Ä—Ç–µ–∂–∏ –¥—Ä—É–≥–∞? –ö–∞–∫ —ç—Ç–æ?

‚Äî –ù–∞–ø—Ä–∏–º–µ—Ä, ‚Äî –ø—Ä–æ–¥–æ–ª–∂–∏–ª –§–∏–ª–∏–Ω ü¶â, ‚Äî –∫–∞–∂–¥—ã–π –¥—Ä—É–≥ –∏–º–µ–µ—Ç:
    *   –ò–º—è
    *   –í–æ–∑—Ä–∞—Å—Ç
    *   –õ—é–±–∏–º–æ–µ –∑–∞–Ω—è—Ç–∏–µ
    *   –î–∞—Ç–∞, –∫–æ–≥–¥–∞ –º—ã –ø–æ–∑–Ω–∞–∫–æ–º–∏–ª–∏—Å—å

–í —ç—Ç–æ–º —Ñ–∞–π–ª–µ –º—ã –æ–ø–∏—à–µ–º: ¬´–í–æ—Ç —Ç–∞–∫ –¥–æ–ª–∂–µ–Ω –≤—ã–≥–ª—è–¥–µ—Ç—å –∑–∞–ø–∏—Å—å –æ –¥—Ä—É–≥–µ –≤ –Ω–∞—à–µ–π –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö¬ª.

**üëÄ views.py ‚Äî –û–∫–Ω–∞ –≤ –º–∏—Ä ü™ü**

‚Äî –ê —ç—Ç–æ ‚Äî –æ–∫–Ω–∞ –Ω–∞—à–µ–π –∫–æ–º–Ω–∞—Ç—ã! ‚Äî –≤–æ—Å–∫–ª–∏–∫–Ω—É–ª –§–∏–ª–∏–Ω ü¶â. ‚Äî –ö–∞–∂–¥–æ–µ –æ–∫–Ω–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —á—Ç–æ-—Ç–æ —Ä–∞–∑–Ω–æ–µ:
    *   –û–¥–Ω–æ –æ–∫–Ω–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –¥—Ä—É–∑–µ–π üë•
    *   –î—Ä—É–≥–æ–µ ‚Äî –ø–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏ –æ–± –æ–¥–Ω–æ–º –¥—Ä—É–≥–µ üë§
    *   –¢—Ä–µ—Ç—å–µ ‚Äî –ø–æ–∏—Å–∫ –¥—Ä—É–∑–µ–π –ø–æ –∏–Ω—Ç–µ—Ä–µ—Å–∞–º üîç

–í–∏–Ω–Ω–∏-–ü—É—Ö üêª –∑–∞—Ö–ª–æ–ø–∞–ª –≤ –ª–∞–¥–æ—à–∏:

‚Äî –ö–∞–∫ –≤ –º–æ—ë–º –¥–æ–º–µ! –û–¥–Ω–æ –æ–∫–Ω–æ –Ω–∞ –æ–ø—É—à–∫—É, –¥—Ä—É–≥–æ–µ ‚Äî –Ω–∞ —Ä–µ—á–∫—É! üå≥üåä

**üëë admin.py ‚Äî –°–µ–∫—Ä–µ—Ç–Ω—ã–π –≤—Ö–æ–¥ üïµÔ∏è‚Äç‚ôÇÔ∏è**

‚Äî –≠—Ç–æ—Ç —Ñ–∞–π–ª ‚Äî –∫–∞–∫ –ø–æ—Ç–∞–π–Ω–∞—è –¥–≤–µ—Ä—å –¥–ª—è –ö–æ—Ä–æ–ª—è, ‚Äî –ø–æ–Ω–∏–∑–∏–ª –≥–æ–ª–æ—Å –§–∏–ª–∏–Ω ü¶â. ‚Äî –ß–µ—Ä–µ–∑ –Ω–µ–≥–æ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä (—ç—Ç–æ –º—ã —Å –≤–∞–º–∏) –º–æ–∂–µ—Ç:
    *   –î–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã—Ö –¥—Ä—É–∑–µ–π
    *   –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –Ω–∏—Ö
    *   –£–ø—Ä–∞–≤–ª—è—Ç—å –≤—Å–µ–º–∏ –∑–∞–ø–∏—Å—è–º–∏

–ö—Ä–æ–ª–∏–∫ üêá –Ω–∞—Å—Ç–æ—Ä–æ–∂–∏–ª—Å—è:

‚Äî –ó–Ω–∞—á–∏—Ç, –Ω–µ –∫–∞–∂–¥—ã–π –º–æ–∂–µ—Ç —Ç—É–¥–∞ –≤–æ–π—Ç–∏?

‚Äî –¢–æ—á–Ω–æ! –¢–æ–ª—å–∫–æ —Ç–µ, —É –∫–æ–≥–æ –µ—Å—Ç—å –≤–æ–ª—à–µ–±–Ω—ã–π –∫–ª—é—á! üîë

**üß™ tests.py ‚Äî –ö–æ–º–Ω–∞—Ç–∞ –ø—Ä–æ–≤–µ—Ä–æ–∫**

‚Äî –ê –∑–¥–µ—Å—å –º—ã –±—É–¥–µ–º –ø—Ä–æ–≤–µ—Ä—è—Ç—å, —á—Ç–æ –Ω–∞—à–∞ –∫–æ–º–Ω–∞—Ç–∞ –±–µ–∑–æ–ø–∞—Å–Ω–∞ –∏ –≤—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ, ‚Äî —Å–∫–∞–∑–∞–ª –§–∏–ª–∏–Ω ü¶â. ‚Äî –ö–∞–∫ –ø—Ä–æ–±–æ–≤–∞—Ç—å –º—ë–¥, –ø—Ä–µ–∂–¥–µ —á–µ–º —É–≥–æ—â–∞—Ç—å –≥–æ—Å—Ç–µ–π! üçØüëÖ

–ü—è—Ç–∞—á–æ–∫ üê∑ –∫–∏–≤–Ω—É–ª:

‚Äî –£–º–Ω–æ! –°–Ω–∞—á–∞–ª–∞ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, –ø–æ—Ç–æ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å.

**üè∑Ô∏è __init__.py ‚Äî –í–æ–ª—à–µ–±–Ω–∞—è –ø—ã–ª—å ‚ú®**

‚Äî –≠—Ç–æ—Ç –ø–æ—á—Ç–∏ –ø—É—Å—Ç–æ–π —Ñ–∞–π–ª ‚Äî –∫–∞–∫ –≤–æ–ª—à–µ–±–Ω–∞—è –ø—ã–ª—å, ‚Äî —É–ª—ã–±–Ω—É–ª—Å—è –§–∏–ª–∏–Ω ü¶â. ‚Äî –û–Ω –≥–æ–≤–æ—Ä–∏—Ç Python: ¬´–≠—Ç–∞ –ø–∞–ø–∫–∞ ‚Äî –æ—Å–æ–±–µ–Ω–Ω–∞—è! –ó–¥–µ—Å—å –∂–∏–≤—É—Ç –∑–∞–∫–ª–∏–Ω–∞–Ω–∏—è!¬ª. –ë–µ–∑ —ç—Ç–æ–π –ø—ã–ª—å–∫–∏ Python –ø—Ä–æ—Å—Ç–æ –ø—Ä–æ–π–¥—ë—Ç –º–∏–º–æ.

–í–∏–Ω–Ω–∏-–ü—É—Ö üêª –ø–æ—Ç—ë—Ä –ª–∞–ø–æ–π –ª–æ–±:

‚Äî –ú–Ω–æ–≥–æ –≤—Å–µ–≥–æ... –ù–æ –≤—Ä–æ–¥–µ –ø–æ–Ω—è—Ç–Ω–æ! –ö–∞–∂–¥—ã–π —Ñ–∞–π–ª ‚Äî –∫–∞–∫ –æ—Ç–¥–µ–ª—å–Ω–∞—è –ø–æ–ª–æ—á–∫–∞ –≤ —à–∫–∞—Ñ—É! üóÑÔ∏è

–§–∏–ª–∏–Ω ü¶â –∑–∞–∫—Ä—ã–ª –ø–∞–ø–∫—É:

‚Äî –ò–º–µ–Ω–Ω–æ, –ü—É—Ö! –ê —Ç–µ–ø–µ—Ä—å —Å–∞–º—ã–π –≤–∞–∂–Ω—ã–π —à–∞–≥: –Ω—É–∂–Ω–æ –ø–æ–≤–µ—Å–∏—Ç—å —Ç–∞–±–ª–∏—á–∫—É –Ω–∞ –¥–≤–µ—Ä—å —ç—Ç–æ–π –∫–æ–º–Ω–∞—Ç—ã –≤ –≥–ª–∞–≤–Ω–æ–º –∑–∞–º–∫–µ!

‚Äî –ö–∞–∫ —ç—Ç–æ —Å–¥–µ–ª–∞—Ç—å? ‚Äî —Å–ø—Ä–æ—Å–∏–ª –ö—Ä–æ–ª–∏–∫ üêá.

‚Äî –û–± —ç—Ç–æ–º ‚Äî –≤ —Å–ª–µ–¥—É—é—â–µ–º —à–∞–≥–µ! –ù—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å `'friends_api'` –≤ –Ω–∞—à `settings.py`!

–ö–æ–º–Ω–∞—Ç–∞ –ø–æ—Å—Ç—Ä–æ–µ–Ω–∞, –Ω–æ –∑–∞–º–æ–∫ –µ—â—ë –Ω–µ –∑–Ω–∞–µ—Ç –æ –µ—ë —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–∏... üè†‚ùåüè∞

---

**–®–∞–≥ 1.11: –†–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ–º –∫–æ–º–Ω–∞—Ç—É friends_api –≤ –≥–ª–∞–≤–Ω–æ–º –∑–∞–º–∫–µ**

**–ö—Ä–æ–ª–∏–∫** –ø–æ—Å–º–æ—Ç—Ä–µ–ª –Ω–∞ –§–∏–ª–∏–Ω–∞:
‚Äî –¢–∞–∫ –∫–∞–∫ –∂–µ –ø–æ–≤–µ—Å–∏—Ç—å —Ç–∞–±–ª–∏—á–∫—É? –ö–∞–∫ —Å–∫–∞–∑–∞—Ç—å –∑–∞–º–∫—É –ø—Ä–æ –Ω–∞—à—É –Ω–æ–≤—É—é –∫–æ–º–Ω–∞—Ç—É?

**–§–∏–ª–∏–Ω** –æ—Ç–∫—Ä—ã–ª –≥–ª–∞–≤–Ω—É—é –∫–Ω–∏–≥—É –∑–∞–∫–æ–Ω–æ–≤ –∑–∞–º–∫–∞ ‚Äî —Ñ–∞–π–ª `settings.py`:
‚Äî –í–æ—Ç –∑–¥–µ—Å—å! –í —Ä–∞–∑–¥–µ–ª–µ `INSTALLED_APPS`!

```python
# friend_castle/settings.py

INSTALLED_APPS = [
    'django.contrib.admin',
    'django.contrib.auth',
    'django.contrib.contenttypes', 
    'django.contrib.sessions',
    'django.contrib.messages',
    'django.contrib.staticfiles',
    
    # –ü–æ–∫–∞ –∑–¥–µ—Å—å —Ç–æ–ª—å–∫–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –∫–æ–º–Ω–∞—Ç—ã Django...
    # –ù–∞—à–µ–π –∫–æ–º–Ω–∞—Ç—ã friends_api –µ—â—ë –Ω–µ—Ç!
]
```

**–í–∏–Ω–Ω–∏-–ü—É—Ö** –∑–∞–≥–ª—è–Ω—É–ª —á–µ—Ä–µ–∑ –ø–ª–µ—á–æ:
‚Äî –û–π, —Ç—É—Ç –º–Ω–æ–≥–æ –Ω–µ–ø–æ–Ω—è—Ç–Ω—ã—Ö –∫–æ–º–Ω–∞—Ç! –ê –Ω–∞—à–µ–π –Ω–µ—Ç!

‚Äî –ò–º–µ–Ω–Ω–æ! ‚Äî –ø–æ–¥—Ç–≤–µ—Ä–¥–∏–ª –§–∏–ª–∏–Ω. ‚Äî –î–∞–≤–∞–π—Ç–µ –¥–æ–±–∞–≤–∏–º –Ω–∞—à—É –∫–æ–º–Ω–∞—Ç—É!

---

## **‚ûï –î–æ–±–∞–≤–ª—è–µ–º –Ω–∞—à—É –∫–æ–º–Ω–∞—Ç—É**

–§–∏–ª–∏–Ω –≤–∑—è–ª –≤–æ–ª—à–µ–±–Ω–æ–µ –ø–µ—Ä–æ –∏ –¥–æ–ø–∏—Å–∞–ª –≤ –∫–æ–Ω–µ—Ü —Å–ø–∏—Å–∫–∞:

```python
# friend_castle/settings.py

INSTALLED_APPS = [
    'django.contrib.admin',
    'django.contrib.auth',
    'django.contrib.contenttypes',
    'django.contrib.sessions', 
    'django.contrib.messages',
    'django.contrib.staticfiles',
    
    # –ù–∞—à–∏ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ –∫–æ–º–Ω–∞—Ç—ã:
    'friends_api',  # ‚Üê –í–û–¢ –û–ù–ê! –ù–∞—à–∞ –∫–æ–º–Ω–∞—Ç–∞ –¥—Ä—É–∑–µ–π! üéâ
]
```

**–ü—è—Ç–∞—á–æ–∫** —É–¥–∏–≤–ª—ë–Ω–Ω–æ –ø–æ–¥–Ω—è–ª –±—Ä–æ–≤–∏:
‚Äî –ò –≤—Å—ë? –ü—Ä–æ—Å—Ç–æ –Ω–∞–ø–∏—Å–∞—Ç—å –Ω–∞–∑–≤–∞–Ω–∏–µ?

‚Äî –î–∞! ‚Äî —É–ª—ã–±–Ω—É–ª—Å—è –§–∏–ª–∏–Ω. ‚Äî Django —Å–∞–º –Ω–∞–π–¥—ë—Ç –Ω–∞—à—É –ø–∞–ø–∫—É `friends_api` –ø–æ —ç—Ç–æ–º—É –∏–º–µ–Ω–∏. –≠—Ç–æ –∫–∞–∫ —Å–∫–∞–∑–∞—Ç—å: ¬´–≠–π, –∑–∞–º–æ–∫, –æ–±—Ä–∞—Ç–∏ –≤–Ω–∏–º–∞–Ω–∏–µ –Ω–∞ –∫–æ–º–Ω–∞—Ç—É –ø–æ–¥ –Ω–∞–∑–≤–∞–Ω–∏–µ–º "friends_api"!¬ª

---

## **üîç –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –∑–∞ –∫—É–ª–∏—Å–∞–º–∏?**

**–ö—Ä–æ–ª–∏–∫** –ø–æ—á–µ—Å–∞–ª –∑–∞ —É—Ö–æ–º:
‚Äî –ê —á—Ç–æ –∑–∞–º–æ–∫ –¥–µ–ª–∞–µ—Ç —Å —ç—Ç–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π?

‚Äî –û—Ç–ª–∏—á–Ω—ã–π –≤–æ–ø—Ä–æ—Å! ‚Äî —Å–∫–∞–∑–∞–ª –§–∏–ª–∏–Ω. ‚Äî –ö–æ–≥–¥–∞ –º—ã –¥–æ–±–∞–≤–∏–ª–∏ `'friends_api'` –≤ `INSTALLED_APPS`:

1. **–ó–∞–º–æ–∫ –∏—â–µ—Ç** –ø–∞–ø–∫—É —Å —Ç–∞–∫–∏–º –∏–º–µ–Ω–µ–º
2. **–ù–∞—Ö–æ–¥–∏—Ç** –Ω–∞—à `friends_api/`
3. **–ó–∞–≥–ª—è–¥—ã–≤–∞–µ—Ç** –≤ `apps.py` –∏ –≤–∏–¥–∏—Ç –∫–ª–∞—Å—Å `FriendsApiConfig`
4. **–ì–æ–≤–æ—Ä–∏—Ç**: ¬´–ê–≥–∞! –¢–µ–ø–µ—Ä—å —è –∑–Ω–∞—é –ø—Ä–æ —ç—Ç—É –∫–æ–º–Ω–∞—Ç—É!¬ª
5. **–†–∞–∑—Ä–µ—à–∞–µ—Ç** —ç—Ç–æ–π –∫–æ–º–Ω–∞—Ç–µ —É—á–∞—Å—Ç–≤–æ–≤–∞—Ç—å –≤ –∂–∏–∑–Ω–∏ –∑–∞–º–∫–∞

**–í–∏–Ω–Ω–∏-–ü—É—Ö** –∑–∞–¥—É–º–∞–ª—Å—è:
‚Äî –ê —á—Ç–æ –∑–Ω–∞—á–∏—Ç ¬´—É—á–∞—Å—Ç–≤–æ–≤–∞—Ç—å –≤ –∂–∏–∑–Ω–∏ –∑–∞–º–∫–∞¬ª?

‚Äî –≠—Ç–æ –∑–Ω–∞—á–∏—Ç, —á—Ç–æ —Ç–µ–ø–µ—Ä—å –Ω–∞—à–∞ –∫–æ–º–Ω–∞—Ç–∞ –º–æ–∂–µ—Ç:
- –°–æ–∑–¥–∞–≤–∞—Ç—å —Å–≤–æ–∏ —Ç–∞–±–ª–∏—Ü—ã –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
- –î–æ–±–∞–≤–ª—è—Ç—å —Å–≤–æ–∏ –º–∞—Ä—à—Ä—É—Ç—ã –≤ –∫–∞—Ä—Ç—É (`urls.py`)
- –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å —Å–≤–æ–∏ –æ–∫–Ω–∞-–ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤—Å–µ –º–∞–≥–∏—á–µ—Å–∫–∏–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ Django

---

## **‚úÖ –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ –≤—Å—ë –ø—Ä–∞–≤–∏–ª—å–Ω–æ**

**–§–∏–ª–∏–Ω** –∑–∞–ø—É—Å—Ç–∏–ª –ø—Ä–æ–≤–µ—Ä–æ—á–Ω—É—é –∫–æ–º–∞–Ω–¥—É:

```bash
python manage.py check
```

*–ß–µ—Ä–µ–∑ –º–≥–Ω–æ–≤–µ–Ω–∏–µ –Ω–∞ —ç–∫—Ä–∞–Ω–µ –ø–æ—è–≤–∏–ª–æ—Å—å:*
```
System check identified no issues (0 silenced).
```

‚Äî –û—Ç–ª–∏—á–Ω–æ! ‚Äî –æ–±—Ä–∞–¥–æ–≤–∞–ª—Å—è –§–∏–ª–∏–Ω. ‚Äî –ó–∞–º–æ–∫ –ø—Ä–∏–Ω—è–ª –Ω–∞—à—É –∫–æ–º–Ω–∞—Ç—É –±–µ–∑ –æ—à–∏–±–æ–∫!

**–ü—è—Ç–∞—á–æ–∫** –≤–∑–¥–æ—Ö–Ω—É–ª —Å –æ–±–ª–µ–≥—á–µ–Ω–∏–µ–º:
‚Äî –ó–Ω–∞—á–∏—Ç, —Ç–∞–±–ª–∏—á–∫–∞ –ø–æ–≤–µ—à–µ–Ω–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–æ!

---

**üíæ –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤ Git:**

```bash
git add .
git commit -m "–î–æ–±–∞–≤–ª–µ–Ω–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ friends_api –≤ INSTALLED_APPS"
git push origin main
```

*–ö–æ–º–Ω–∞—Ç–∞ friends_api —Ç–µ–ø–µ—Ä—å –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ —á–∞—Å—Ç—å –∑–∞–º–∫–∞ Friend-Castle!* üè†‚úÖüè∞

---

**–®–∞–≥ 1.12: –°–æ–∑–¥–∞—ë–º –º–æ–¥–µ–ª—å Friend ‚Äî —á–µ—Ä—Ç—ë–∂ –Ω–∞—à–µ–≥–æ –¥—Ä—É–≥–∞**

**–§–∏–ª–∏–Ω** –æ—Ç–∫—Ä—ã–ª —Ñ–∞–π–ª `friends_api/models.py`. –ù–∞ —ç–∫—Ä–∞–Ω–µ —Å–≤–µ—Ç–∏–ª–∏—Å—å –ª–∏—à—å —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ —Å—Ç—Ä–æ–∫–∏ –∏–º–ø–æ—Ä—Ç–∞.

‚Äî –°–µ–π—á–∞—Å —ç—Ç–æ—Ç —Ñ–∞–π–ª –ø—É—Å—Ç, ‚Äî —Å–∫–∞–∑–∞–ª –æ–Ω. ‚Äî –ó–¥–µ—Å—å –º—ã –±—É–¥–µ–º –æ–ø–∏—Å—ã–≤–∞—Ç—å, –∫–∞–∫ –≤—ã–≥–ª—è–¥–∏—Ç –Ω–∞—à –î—Ä—É–≥ –≤ —Ü–∏—Ñ—Ä–æ–≤–æ–º –º–∏—Ä–µ. –ß—Ç–æ –º—ã —Ö–æ—Ç–∏–º –∑–Ω–∞—Ç—å –æ –¥—Ä—É–≥–µ?

**–í–∏–Ω–Ω–∏-–ü—É—Ö** —Å—Ä–∞–∑—É –ø—Ä–µ–¥–ª–æ–∂–∏–ª:
‚Äî –ò–º—è! –ë–µ–∑ –∏–º–µ–Ω–∏ –Ω–∏–∫—É–¥–∞!

**–ü—è—Ç–∞—á–æ–∫** –¥–æ–±–∞–≤–∏–ª:
‚Äî –í–æ–∑—Ä–∞—Å—Ç? –ß—Ç–æ–±—ã –∑–Ω–∞—Ç—å, —Å–∫–æ–ª—å–∫–æ –µ–º—É –ª–µ—Ç?

**–ö—Ä–æ–ª–∏–∫** –ø—Ä–æ–¥–æ–ª–∂–∏–ª:
‚Äî –î–∞—Ç–∞, –∫–æ–≥–¥–∞ –º—ã –ø–æ–∑–Ω–∞–∫–æ–º–∏–ª–∏—Å—å. –ò –º–æ–∂–µ—Ç –±—ã—Ç—å, –∑–∞–º–µ—Ç–∫–∏ ‚Äî —á—Ç–æ –æ–Ω –ª—é–±–∏—Ç, –∫–∞–∫–∏–µ —É –Ω–µ–≥–æ –∏–Ω—Ç–µ—Ä–µ—Å—ã...

‚Äî –û—Ç–ª–∏—á–Ω–æ! ‚Äî –≤–æ—Å–∫–ª–∏–∫–Ω—É–ª –§–∏–ª–∏–Ω. ‚Äî –î–∞–≤–∞–π—Ç–µ —Å–æ–∑–¥–∞–¥–∏–º –º–æ–¥–µ–ª—å —Å–æ –≤—Å–µ–º–∏ —ç—Ç–∏–º–∏ –ø–æ–ª—è–º–∏.

–û–Ω –Ω–∞—á–∞–ª –ø–∏—Å–∞—Ç—å:

```python
from django.db import models

class Friend(models.Model):
    # –û—Å–Ω–æ–≤–Ω—ã–µ –ø–æ–ª—è
    name = models.CharField(max_length=100, verbose_name='–ò–º—è')
    age = models.IntegerField(verbose_name='–í–æ–∑—Ä–∞—Å—Ç', blank=True, null=True)
    is_close = models.BooleanField(default=False, verbose_name='–ë–ª–∏–∑–∫–∏–π –¥—Ä—É–≥')
    meeting_date = models.DateField(verbose_name='–î–∞—Ç–∞ –∑–Ω–∞–∫–æ–º—Å—Ç–≤–∞', blank=True, null=True)
    notes = models.TextField(verbose_name='–ó–∞–º–µ—Ç–∫–∏', blank=True)
    
    # –°–ª—É–∂–µ–±–Ω—ã–µ –ø–æ–ª—è (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø–æ–ª–Ω—è—é—Ç—Å—è)
    created_at = models.DateTimeField(auto_now_add=True, verbose_name='–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è')
    updated_at = models.DateTimeField(auto_now=True, verbose_name='–î–∞—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è')
    
    def __str__(self):
        return self.name
```

**–ö—Ä–æ–ª–∏–∫** —É—Ç–æ—á–Ω–∏–ª:
‚Äî –ß—Ç–æ —Ç–∞–∫–æ–µ `verbose_name`, `blank=True`, `null=True`?

‚Äî `verbose_name` ‚Äî —á–µ–ª–æ–≤–µ–∫–æ—á–∏—Ç–∞–µ–º–æ–µ –∏–º—è –ø–æ–ª—è (–¥–ª—è –∞–¥–º–∏–Ω–∫–∏), ‚Äî –æ–±—ä—è—Å–Ω–∏–ª –§–∏–ª–∏–Ω. ‚Äî `blank=True` ‚Äî –ø–æ–ª–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø—É—Å—Ç—ã–º –≤ —Ñ–æ—Ä–º–µ. `null=True` ‚Äî –º–æ–∂–µ—Ç –±—ã—Ç—å `NULL` –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö. `auto_now_add=True` ‚Äî –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å—Ç–∞–≤–∏—Ç —Ç–µ–∫—É—â–µ–µ –≤—Ä–µ–º—è –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∑–∞–ø–∏—Å–∏.

**–í–∏–Ω–Ω–∏-–ü—É—Ö** —É–∫–∞–∑–∞–ª –Ω–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–π –º–µ—Ç–æ–¥:
‚Äî –ê —ç—Ç–æ —á—Ç–æ?

‚Äî `__str__` ‚Äî –º–∞–≥–∏—á–µ—Å–∫–∏–π –º–µ—Ç–æ–¥, –∫–æ—Ç–æ—Ä—ã–π –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å—Ç—Ä–æ–∫–æ–≤–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –æ–±—ä–µ–∫—Ç–∞, ‚Äî —Å–∫–∞–∑–∞–ª –§–∏–ª–∏–Ω. ‚Äî –ö–æ–≥–¥–∞ –º—ã –±—É–¥–µ–º —Å–º–æ—Ç—Ä–µ—Ç—å –Ω–∞ –¥—Ä—É–∑–µ–π –≤ –∞–¥–º–∏–Ω–∫–µ, –≤–º–µ—Å—Ç–æ ¬´Friend object (1)¬ª –º—ã —É–≤–∏–¥–∏–º –∏—Ö –∏–º–µ–Ω–∞!

---

## **üì¶ –°–æ–∑–¥–∞—ë–º –∏ –ø—Ä–∏–º–µ–Ω—è–µ–º –º–∏–≥—Ä–∞—Ü–∏–∏**

‚Äî –¢–µ–ø–µ—Ä—å –Ω—É–∂–Ω–æ –ø—Ä–µ–≤—Ä–∞—Ç–∏—Ç—å —ç—Ç–æ—Ç Python-–∫–æ–¥ –≤ —Ä–µ–∞–ª—å–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö, ‚Äî —Å–∫–∞–∑–∞–ª –§–∏–ª–∏–Ω.

–û–Ω —Å–æ–∑–¥–∞–ª –º–∏–≥—Ä–∞—Ü–∏—é:

```bash
python manage.py makemigrations friends_api
```

‚Äî –≠—Ç–∞ –∫–æ–º–∞–Ω–¥–∞ —Å–æ–∑–¥–∞—ë—Ç **–∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏** –¥–ª—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö: ¬´–°–æ–∑–¥–∞–π —Ç–∞–±–ª–∏—Ü—É friends_api_friend —Å —Ç–∞–∫–∏–º–∏-—Ç–æ –∫–æ–ª–æ–Ω–∫–∞–º–∏¬ª.

–ó–∞—Ç–µ–º –ø—Ä–∏–º–µ–Ω–∏–ª –º–∏–≥—Ä–∞—Ü–∏—é:

```bash
python manage.py migrate friends_api
```

‚Äî –ê —ç—Ç–∞ –∫–æ–º–∞–Ω–¥–∞ **–≤—ã–ø–æ–ª–Ω—è–µ—Ç** —ç—Ç–∏ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏, —Å–æ–∑–¥–∞–≤–∞—è —Ä–µ–∞–ª—å–Ω—É—é —Ç–∞–±–ª–∏—Ü—É –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö SQLite.

---

**üíæ –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤ Git:**

```bash
git add .
git commit -m "–°–æ–∑–¥–∞–Ω–∞ –º–æ–¥–µ–ª—å Friend —Å –ø–æ–ª—è–º–∏: –∏–º—è, –≤–æ–∑—Ä–∞—Å—Ç, —Å—Ç–∞—Ç—É—Å –±–ª–∏–∑–æ—Å—Ç–∏, –¥–∞—Ç–∞ –∑–Ω–∞–∫–æ–º—Å—Ç–≤–∞, –∑–∞–º–µ—Ç–∫–∏"
git push origin main
```

*–ú–æ–¥–µ–ª—å Friend —Å–æ–∑–¥–∞–Ω–∞. –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –æ–±–Ω–æ–≤–ª–µ–Ω–∞. –£ –Ω–∞—Å –µ—Å—Ç—å —á–µ—Ä—Ç—ë–∂ —Ü–∏—Ñ—Ä–æ–≤–æ–≥–æ –¥—Ä—É–≥–∞.* üßë‚Äçüé®

---

# **–®–∞–≥ 1.13: –†–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ–º –º–æ–¥–µ–ª—å –≤ –∞–¥–º–∏–Ω–∫–µ**

**–ü—è—Ç–∞—á–æ–∫** —Å–ø—Ä–æ—Å–∏–ª:
‚Äî –ê –∫–∞–∫ –º—ã –±—É–¥–µ–º –¥–æ–±–∞–≤–ª—è—Ç—å –¥—Ä—É–∑–µ–π? –ß–µ—Ä–µ–∑ –∫–æ–Ω—Å–æ–ª—å?

‚Äî –ù–µ—Ç, —á–µ—Ä–µ–∑ **–∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—É—é –ø–∞–Ω–µ–ª—å Django**! ‚Äî –æ—Ç–≤–µ—Ç–∏–ª –§–∏–ª–∏–Ω. ‚Äî –ù–æ —Å–Ω–∞—á–∞–ª–∞ –Ω—É–∂–Ω–æ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å –Ω–∞—à—É –º–æ–¥–µ–ª—å –≤ –∞–¥–º–∏–Ω–∫–µ.

–û–Ω –æ—Ç–∫—Ä—ã–ª —Ñ–∞–π–ª `friends_api/admin.py` –∏ –¥–æ–±–∞–≤–∏–ª:

```python
from django.contrib import admin
from .models import Friend

admin.site.register(Friend)
```

‚Äî `admin.site.register(Friend)` ‚Äî —ç—Ç–∞ —Å—Ç—Ä–æ–∫–∞ –≥–æ–≤–æ—Ä–∏—Ç Django: ¬´–ü–æ–∫–∞–∑—ã–≤–∞–π –º–æ–¥–µ–ª—å Friend –≤ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω–æ–π –ø–∞–Ω–µ–ª–∏¬ª.

---

## **üëë –°–æ–∑–¥–∞—ë–º —Å—É–ø–µ—Ä–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è**

‚Äî –ù–æ —á—Ç–æ–±—ã –≤–æ–π—Ç–∏ –≤ –∞–¥–º–∏–Ω–∫—É, –Ω—É–∂–µ–Ω –∞–∫–∫–∞—É–Ω—Ç –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞, ‚Äî –ø—Ä–æ–¥–æ–ª–∂–∏–ª –§–∏–ª–∏–Ω.

–û–Ω —Å–æ–∑–¥–∞–ª —Å—É–ø–µ—Ä–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:

```bash
python manage.py createsuperuser
```

–°–∏—Å—Ç–µ–º–∞ –ø–æ–ø—Ä–æ—Å–∏–ª–∞ –≤–≤–µ—Å—Ç–∏:
- –ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–§–∏–ª–∏–Ω –≤–≤—ë–ª `admin`)
- Email (–≤–≤—ë–ª `admin@friendcastle.local`)
- –ü–∞—Ä–æ–ª—å (–¥–≤–∞–∂–¥—ã –≤–≤—ë–ª —Å–ª–æ–∂–Ω—ã–π –ø–∞—Ä–æ–ª—å)

`Superuser created successfully.`

---

## **üö™ –ü—Ä–æ–≤–µ—Ä—è–µ–º –∞–¥–º–∏–Ω–∫—É**

–§–∏–ª–∏–Ω –∑–∞–ø—É—Å—Ç–∏–ª —Å–µ—Ä–≤–µ—Ä –∏ –æ—Ç–∫—Ä—ã–ª `http://127.0.0.1:8000/admin/`. –í–≤—ë–ª –ª–æ–≥–∏–Ω –∏ –ø–∞—Ä–æ–ª—å.

–ù–∞ —ç–∫—Ä–∞–Ω–µ –ø–æ—è–≤–∏–ª–∞—Å—å –∞–¥–º–∏–Ω–∫–∞! –í —Ä–∞–∑–¥–µ–ª–µ ¬´FRIENDS_API¬ª –±—ã–ª–∞ —Å—Å—ã–ª–∫–∞ ¬´Friends¬ª.

‚Äî –í–∏–¥–∏—Ç–µ? ‚Äî —Å–∫–∞–∑–∞–ª –§–∏–ª–∏–Ω. ‚Äî –ù–∞—à–∞ –º–æ–¥–µ–ª—å –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∞! –ú–æ–∂–Ω–æ –Ω–∞–∂–∞—Ç—å ¬´Add¬ª –∏ —Å–æ–∑–¥–∞—Ç—å –ø–µ—Ä–≤–æ–≥–æ –¥—Ä—É–≥–∞.

–û–Ω —Å–æ–∑–¥–∞–ª:
- **–ò–º—è:** –í–∏–Ω–Ω–∏-–ü—É—Ö
- **–í–æ–∑—Ä–∞—Å—Ç:** 7
- **–ë–ª–∏–∑–∫–∏–π –¥—Ä—É–≥:** ‚úÖ
- **–ó–∞–º–µ—Ç–∫–∏:** –õ—é–±–∏—Ç –º—ë–¥

–°–æ—Ö—Ä–∞–Ω–∏–ª. –í —Å–ø–∏—Å–∫–µ –ø–æ—è–≤–∏–ª—Å—è –ø–µ—Ä–≤—ã–π –¥—Ä—É–≥!

---

**üíæ –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤ Git:**

```bash
git add .
git commit -m "–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∞ –º–æ–¥–µ–ª—å Friend –≤ –∞–¥–º–∏–Ω–∫–µ, —Å–æ–∑–¥–∞–Ω —Å—É–ø–µ—Ä–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å"
git push origin main
```

*–ú–æ–¥–µ–ª—å –¥–æ—Å—Ç—É–ø–Ω–∞ –≤ –∞–¥–º–∏–Ω–∫–µ. –ü–µ—Ä–≤—ã–π –¥—Ä—É–≥ –¥–æ–±–∞–≤–ª–µ–Ω. –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω–∞—è –ø–∞–Ω–µ–ª—å —Ä–∞–±–æ—Ç–∞–µ—Ç.* üëë

---

# **–®–∞–≥ 1.14: –°–æ–∑–¥–∞—ë–º API-–ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –¥–ª—è —Å–ø–∏—Å–∫–∞ –¥—Ä—É–∑–µ–π**

**–ö—Ä–æ–ª–∏–∫** –∑–∞–º–µ—Ç–∏–ª:
‚Äî –•–æ—Ä–æ—à–æ, –º—ã –º–æ–∂–µ–º –¥–æ–±–∞–≤–ª—è—Ç—å –¥—Ä—É–∑–µ–π —á–µ—Ä–µ–∑ –∞–¥–º–∏–Ω–∫—É. –ù–æ –∫–∞–∫ –¥—Ä—É–≥–∏–µ —É–≤–∏–¥—è—Ç —ç—Ç–æ—Ç —Å–ø–∏—Å–æ–∫? –ù—É–∂–Ω–æ API!

‚Äî –í–µ—Ä–Ω–æ! ‚Äî —Å–æ–≥–ª–∞—Å–∏–ª—Å—è –§–∏–ª–∏–Ω. ‚Äî –°–æ–∑–¥–∞–¥–∏–º API-–ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ.

–û–Ω –æ—Ç–∫—Ä—ã–ª `friends_api/views.py`:

```python
from rest_framework.decorators import api_view
from rest_framework.response import Response
from .models import Friend

@api_view(['GET'])
def friend_list(request):
    """
    –ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –¥—Ä—É–∑–µ–π.
    """
    friends = Friend.objects.all()
    # –ü–æ–∫–∞ –≤–µ—Ä–Ω—ë–º –ø—Ä–æ—Å—Ç–æ –∏–º–µ–Ω–∞
    data = [{'name': friend.name} for friend in friends]
    return Response(data)
```

‚Äî –ü–æ–∫–∞ —ç—Ç–æ –ø—Ä–æ—Å—Ç–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ, ‚Äî —Å–∫–∞–∑–∞–ª –§–∏–ª–∏–Ω. ‚Äî –û–Ω–æ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –∏–º—ë–Ω –¥—Ä—É–∑–µ–π –≤ —Ñ–æ—Ä–º–∞—Ç–µ JSON.

---

## **üó∫Ô∏è –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º –º–∞—Ä—à—Ä—É—Ç—ã**

–§–∏–ª–∏–Ω —Å–æ–∑–¥–∞–ª —Ñ–∞–π–ª `friends_api/urls.py`:

```python
from django.urls import path
from .views import friend_list

urlpatterns = [
    path('', friend_list, name='friend-list'),
]
```

–ò –æ–±–Ω–æ–≤–∏–ª –≥–ª–∞–≤–Ω—ã–π `urls.py`:

```python
from django.contrib import admin
from django.urls import path, include

urlpatterns = [
    path('admin/', admin.site.urls),
    path('api/friends/', include('friends_api.urls')),
]
```

---

## **üåê –ü—Ä–æ–≤–µ—Ä—è–µ–º API**

–§–∏–ª–∏–Ω –∑–∞–ø—É—Å—Ç–∏–ª —Å–µ—Ä–≤–µ—Ä –∏ –æ—Ç–∫—Ä—ã–ª `http://127.0.0.1:8000/api/friends/`.

–ù–∞ —ç–∫—Ä–∞–Ω–µ –ø–æ—è–≤–∏–ª—Å—è JSON:
```json
[{"name": "–í–∏–Ω–Ω–∏-–ü—É—Ö"}]
```

‚Äî –£—Ä–∞! ‚Äî –≤–æ—Å–∫–ª–∏–∫–Ω—É–ª –í–∏–Ω–Ω–∏-–ü—É—Ö. ‚Äî –Ø –≤ API!

---

**üíæ –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤ Git:**

```bash
git add .
git commit -m "–°–æ–∑–¥–∞–Ω–æ API-–ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –¥–ª—è —Å–ø–∏—Å–∫–∞ –¥—Ä—É–∑–µ–π, –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –º–∞—Ä—à—Ä—É—Ç—ã"
git push origin main
```

*–ü–µ—Ä–≤–æ–µ API-–ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç. –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –¥—Ä—É–∑–µ–π –≤ —Ñ–æ—Ä–º–∞—Ç–µ JSON.* üåê

---

# **–®–∞–≥ 1.15: –î–æ–±–∞–≤–ª—è–µ–º Django REST Framework –∏ —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ç–æ—Ä**

**–ü—è—Ç–∞—á–æ–∫** –∑–∞–º–µ—Ç–∏–ª:
‚Äî API —Ä–∞–±–æ—Ç–∞–µ—Ç, –Ω–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ç–æ–ª—å–∫–æ –∏–º–µ–Ω–∞. –ê –≥–¥–µ –≤–æ–∑—Ä–∞—Å—Ç, –∑–∞–º–µ—Ç–∫–∏?

‚Äî –î–ª—è —ç—Ç–æ–≥–æ –Ω—É–∂–µ–Ω **—Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ç–æ—Ä**! ‚Äî —Å–∫–∞–∑–∞–ª –§–∏–ª–∏–Ω. ‚Äî –ò —Å–∞–º Django REST Framework.

–û–Ω —É—Å—Ç–∞–Ω–æ–≤–∏–ª DRF (–µ—Å–ª–∏ –µ—â—ë –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω):

```bash
pip install djangorestframework
```

–î–æ–±–∞–≤–∏–ª –≤ `INSTALLED_APPS`:

```python
INSTALLED_APPS = [
    # ...
    'rest_framework',  # ‚Üê –î–æ–±–∞–≤–∏–ª–∏!
    'friends_api',
]
```

---

## **üé≠ –°–æ–∑–¥–∞—ë–º —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ç–æ—Ä**

–§–∏–ª–∏–Ω —Å–æ–∑–¥–∞–ª —Ñ–∞–π–ª `friends_api/serializers.py`:

```python
from rest_framework import serializers
from .models import Friend

class FriendSerializer(serializers.ModelSerializer):
    class Meta:
        model = Friend
        fields = ['id', 'name', 'age', 'is_close', 'meeting_date', 'notes', 'created_at', 'updated_at']
```

‚Äî `ModelSerializer` –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞—ë—Ç —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ç–æ—Ä –Ω–∞ –æ—Å–Ω–æ–≤–µ –º–æ–¥–µ–ª–∏, ‚Äî –æ–±—ä—è—Å–Ω–∏–ª –§–∏–ª–∏–Ω. ‚Äî –û–Ω —Å–∞–º –∑–Ω–∞–µ—Ç —Ç–∏–ø—ã –ø–æ–ª–µ–π –∏ –ø—Ä–∞–≤–∏–ª–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏.

---

## **üîÑ –û–±–Ω–æ–≤–ª—è–µ–º –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ**

–§–∏–ª–∏–Ω –æ–±–Ω–æ–≤–∏–ª `views.py`:

```python
from rest_framework.decorators import api_view
from rest_framework.response import Response
from .models import Friend
from .serializers import FriendSerializer  # ‚Üê –ò–º–ø–æ—Ä—Ç–∏—Ä—É–µ–º —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ç–æ—Ä!

@api_view(['GET'])
def friend_list(request):
    friends = Friend.objects.all()
    serializer = FriendSerializer(friends, many=True)  # ‚Üê –ò—Å–ø–æ–ª—å–∑—É–µ–º —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ç–æ—Ä
    return Response(serializer.data)
```

---

## **‚ú® –ü—Ä–æ–≤–µ—Ä—è–µ–º –æ–±–Ω–æ–≤–ª—ë–Ω–Ω–æ–µ API**

–§–∏–ª–∏–Ω –æ–±–Ω–æ–≤–∏–ª —Å—Ç—Ä–∞–Ω–∏—Ü—É `http://127.0.0.1:8000/api/friends/`.

–¢–µ–ø–µ—Ä—å JSON —Å–æ–¥–µ—Ä–∂–∞–ª –í–°–ï –ø–æ–ª—è:
```json
[
  {
    "id": 1,
    "name": "–í–∏–Ω–Ω–∏-–ü—É—Ö",
    "age": 7,
    "is_close": true,
    "meeting_date": "2024-12-31",
    "notes": "–õ—é–±–∏—Ç –º—ë–¥",
    "created_at": "2024-12-31T10:00:00Z",
    "updated_at": "2024-12-31T10:00:00Z"
  }
]
```

‚Äî –¢–µ–ø–µ—Ä—å –≤–∏–¥–Ω–æ –≤—Å—ë! ‚Äî –æ–±—Ä–∞–¥–æ–≤–∞–ª—Å—è –ö—Ä–æ–ª–∏–∫.

---

**üíæ –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤ Git:**

```bash
git add .
git commit -m "–î–æ–±–∞–≤–ª–µ–Ω Django REST Framework –∏ —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ç–æ—Ä FriendSerializer, API –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø–æ–ª–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ"
git push origin main
```

*DRF –ø–æ–¥–∫–ª—é—á–µ–Ω. –°–µ—Ä–∏–∞–ª–∏–∑–∞—Ç–æ—Ä —Å–æ–∑–¥–∞–Ω. API –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø–æ–ª–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –æ –¥—Ä—É–∑—å—è—Ö.* üé≠

---

# **–®–∞–≥ 1.16: –î–æ–±–∞–≤–ª—è–µ–º Browsable API –∏ –∏—Å–ø—Ä–∞–≤–ª—è–µ–º –æ—à–∏–±–∫–∏**

–§–∏–ª–∏–Ω –æ–±–Ω–æ–≤–∏–ª —Å—Ç—Ä–∞–Ω–∏—Ü—É API –∏ —É–≤–∏–¥–µ–ª **–æ—à–∏–±–∫—É**:
```
TemplateDoesNotExist at /api/friends/
rest_framework/api.html
```

‚Äî –ê, –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å `rest_framework` –≤ `INSTALLED_APPS`! ‚Äî –≤–æ—Å–∫–ª–∏–∫–Ω—É–ª –æ–Ω.

–û–Ω —É–±–µ–¥–∏–ª—Å—è, —á—Ç–æ `'rest_framework'` —É–∂–µ –≤ —Å–ø–∏—Å–∫–µ, –∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏–ª —Å–µ—Ä–≤–µ—Ä. –û–±–Ω–æ–≤–∏–ª —Å—Ç—Ä–∞–Ω–∏—Ü—É.

**–¢–µ–ø–µ—Ä—å –ø–æ—è–≤–∏–ª—Å—è –∫—Ä–∞—Å–∏–≤—ã–π –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å Browsable API!**
- –ß–∏—Å—Ç—ã–π –±–µ–ª—ã–π —Ñ–æ–Ω
- –ö–Ω–æ–ø–∫–∞ "GET"
- –§–æ—Ä–º–∞ –¥–ª—è POST (–ø–æ–∫–∞ —Å–µ—Ä–∞—è)
- –ö—Ä–∞—Å–∏–≤–æ –æ—Ñ–æ—Ä–º–ª–µ–Ω–Ω—ã–π JSON

‚Äî –≠—Ç–æ **Browsable API**! ‚Äî –æ–±—ä—è—Å–Ω–∏–ª –§–∏–ª–∏–Ω. ‚Äî –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å DRF –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è API –ø—Ä—è–º–æ –≤ –±—Ä–∞—É–∑–µ—Ä–µ.

**–í–∏–Ω–Ω–∏-–ü—É—Ö** –æ–±—Ä–∞–¥–æ–≤–∞–ª—Å—è:
‚Äî –¢–µ–ø–µ—Ä—å –∫–∞–∫ –Ω–∞—Å—Ç–æ—è—â–∏–π —Å–∞–π—Ç!

---

**üíæ –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤ Git:**

```bash
git add .
git commit -m "–í–∫–ª—é—á—ë–Ω Browsable API, –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –æ—à–∏–±–∫–∞ TemplateDoesNotExist"
git push origin main
```

*Browsable API —Ä–∞–±–æ—Ç–∞–µ—Ç. –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è API –¥–æ—Å—Ç—É–ø–µ–Ω –≤ –±—Ä–∞—É–∑–µ—Ä–µ.* ‚ú®

---

# **–®–∞–≥ 1.17.1: –°–æ–∑–¥–∞—ë–º –ø–∞–ø–∫—É –¥–ª—è —à–∞–±–ª–æ–Ω–æ–≤ (Windows)**

**–§–∏–ª–∏–Ω** –æ—Ç–∫—Ä—ã–ª —Ç–µ—Ä–º–∏–Ω–∞–ª –≤ –ø–∞–ø–∫–µ `friends_api`:

```bash
mkdir templates
cd templates
mkdir friends_api
```

–ò–ª–∏ –æ–¥–Ω–æ–π –∫–æ–º–∞–Ω–¥–æ–π:

```bash
mkdir templates\friends_api
```

‚Äî –í Windows –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –æ–±—Ä–∞—Ç–Ω—ã–π —Å–ª—ç—à `\` –≤–º–µ—Å—Ç–æ –ø—Ä—è–º–æ–≥–æ `/`, ‚Äî –æ–±—ä—è—Å–Ω–∏–ª –§–∏–ª–∏–Ω.


```bash
cd friend-castle
```

‚Äî –ù—É–∂–Ω–æ –±—ã—Ç—å –≤ –∫–æ—Ä–Ω–µ–≤–æ–π –ø–∞–ø–∫–µ –ø—Ä–æ–µ–∫—Ç–∞, –≥–¥–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è `.git`, ‚Äî –æ–±—ä—è—Å–Ω–∏–ª –æ–Ω.

---

**üíæ –ö–æ–º–º–∏—Ç–∏–º:**

```bash
git add .
git commit -m "–°–æ–∑–¥–∞–Ω–∞ –ø–∞–ø–∫–∞ templates/friends_api –¥–ª—è HTML-—à–∞–±–ª–æ–Ω–æ–≤"
git push origin main
```

# **–®–∞–≥ 1.17.2: –°–æ–∑–¥–∞—ë–º –ø—Ä–æ—Å—Ç–æ–π HTML-—à–∞–±–ª–æ–Ω —Ñ–æ—Ä–º—ã**

**–§–∏–ª–∏–Ω** —Å–æ–∑–¥–∞–ª —Ñ–∞–π–ª —à–∞–±–ª–æ–Ω–∞:

```bash
cd friends_api/templates/friends_api
echo. > friend_form.html
```

–ó–∞—Ç–µ–º –æ—Ç–∫—Ä—ã–ª —Ñ–∞–π–ª `friend_form.html` –≤ —Ä–µ–¥–∞–∫—Ç–æ—Ä–µ –∏ –Ω–∞–ø–∏—Å–∞–ª:

```html
<!DOCTYPE html>
<html>
<head>
    <title>–î–æ–±–∞–≤–∏—Ç—å –¥—Ä—É–≥–∞</title>
</head>
<body>
    <h1>–î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤–æ–≥–æ –¥—Ä—É–≥–∞</h1>
    
    <form method="POST">
        {% csrf_token %}
        <p><label>–ò–º—è –¥—Ä—É–≥–∞: <input type="text" name="name"></label></p>
        <p><label>–í–æ–∑—Ä–∞—Å—Ç: <input type="number" name="age"></label></p>
        <p><label><input type="checkbox" name="is_close"> –ë–ª–∏–∑–∫–∏–π –¥—Ä—É–≥</label></p>
        <button type="submit">–î–æ–±–∞–≤–∏—Ç—å</button>
    </form>
</body>
</html>
```

‚Äî –ü—Ä–æ—Å—Ç–µ–π—à–∞—è —Ñ–æ—Ä–º–∞ —Å —Ç—Ä–µ–º—è –ø–æ–ª—è–º–∏, ‚Äî —Å–∫–∞–∑–∞–ª –§–∏–ª–∏–Ω. ‚Äî –ü–æ–∑–∂–µ –¥–æ–±–∞–≤–∏–º –æ—Å—Ç–∞–ª—å–Ω—ã–µ.

---

**üíæ –ö–æ–º–º–∏—Ç–∏–º:**

```bash
cd ..\..\..\..
git add .
git commit -m "–°–æ–∑–¥–∞–Ω –ø—Ä–æ—Å—Ç–æ–π HTML-—à–∞–±–ª–æ–Ω friend_form.html —Å —Ñ–æ—Ä–º–æ–π –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –¥—Ä—É–≥–∞"
git push origin main
```

# **–®–∞–≥ 1.17.3: –û–±—ä—è—Å–Ω—è–µ–º HTML-—Ñ–æ—Ä–º—É –ø–æ—Å—Ç—Ä–æ—á–Ω–æ**

**–§–∏–ª–∏–Ω** –ø–æ–∫–∞–∑–∞–ª –Ω–∞ –∫–æ–¥:

```html
<form method="POST">
```

‚Äî **`<form>`** ‚Äî —Ç–µ–≥ —Ñ–æ—Ä–º—ã. –í–µ—Å—å –∫–æ–¥ –≤–Ω—É—Ç—Ä–∏ –±—É–¥–µ—Ç –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω –Ω–∞ —Å–µ—Ä–≤–µ—Ä.
‚Äî **`method="POST"`** ‚Äî –º–µ—Ç–æ–¥ –æ—Ç–ø—Ä–∞–≤–∫–∏ –¥–∞–Ω–Ω—ã—Ö. `POST` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –Ω–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö (–≤ –æ—Ç–ª–∏—á–∏–µ –æ—Ç `GET`, –∫–æ—Ç–æ—Ä—ã–π —Ç–æ–ª—å–∫–æ —á–∏—Ç–∞–µ—Ç).

---

```html
    {% csrf_token %}
```

‚Äî **`{% csrf_token %}`** ‚Äî **—Ç–æ–∫–µ–Ω –∑–∞—â–∏—Ç—ã –æ—Ç –º–µ–∂—Å–∞–π—Ç–æ–≤–æ–π –ø–æ–¥–¥–µ–ª–∫–∏ –∑–∞–ø—Ä–æ—Å–æ–≤** (CSRF).
- Django –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–æ–±–∞–≤–ª—è–µ—Ç —Å–∫—Ä—ã—Ç–æ–µ –ø–æ–ª–µ —Å —É–Ω–∏–∫–∞–ª—å–Ω—ã–º —Ç–æ–∫–µ–Ω–æ–º
- –°–µ—Ä–≤–µ—Ä –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —ç—Ç–æ—Ç —Ç–æ–∫–µ–Ω –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ —Ñ–æ—Ä–º—ã
- –ó–∞—â–∏—â–∞–µ—Ç –æ—Ç —Ö–∞–∫–µ—Ä—Å–∫–∏—Ö –∞—Ç–∞–∫, –∫–æ–≥–¥–∞ –∑–ª–æ—É–º—ã—à–ª–µ–Ω–Ω–∏–∫ –ø—ã—Ç–∞–µ—Ç—Å—è –æ—Ç–ø—Ä–∞–≤–∏—Ç—å —Ñ–æ—Ä–º—É –æ—Ç –≤–∞—à–µ–≥–æ –∏–º–µ–Ω–∏

---

```html
    <p><label>–ò–º—è –¥—Ä—É–≥–∞: <input type="text" name="name"></label></p>
```

‚Äî **`<p>`** ‚Äî –ø–∞—Ä–∞–≥—Ä–∞—Ñ, –¥–ª—è —Ä–∞–∑–º–µ—Ç–∫–∏.
‚Äî **`<label>`** ‚Äî –º–µ—Ç–∫–∞ –ø–æ–ª—è. –ü–æ–º–µ—â–∞–µ–º —Ç–µ–∫—Å—Ç –∏ –ø–æ–ª–µ –≤–Ω—É—Ç—Ä—å ‚Äî –ø—Ä–∏ –∫–ª–∏–∫–µ –Ω–∞ —Ç–µ–∫—Å—Ç –∫—É—Ä—Å–æ—Ä –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç –≤ –ø–æ–ª–µ.
‚Äî **`<input type="text">`** ‚Äî —Ç–µ–∫—Å—Ç–æ–≤–æ–µ –ø–æ–ª–µ –¥–ª—è –≤–≤–æ–¥–∞.
‚Äî **`name="name"`** ‚Äî –∏–º—è –ø–æ–ª—è. –ü—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ —Ñ–æ—Ä–º—ã —Å–µ—Ä–≤–µ—Ä –ø–æ–ª—É—á–∏—Ç `name=–≤–≤–µ–¥—ë–Ω–Ω–æ–µ_–∑–Ω–∞—á–µ–Ω–∏–µ`.

---

```html
    <p><label>–í–æ–∑—Ä–∞—Å—Ç: <input type="number" name="age"></label></p>
```

‚Äî **`<input type="number">`** ‚Äî –ø–æ–ª–µ –¥–ª—è —á–∏—Å–µ–ª. –ë—Ä–∞—É–∑–µ—Ä –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å—Ç—Ä–µ–ª–æ—á–∫–∏ –¥–ª—è —É–≤–µ–ª–∏—á–µ–Ω–∏—è/—É–º–µ–Ω—å—à–µ–Ω–∏—è.
‚Äî **`name="age"`** ‚Äî —Å–µ—Ä–≤–µ—Ä –ø–æ–ª—É—á–∏—Ç `age=—á–∏—Å–ª–æ`.

---

```html
    <p><label><input type="checkbox" name="is_close"> –ë–ª–∏–∑–∫–∏–π –¥—Ä—É–≥</label></p>
```

‚Äî **`<input type="checkbox">`** ‚Äî —Ñ–ª–∞–∂–æ–∫ (—á–µ–∫–±–æ–∫—Å).
‚Äî –ï—Å–ª–∏ –æ—Ç–º–µ—á–µ–Ω ‚Äî —Å–µ—Ä–≤–µ—Ä –ø–æ–ª—É—á–∏—Ç `is_close=on`.
‚Äî –ï—Å–ª–∏ –Ω–µ –æ—Ç–º–µ—á–µ–Ω ‚Äî –ø–æ–ª–µ –≤–æ–æ–±—â–µ –Ω–µ –æ—Ç–ø—Ä–∞–≤–∏—Ç—Å—è.

---

```html
    <button type="submit">–î–æ–±–∞–≤–∏—Ç—å</button>
```

‚Äî **`<button type="submit">`** ‚Äî –∫–Ω–æ–ø–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ —Ñ–æ—Ä–º—ã.
‚Äî –ü—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ –≤—Å–µ –¥–∞–Ω–Ω—ã–µ —Ñ–æ—Ä–º—ã –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä.

---

```html
</form>
```

‚Äî **`</form>`** ‚Äî –∑–∞–∫—Ä—ã–≤–∞—é—â–∏–π —Ç–µ–≥ —Ñ–æ—Ä–º—ã. –í—Å–µ —ç–ª–µ–º–µ–Ω—Ç—ã —Ñ–æ—Ä–º—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –≤–Ω—É—Ç—Ä–∏ `<form>...</form>`.

**–ö—Ä–æ–ª–∏–∫** —É—Ç–æ—á–Ω–∏–ª:
‚Äî –ê –∫–∞–∫ —Å–µ—Ä–≤–µ—Ä —É–∑–Ω–∞–µ—Ç, –∫—É–¥–∞ –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å —Ñ–æ—Ä–º—É?

‚Äî –ü–æ **–∞—Ç—Ä–∏–±—É—Ç—É `action`** –≤ —Ç–µ–≥–µ `<form>`, ‚Äî –æ—Ç–≤–µ—Ç–∏–ª –§–∏–ª–∏–Ω. ‚Äî –°–µ–π—á–∞—Å –µ–≥–æ –Ω–µ—Ç, –∑–Ω–∞—á–∏—Ç —Ñ–æ—Ä–º–∞ –æ—Ç–ø—Ä–∞–≤–∏—Ç—Å—è –Ω–∞ —Ç–æ—Ç –∂–µ URL, —Å –∫–æ—Ç–æ—Ä–æ–≥–æ –∑–∞–≥—Ä—É–∑–∏–ª–∞—Å—å. –ú—ã –¥–æ–±–∞–≤–∏–º –µ–≥–æ –ø–æ–∑–∂–µ.

# **–®–∞–≥ 1.17.4: –°–æ–∑–¥–∞—ë–º –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Ñ–æ—Ä–º—ã**

**–§–∏–ª–∏–Ω** –æ—Ç–∫—Ä—ã–ª `friends_api/views.py`:

‚Äî –ù—É–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é, –∫–æ—Ç–æ—Ä–∞—è –±—É–¥–µ—Ç:
1. –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –ø—É—Å—Ç—É—é —Ñ–æ—Ä–º—É –ø—Ä–∏ GET-–∑–∞–ø—Ä–æ—Å–µ
2. –û–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ —Ñ–æ—Ä–º—ã –ø—Ä–∏ POST-–∑–∞–ø—Ä–æ—Å–µ

–û–Ω –¥–æ–±–∞–≤–∏–ª –Ω–æ–≤—É—é —Ñ—É–Ω–∫—Ü–∏—é:

```python
from django.shortcuts import render, redirect

def friend_create_form(request):
    """–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ñ–æ—Ä–º—É –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –¥—Ä—É–≥–∞ –∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –µ—ë"""
    if request.method == 'POST':
        # 1. –°–æ–±–∏—Ä–∞–µ–º –¥–∞–Ω–Ω—ã–µ –∏–∑ —Ñ–æ—Ä–º—ã
        name = request.POST.get('name')
        age = request.POST.get('age')
        is_close = bool(request.POST.get('is_close'))  # 'on' –∏–ª–∏ None
        
        print(f"–ü–æ–ª—É—á–µ–Ω—ã –¥–∞–Ω–Ω—ã–µ: –∏–º—è={name}, –≤–æ–∑—Ä–∞—Å—Ç={age}, –±–ª–∏–∑–∫–∏–π={is_close}")
        
        # 2. –°–æ—Ö—Ä–∞–Ω—è–µ–º –¥—Ä—É–≥–∞ –≤ –±–∞–∑—É (–ø–æ–∫–∞ –±–µ–∑ –≤–∞–ª–∏–¥–∞—Ü–∏–∏)
        friend = Friend.objects.create(
            name=name,
            age=age if age else None,  # –ï—Å–ª–∏ –≤–æ–∑—Ä–∞—Å—Ç –ø—É—Å—Ç–æ–π - —Å—Ç–∞–≤–∏–º None
            is_close=is_close
        )
        
        print(f"–°–æ–∑–¥–∞–Ω –¥—Ä—É–≥: {friend.name}")
        
        # 3. –ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–µ–º –Ω–∞ —Å–ø–∏—Å–æ–∫ –¥—Ä—É–∑–µ–π
        return redirect('friend-list-api')
    
    # –ï—Å–ª–∏ GET-–∑–∞–ø—Ä–æ—Å - –ø—Ä–æ—Å—Ç–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º —Ñ–æ—Ä–º—É
    return render(request, 'friends_api/friend_form.html')
```

**–í–∏–Ω–Ω–∏-–ü—É—Ö** —Å–ø—Ä–æ—Å–∏–ª:
‚Äî –ß—Ç–æ —Ç–∞–∫–æ–µ `request.POST`?

‚Äî –≠—Ç–æ **—Å–ª–æ–≤–∞—Ä—å –¥–∞–Ω–Ω—ã—Ö —Ñ–æ—Ä–º—ã**, ‚Äî –æ–±—ä—è—Å–Ω–∏–ª –§–∏–ª–∏–Ω. ‚Äî –ö–æ–≥–¥–∞ —Ñ–æ—Ä–º–∞ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –º–µ—Ç–æ–¥–æ–º POST, –≤—Å–µ –ø–æ–ª—è (`name`, `age`, `is_close`) –ø–æ–ø–∞–¥–∞—é—Ç –≤ `request.POST`. –ú—ã –º–æ–∂–µ–º –ø–æ–ª—É—á–∏—Ç—å –∏—Ö –∑–Ω–∞—á–µ–Ω–∏—è —á–µ—Ä–µ–∑ `.get('–∏–º—è_–ø–æ–ª—è')`.

**–ö—Ä–æ–ª–∏–∫** —É—Ç–æ—á–Ω–∏–ª:
‚Äî –ê `redirect('friend-list-api')`?

‚Äî –≠—Ç–æ **–ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±—Ä–∞—É–∑–µ—Ä–∞** –Ω–∞ –¥—Ä—É–≥–æ–π URL, ‚Äî —Å–∫–∞–∑–∞–ª –§–∏–ª–∏–Ω. ‚Äî –ü–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è –¥—Ä—É–≥–∞ –º—ã –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É —Å–æ —Å–ø–∏—Å–∫–æ–º –¥—Ä—É–∑–µ–π. `'friend-list-api'` ‚Äî –∏–º—è –º–∞—Ä—à—Ä—É—Ç–∞, –∫–æ—Ç–æ—Ä–æ–µ –º—ã –∑–∞–¥–∞–ª–∏ –≤ `urls.py`.

**–ü—è—Ç–∞—á–æ–∫** –∑–∞–º–µ—Ç–∏–ª:
‚Äî –ê –≥–¥–µ –ø—Ä–æ–≤–µ—Ä–∫–∞, —á—Ç–æ –∏–º—è –Ω–µ –ø—É—Å—Ç–æ–µ?

‚Äî –ü–æ–∫–∞ –Ω–µ—Ç –≤–∞–ª–∏–¥–∞—Ü–∏–∏, ‚Äî –ø—Ä–∏–∑–Ω–∞–ª –§–∏–ª–∏–Ω. ‚Äî –ú—ã –¥–æ–±–∞–≤–∏–º –µ—ë –≤ —Å–ª–µ–¥—É—é—â–µ–º —à–∞–≥–µ. –°–µ–π—á–∞—Å –≥–ª–∞–≤–Ω–æ–µ ‚Äî —á—Ç–æ–±—ã —Ñ–æ—Ä–º–∞ —Ä–∞–±–æ—Ç–∞–ª–∞.

---

**üíæ –ö–æ–º–º–∏—Ç–∏–º:**

```bash
git add .
git commit -m "–î–æ–±–∞–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è friend_create_form –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ HTML-—Ñ–æ—Ä–º—ã"
git push origin main
```